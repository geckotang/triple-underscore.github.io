<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<title>High Resolution Time Level 2（日本語訳）</title>

<link rel="stylesheet" href="common.css" type="text/css" />
<link rel="stylesheet" href="common-w3c.css" type="text/css" />
<script src="common0.js" ></script>
<script src="common1.js" async></script>

<script>
var source_data;

COMMON_DATA.page_state_key = '___TIMING';
COMMON_DATA.init = function(expanded){
	var options = {
//		original_url: 'https://www.w3.org/TR/hr-time-2/',
		original_url: 'https://w3c.github.io/hr-time/',
		spec_status: 'ED',
		main: 'MAIN',
		fill_text_link: '#_versions > dd, #references dd',
		alt_refs: 'references',
		ref_id_prefix: 'bib-',
//		ref_id_lowercase: true,
	};

	if(expanded) return options;

	source_data = {
		html: E('MAIN').innerHTML,
		link_map: Util.getMapping('_link_map'),
		toc_main: 'MAIN0',
		levels: '英語主体:英語寄り:漢字主体:カナ主体',
		level: 2,
		generate: expand
	};
	Util.switchWordsInit(source_data);

//	Util.del_j(); // checked: 160225 spec

	return options;
}

function expand(mapping1){

	var class_map = {
		l: 'literal',
		E: 'dom-error',
		tnote: 'trans-note'
	};

	var tag_map = {
		I: 'code',
		m: 'code',
		d: 'code',
		c: 'code',
		E: 'code',
		l: 'code',
		v: 'var',
		b: 'b',
		i: 'i',
		tnote: 'span'
	};

	var link_map = this.link_map;
	var nesting = '';
	E('MAIN').innerHTML = Util.replaceWords1(
		this.html.replace(
			/◎[^<◎]*|%[\w\u4E00-\u9FFF~]+|`(.+?)([$@\^])(\w*)/g,
			create_html
		),
		mapping1
	);

	function create_html(match, key, indicator, klass){


if(!key) {
	switch(match[0]){
	case '%':
		return '<var>' + match.slice(1) + '</var>';
	}//◎
	return '<span lang="en">' + match.slice(1) + '</span>';
}

var text = key;
var href = '';
var classname = class_map[klass];
var tag = tag_map[klass];

switch(klass){
case 'r': // ref
	text = '[' + key + ']';
	href = '#bib-' + key;
	break;
case 'l': // literal
	text = '"<code class="literal">' + text + '</code>"'
	break;
}

if(tag) {
	text = '<' + tag + (
		classname ? ' class="' + classname + '"' : ''
	) + '>' + text + '</' + tag + '>';
}


if(indicator !== '^'){
	href = link_map[klass ? (klass + '.' + key) : key] || href;
	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '$':
		text = '<a href="' + href + '">' + text + '</a>';
		break;
	case '@':
		text = '<dfn id="' + href.slice(1) + '">' + text + '</dfn>';
		break;
	}
}

return text;


	}
}

</script>


<!--% 訳文 id → 原文 id -->
<script type="text/plain" id="_original_id_map">
</script>

<!--%links
	HTML5:http://www.w3.org/TR/html51/
	High Resolution Time:http://www.w3.org/TR/hr-time/
	Web Workers:http://www.w3.org/TR/workers/
-->
<script type="text/plain" id="_link_map">
I.DOMHighResTimeStamp:#idl-def-domhighrestimestamp
I.DOMHighResTimeStamps:#idl-def-domhighrestimestamp
I.WorkerGlobalScope:~WORKERS#the-workerglobalscope-common-interface
	https://w3c.github.io/workers/#the-workerglobalscope-common-interface
I.GlobalPerformance:#idl-def-globalperformance
I.Performance:#idl-def-performance
I.DOMTimeStamp:~WEBIDL#common-DOMTimeStamp


	I.Window
	I.Worker
	I.SharedWorker
	I.ServiceWorker
I.EventTarget:~DOM4#eventtarget

m.GlobalPerformance.performance:#idl-def-globalperformance-performance
m.performance:#idl-def-globalperformance-performance
m.Performance.now():#dom-performance-now
m.now():#dom-performance-now
	m.serializer:#serializer



起点時刻:#time-origin
閲覧文脈が作成され:~BROWSERS#creating-a-new-browsing-context
公式的な作成時:~WORKERS#official-moment-of-creation

大域~obj:~WAPI#global-object
	~HTML5/webappapis.html#global-object
Window ~objの最新の Document ~obj:~BROWSERS#dom-document-2
~navi:~HTML5/browsers.html#navigate
prompt to unload:~HTML5/browsers.html#prompt-to-unload-a-document
</script>



<!--%置換 -->
<script type="text/plain" id="words_table1">
</script>

<!--%words -->
<script type="text/plain" id="words_table">

	●計時
時系列:chronological:~
時系列線:timeline:~
計時:timing:~
計測-:measure:~
計測:measurement:~
時間:time:~
時刻:time:~
起点時刻:time origin:~
現在時刻:current time:~
分解能:resolution:~
	精度:accurate to:~
	確度
時計:clock::~:クロック
milli:milli-::ミリ
	milliseconds
	sub-millisecond
micro:::マイクロ
	microseconds
	秒:seconds
	調整:skew/adjustment:~
	skew:::スキュー
system:::システム
単調増加:monotonic:~
単調増加-:monotonic に increase:~
減少-:decrease:~
	正確に:accurate に:~
正確:accurate:~
更新:update:~
	挿入:cue
frame:::フレーム
rate:::レート
計算-:calculate:~
精確:precise:~
経過-:elapse:~
暦:calendar:~
記録:record:~
格納-:store:~
変換-:translate:~
現在の:current:~
比較-:compare:~

	●
interface:::インタフェース
method:::メソッド
event:::イベント
task:::タスク
worker:::
instance:::インスタンス
直列化可能:serializable:~
直列化-:serialize:~
obj:object::オブジェクト
属性:attribute:~
型:type:~
演算:operation:~
構築-:contruct:~
大域:global::~:グローバル


特定の:specific:~
	開始時: 1
animation:::アニメーション
website:web site::ウェブサイト
script:::スクリプト
software:::ソフトウェア
entry:::エントリ
data:::データ
	文書~navi:navigating to a Document
hardware:::ハードウェア
navi:navigation:::ナビ
browser:::ブラウザ
dialog:::ダイアログ
offline:::オフライン
upload:::アップロード

資源取得:resources の fetching::資源取得:リソース取得
公式的:official:~
作成時:moment of creation:~
	大域オブジェクト:global object

実行:execution:~
実行-:execute:~
access:::アクセス
読込む:load する::読み込む:ロードする
設定-:set:~
開始-:start:~
確認-:confirm:~
確認:confirmation:~
表示-:display:~
識別-:identify:~
起動-:initiate:~
同期-:synchronize:~
作成-:create:~
関係-:relate:~
表現-:represent:~
決定-:determine:~


文書:document:~
	細かさに:minimum 
閲覧文脈:browsing context:~
音声:audio:~


相対的:relative:~
実行時の:runtime:~
処理能:performance:~
状態:state:~

	●保安
API:
cache:::キャッシュ
security:::セキュリティ
privacy:::プライバシー
scheduling:::スケジュール処理
page:::ページ
code:::コード
timer:::タイマー
counter:::カウンタ
情報:information:~
効果:effect:~
攻撃:attack:~
攻撃者:attacker:~
訪問-:visit:~
軽減-:mitigate :~
懸念:concern:~
	個々の:particular:特定の
統計的:statistical:~
指紋収集:fingerprinting:~
悪意的な:malicious:悪意のある
共通する:commonな:~
活動:activity:~
体験:experience:~
	可能にする:enables
検知-:detect:~
向上-:improve:~
正確性:accuracy:~
速度:speed:~
有意:significant:~
確保-:ensure:~
可用:available:~
公開-:expose:~
隔離-:isolate:~
応答性:responsiveness:~
協調-:coordinate:~
	部位:component:~
劣化:regressions:~
追跡-:track:~
	推測:guess and infer:~
解析:analysis:~
実用的:practical:~
音:sound:~
決定的:critical な:~
見積もり:estimates:~
	反復:repeat:~
	側からの:side channel
機密的:confidential:~
複雑さ:complexity:~
	~~基盤:primitives



	●仕様
app:application::アプリ
algo:algorithm::アルゴリズム
UA:user agent:UA
support:::サポート
version:::バージョン
任意選択:optional:~
適正:proper:~
歴史:history:~
利用者:user:~
要件:requirements:~
適合性:conformance:~
開発者:developer:~
実施:practice:~
推奨-:recommend:~
仕様:spec:~
定義-:define:~
定義:definition:~
有用:useful:~
純粋:genuine:~
課題:issue:~
未定義:undefined:~
	作業草案:Working Draft:~
提案-:propose:~
要約-:summarize:~
提供-:provide:~
解決-:resolve:~
導入-:introduce:~
拘束:constraints:~

</script>


<style >
dl.idl-def > dt {
	font-family: monospace0, monospace;
}
</style>

</head>

<body>

<div style="display:none;">
<input type="hidden" id="_page_config" value="" />
</div>


<aside class="trans-meta">
<h1>High Resolution Time Level 2 日本語訳</h1>
<p>
<a id="_THIS_PAGE">このページ</a>
は、
<a href="http://www.w3.org/">W3C</a> により
副題の日付にて編集者草案として公開された
<a id="_SPEC_URL">High Resolution Time</a>
を日本語に翻訳したものです。
<strong >この翻訳の正確性は保証されません。</strong>
この仕様の公式な文書は英語版であり、この日本語訳は公式のものではありません。
【 と 】で囲まれた部分は<span class="trans-note">【訳者による注釈】</span>です。
（<a href="index.html">他のウェブ関連仕様の一覧と共通機能の詳細</a>）
</p>

<p >
このページの大部分はスクリプトにより生成されています（
古いブラウザなど，一部のブラウザには対応していません：
<span id="_GENERATING"></span>）。
</p>

<p >
更新：<time>2016-10-07</time>
（公開：<time>2015-07-22</time> ）
</p>

<p>
本文ダブルクリックで当該箇所の原文が表示されます（左下隅に各種 表示切替ボタン — CSS や DOM の対応が古いブラウザでは、一部機能しないことがあります）。
</p>

<address id="_CONTACT">　</address>

</aside>

<header>

<a href="https://www.w3.org/" id="_W3C">W3C</a>
	<hgroup>
<h1>高分解能の計時 — High Resolution Time Level 2</h1>
<h2>2016 年 10 月 8 日付 W3C 編集者草案</h2>
	</hgroup>

<dl id="_versions">
	<dt title="This version:">このバージョン</dt>
	<dt title="Latest editor's Draft:">編集者草案</dt>
	<dd>https://w3c.github.io/hr-time/</dd>

	<dt title="Latest published version:">最新発行バージョン</dt>
	<dd>https://www.w3.org/TR/hr-time-2/</dd>

	<dt title="Editor:">編集</dt>
    <dd>Ilya Grigorik, Google Inc.,
<a href="mailto:igrgiroik@gmail.com">igrigorik@gmail.com</a></dd>
	<dd>James Simonsen, Google Inc.,
<a href="mailto:simonjam@google.com">simonjam@google.com</a> (Until January 2015)</dd>
	<dd>Jatinder Mann, Microsoft Corp.,
<a href="mailto:jmann@microsoft.com">jmann@microsoft.com</a> (Until February 2014)</dd>

	<dt>Repository:</dt>
	<dd><a href="https://github.com/w3c/hr-time/">We are on Github.</a></dd>
	<dd><a href="https://github.com/w3c/hr-time/issues">File a bug.</a></dd>
	<dd><a href="https://github.com/w3c/hr-time/commits/gh-pages/index.html">
Commit history.</a></dd>

	<dt>Mailing list:</dt>
	<dd><a href="https://lists.w3.org/Archives/Public/public-web-perf/">public-web-perf@w3.org</a></dd>

	<dt title="Implementation:">実装</dt>
	<dd><a href="http://caniuse.com/#feat=high-resolution-time">Can I use High Resolution Time?</a></dd>
	<dd><a href="http://w3c-test.org/hr-time/">Test Suite</a></dd>
	<dd><a href="https://github.com/w3c/web-platform-tests/tree/master/hr-time">Test Suite repository</a></dd>

</dl>

<small class="copyright">
<a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> ©
2016
<a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup>
(<a href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
<a href="https://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
<a href="https://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). 
<abbr title="World Wide Web Consortium">W3C</abbr> <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
<a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
<a href="https://www.w3.org/Consortium/Legal/copyright-documents">document use</a>
rules apply.
</small>

</header>


<div id="MAIN" style="display:none;">

	<section id="abstract">
<h2 title="Abstract">要約</h2>

<p>
この仕様は、［
~milli秒より細かい†時間~分解能であって, かつ
~system時計~調整††の対象にされないような，現在時刻
］を供する~APIを規定する。
◎
This specification defines an API that provides the current time in sub-millisecond resolution and such that it is not subject to system clock skew or adjustments.
</p>

<p class="trans-note">【†
“sub-millisecond” ：
概念的には ~milli秒より（少なくとも一桁は）細かい分解能を表す語として，この仕様を通して用いられているが、具体的には
<a href="#desired-resolution" >~micro秒~単位の分解能</a>
が念頭に置かれている。
】【††
“skew or adjustments”
この訳では総称して，単に “調整” と記すことにする。
概念的には， NTP などの外部の時刻と局所的な~system時計とのずれを補正することを指すと思われるが、 skew と adjustments に どの様な差異があるのかは不明。
】</p>


	</section>

	<section id="sotd">
<h2 title="Status of This Document">この文書の位置付け</h2>

<p>
これは編集者草案の公開の複製です…
<!-- 
この節では、発行時点における…
-->
<span class="trans-note">【
以下、この節の他の内容は
<a href="w3c-common-ja.html#status" >W3C 日本語訳 共通ページ</a>
に委譲
】</span></p>


<p>
High Resolution Time Level 2 は、最初の~versionである High Resolution Time `HR-TIME$r を置き換え、次を含む：
◎
High Resolution Time Level 2 replaces the first version of High Resolution Time [HR-TIME] and includes:
</p>

<ul>
	<li>
処理能~時系列線に関係する すべての仕様の目的に，`起点時刻$を精確に定義する。
◎
Defines a precise definition of time origin for the purpose of all performance timeline related specifications;
</li>
	<li>
`Performance$I ~interfaceに対し、
Web Workers `WORKERS$r における `Performance.now()$m ~methodの~supportも含めた，基底をなす定義を提供する。
◎
Provides the base definition for the Performance interface, including support for the Performance.now method in Web Workers [WORKERS];
</li>
	<li>
~cache攻撃を軽減するため、
`Performance$I ~interfaceには、推奨される分解能として， 5 ~micro秒までの細かさに設定されるべきである。
◎
To mitigate cache attacks, the recommended minimum resolution of the Performance interface should be set to 5 microseconds.
</li>
</ul>

<p>
この文書は
<a href="https://www.w3.org/webperf/">Web Performance</a>
Working Group により発行されました。
<!-- 編集者草案として／作業草案として -->
◎
 This document was published by the Web Performance Working Group as an Editor's Draft. If you wish to make comments regarding this document, please send them to public-web-perf@w3.org (subscribe, archives) with [hr-time] at the start of your email's subject. All comments are welcome. 
</p>


<p>
コメントがあれば、件名の先頭に
<samp>[HighResolutionTime]</samp>
と記した上で
<a href="mailto:public-web-perf@w3.org?subject=%5BHighResolutionTime%5D%20">public-web-perf@w3.org</a>
(<a href="https://lists.w3.org/Archives/Public/public-web-perf/">archived</a>)
宛まで送られるよう願います。
◎
Please send comments to public-web-perf@w3.org (archived) with [HighResolutionTime] at the start of the subject line.
</p>


	</section>

<main id="MAIN0">

	<section id="introduction">
<h2 title="Introduction">1. 序論</h2>

~INFORMATIVE

<p>
ECMAScript 言語~仕様
`ECMA-262$r
は、 1970 年 1 月 1 日 UTC からの~milli秒~単位による時間を表現する時刻~値として， Date ~objを定義する。
ほとんどの目的においては、この，~milli秒~単位の値で 1970 年 1 月 1 日 UTC から約 28 万 5616 年間の，どの時刻も表現し得る定義で足りる。
`DOMTimeStamp$I も同様に定義されている。
`WebIDL$r
◎
The ECMAScript Language specification [ECMA-262] defines the Date object as a time value representing time in milliseconds since 01 January, 1970 UTC. For most purposes, this definition of time is sufficient as these values represent time to millisecond precision for any instant that is within approximately 285,616 years from 01 January, 1970 UTC. The DOMTimeStamp is defined similarly [WebIDL].
</p>

<p>
実施において，これらの定義による時刻は、~system時計~調整の対象にもなる。
時刻~値は常に単調増加するとは限らず，後続の値が減少する, もしくはそのまま変わらないこともある。
◎
In practice, these definitions of time are subject to both clock skew and adjustment of the system clock. The value of time may not always be monotonically increasing and subsequent values may either decrease or remain the same.
</p>

<div class="example">
<p>
例えば，次の~scriptは、正の値, 負の値, ゼロを出力し得る。
◎
For example, the following script may log a positive number, negative number, or zero.
◎
Example 1
</p>

<pre>
var %mark_start = Date.now();
runSomeApplicationTask();

if (window.console) {
   window.console.log('Duration of task: ' + (Date.now() - %mark_start));
}
</pre>

</div>

<p>
この定義による時刻では、~milli秒より細かい分解能はなく, ~system時計~調整の対象になるので、ある種の~taskには不足する。
例えば，
◎
For certain tasks this definition of time may not be sufficient as it does not allow for sub-millisecond resolution and is subject to system clock skew. For example,
</p>


<ul>
	<li>
<p>
文書~navi, 資源取得, ~scriptの実行
などに要した時間を正確に計測しようとする際に、~milli秒より細かい分解能の 単調増加する時計が望まれる。
◎
When attempting to accurately measure the elapsed time of navigating to a Document, fetching of resources or execution of script, a monotonically increasing clock with sub-millisecond resolution is desired.
</p>
	</li>
	<li>
<p>
~scriptから~animationの状態を計算する際には、開発者は，~animationを次の場面へ適正に更新するために，~animation内で経過した時間の長さを正確に知る必要がある。
◎
When calculating the animation state from script, developers will need to accurately know the amount of time that has elapsed in the animation in order to properly update the next scene of the animation.
</p>
	</li>
	<li>
<p>
~scriptに基づく~animationの~frame~rateを計算する際には、開発者は，~animationが 60 FPS で描画されているかどうか決定するために、~milli秒より細かい分解能が必要になる。
分解能が~milli秒より細かくなければ、 58.8 FPS と 62.5 FPS を区別するのが限界になる。
<span class="trans-note">【
１~frameあたり前者が 1/58.8 = 約 0.017 秒, 後者は 0.016 秒で，その差 1/1000 秒
】</span>
◎
When calculating the frame rate of a script based animation, developers will need sub-millisecond resolution in order to determine if an animation is drawing at 60 FPS. Without sub-millisecond resolution, a developer can only determine if an animation is drawing at 58.8 FPS or 62.5 FPS.
</p>
	</li>
	<li>
<p>
音声を~animationの中の特定の時点に挿入したり, ~animationに同期させるためには、開発者は，~animationと音声において経過した時間の長さを正確に知る必要がある。
◎
In order to cue audio to a specific point in an animation or ensure that the audio is synchronized with the animation, developers will need to accurately know the amount of time elapsed in the animation and audio.
</p>
	</li>
</ul>

<p>
この仕様は <code>Date.now()</code> `ECMA-262$r
のふるまいの変更を提案するものではない。
それは、暦における現在の時刻~値を決定する点においては純粋に有用であり，長い利用の歴史がある。
~milli秒より細かい分解能で単調増加する時刻~値を供する
`DOMHighResTimeStamp$I
型と
`Performance$I ~interfaceの `Performance.now()$m ~methodが、この節に要約された課題を解決するものになる。
◎
This specification does not propose changing the behavior of Date.now() [ECMA-262] as it is genuinely useful in determining the current value of the calendar time and has a long history of usage. The DOMHighResTimeStamp type and the Performance.now method of the Performance interface resolve the issues summarized in this section by providing a monotonically increasing time value in sub-millisecond resolution.
</p>

		<section id="examples">
<h3 title="Examples">1.1. 例</h3>

~INFORMATIVE

<p>
開発者は、自身の~appにおける高~分解能な時系列線を記録して，更なる~offline解析のために報告できる。
◎
A developer can record and report a high-resolution timeline of their application for further offline analysis.
</p>

<p class="trans-note">【†
時系列線（ timeline ）：
生じた~eventをその時刻とともに時系列順に記録するもの。
】</p>


<div class="example">
Example 2

<pre>
var %task_start = performance.now();
runSomeApplicationTask();
var %task_end = performance.now();

/* <span class="comment">
実行時の処理能~dataを~uploadするために、開発者が提供した~method：
◎
developer provided method to upload runtime performance data
</span> */

reportEventToAnalytics({
  'task': 'Some document task',
  'start_time': %task_start,
  'duration': %task_end - %task_start
});

</pre>

</div>

		</section>
	</section>
	<section id="conformance">
<h2 title="Conformance">2. 適合性</h2>

<p class="trans-note">【
この節の内容は
<a href="w3c-common-ja.html#conformance" >W3C 日本語訳 共通ページ</a>
に委譲
】</p>

	</section>
	<section id="time-origin-1">
<h2 title="Time Origin">3. 起点時刻</h2>

<p>
`起点時刻@（ time origin ）とは、時間を計測する起点になる時刻~値であり，次で定義される：
◎
The time origin is the time value from which time is measured:
</p>

<ul>
	<li>
<p>
`大域~obj$ `HTML51$r
が `Window^I ~objの場合：
`起点時刻$は，次に等しくされ~MUST：
◎
If the global object [HTML51] is a Window object, the time origin must be equal to:
</p>
		<ul>
			<li>
前の文書がない場合：
最初に`閲覧文脈が作成され$た時刻。
◎
the time when the browsing context is first created if there is no previous document;
</li>
			<li>
他の場合， `prompt to unload$ ~algoの間に利用者に確認~dialogが表示された場合：
利用者が~naviを確認した時刻。
◎
otherwise, the time of the user confirming the navigation if a confirmation dialog is displayed during the prompt to unload algorithm;
</li>
			<li>
他の場合：
`Window ~objの最新の Document ~obj$
を読込む責を負う`~navi$を開始した時刻
◎
otherwise, the time of starting the navigation responsible for loading the Window object's newest Document object.
</li>
		</ul>
	</li>

	<li>
`大域~obj$が `WorkerGlobalScope$I ~objである場合：
`起点時刻$は，~workerの`公式的な作成時$に等しくされ~MUST。
`WORKERS$r
`SERVICE-WORKERS$r
◎
If the global object is a WorkerGlobalScope object, the time origin must be equal to the official moment of creation of the worker. [WORKERS] [SERVICE-WORKERS]
</li>

	<li>
他の場合の`起点時刻$は、未定義である。
◎
Otherwise, the time origin is undefined.
</li>
</ul>


	</section>
	<section id="dom-domhighrestimestamp">
<h2 title="The DOMHighResTimeStamp Type">4. `DOMHighResTimeStamp^I 型</h2>

<p>
`DOMHighResTimeStamp$I 型は、［
`起点時刻$から相対的に計測された時刻~値
］, あるいは［
２つの `DOMHighResTimeStamp$I 間の時間~差を表現する時刻~値
］を格納するために利用されるものである。
◎
The DOMHighResTimeStamp type is used to store a time value measured relative from the time origin or a time value that represents a duration between two DOMHighResTimeStamps.
</p>


<pre class="idl">
typedef double `DOMHighResTimeStamp@I;
</pre>

<p id="desired-resolution">
`DOMHighResTimeStamp$I
は、~milli秒~単位による時間を 5 ~micro秒の精度で表現するべきである。
<a href="#privacy-security">~privacyと~security</a>
節を見よ。
◎
A DOMHighResTimeStamp SHOULD represent a time in milliseconds accurate to 5 microseconds - see 8. Privacy and Security.
</p>

<p class="note">注記：
~UAは、~hardwareまたは~software上の拘束から， 5 ~micro秒の精度の時刻~値を供することができない場合には、
`DOMHighResTimeStamp$I を~milli秒~精度による時間として，表現できる。
◎
Note
◎
If the User Agent is unable to provide a time value accurate to 5 microseconds due to hardware or software constraints, the User Agent can represent a DOMHighResTimeStamp as a time in milliseconds accurate to a millisecond.
</p>



	</section>
	<section id="the-performance-interface">
<h2 title="The Performance interface">5. `Performance^I ~interface</h2>


<pre class="idl">
[Exposed=(Window,Worker)]
interface `Performance@I : `EventTarget$I {
    `DOMHighResTimeStamp$I `now()$m;
    serializer = {attribute};
};
</pre>

<dl id="methods">
	<dt>`now()@m</dt>
	<dd>
<p>
この~methodは、 `起点時刻$から，この~methodの呼び出しが生じた時点までの~milli秒~数を表現する，
`DOMHighResTimeStamp$I
を返さ~MUST。
◎
The now() method MUST return a DOMHighResTimeStamp representing the time in milliseconds from the time origin to the occurrence of the call to the Performance.now method.
</p>

	</dd>
</dl>

	</section>
	<section id="the-performance-attribute">
<h2 title="The performance attribute">6. `performance^m 属性</h2>

<p>
`GlobalPerformance.performance$m 属性は、
`大域~obj$からの，［
処理能に関係する 属性と~method
］へ~accessできるようにする。
◎
The GlobalPerformance.performance attribute allows access to performance related attributes and methods from the global object.
</p>

<pre class="idl">
[NoInterfaceObject,
Exposed=(Window,Worker)]
interface `GlobalPerformance@I {
    [Replaceable]
    readonly    attribute `Performance$I `performance@m;
};

Window implements `GlobalPerformance$I;

`WorkerGlobalScope$I implements `GlobalPerformance$I;
</pre>

	</section>
	<section id="monotonic-clock">
<h2 title="Monotonic Clock">7. 単調増加~時計</h2>
<p>
同じ`起点時刻$を伴う
`Performance$I ~obj上で `Performance.now()$m ~methodを呼び出した際に返される時刻~値は、単調増加し~MUST
— ~system時計~調整の対象にされては~MUST_NOT。
`Performance.now()$m ~methodから返されるどの２つの時刻~値についても、
２つの値の`起点時刻$が同じならば、より未来の call から返される値は，より過去の call から返される値 以上で~MUST。
◎
The time values returned when calling the Performance.now method on Performance objects with the same time origin MUST be monotonically increasing and not subject to system clock adjustments or system clock skew. The difference between any two chronologically recorded time values returned from the Performance.now method MUST never be negative if the two time values have the same time origin.
</p>

	</section>
	<section id="privacy-security">
<h2 title="Privacy and Security">8. ~privacyと~security</h2>

<p>
正確な計時~情報への~accessは、計測と~scheduling 両~目的において，多くの~appに共通する要件である。
例えば， ~animation, 音, その他の~page上の活動を協調させ，より良い利用者~体験を提供するためには、高~分解能の時間への~accessを要する。
同様に，計測により、開発者は，
決定的~code部位の処理能や, 劣化を検知する, 等々
を追跡-可能になる。
◎
Access to accurate timing information, both for measurement and scheduling purposes, is a common requirement for many applications. For example, coordinating animations, sound, and other activity on the page requires access to high-resolution time to provide a good user experience. Similarly, measurement enables developers to track the performance of critical code components, detect regressions, and so on.
</p>

<p>
しかしながら、その同じ正確な計時~情報への~accessは、さもなければ攻撃者が見たり~accessできない~dataを推測可能にするような，悪意的な攻撃~目的にも利用され得る。
例えば~cache攻撃と統計的~指紋収集（ statistical fingerprinting ）は、悪意的な~websiteが，［
~browserや~appから起動される種々の演算による，高~分解能の計時~data
］を［
利用者たちを分別したり, 場合によっては個々の利用者を識別する
］ために利用し得るときの、~privacyと~security上の懸念である
— `CACHE-ATTACKS$r を見よ。
◎
However, access to the same accurate timing information can sometimes be also used for malicious purposes by an attacker to guess and infer data that they can't see or access otherwise. For example, cache attacks and statistical fingerprinting is a privacy and security concern where a malicious web site may use high resolution timing data of various browser or application-initiated operations to differentiate between subset of users, and in some cases identify a particular user - see [[CACHE-ATTACKS]].
</p>


<p>
この仕様は、これまで `DOMTimeStamp$I に公開され可用であった~milli秒の分解能より正確な，より細かい時間~分解能を提供する~APIを定義する。
しかしながら，この新たな~APIがなくとも、攻撃者は，~~反復~実行と統計的~解析を通して，高~分解能の見積もりを得ることはできる。
新たな~APIにより，そのような攻撃の正確性や速度が有意に向上されないことを確保するため、
`Performance$I ~interfaceには，分解能を 5 ~micro秒までの細かさに止めることが推奨される。
◎
This specification defines an API that provides sub-millisecond time resolution, which is more accurate than the previously available millisecond resolution exposed by DOMTimeStamp. However, even without this new API an attacker may be able to obtain high-resolution estimates through repeat execution and statistical analysis. To ensure that the new API does not significantly improve the accuracy or speed of such attacks, the recommended minimum resolution of the Performance interface should be set to 5 microseconds.
</p>

<p>
そのような計時~側からの攻撃を，まるごと軽減するような実施は、可能でない：
そのためには、すべての演算の実行~時間は，機密的~情報の値により変わらないようにするか、~appを，時間に関係するあらゆる~~基盤（時計, ~timer, ~counter, 等々）から隔離する必要があるが、いずれも
~browserと~app開発者に関わる複雑さや，処理能への負の効果, ~appの応答性に関わるものであり、実用的でない。
◎
Mitigating such timing side channel attacks entirely is practically not possible: either all operations would have to execute in a time that does not vary based on the value of any confidential information, or, the application would need to be isolated from any time-related primitives (clock, timers, counters, etc). Neither is practical due to the associated complexity for the browser and application developers and the associated negative effects on performance and responsiveness of applications.
</p>


	</section>

</main></div><!-- id="MAIN" -->


	<section id="acknowledgments">
<h2 title="Acknowledgments">A. 謝辞</h2>

<p>
次の方々によるこの仕事への寄与に感謝する：
</p>

<p>
The editors would like to thank the following people for contributing to this specification: Karen Anderson, Nat Duca, Tony Gentilcore, Arvind Jain, Jason Weber, Boris Zbarsky, Yossef Oren, Vasileios P. Kemerlis, Simha Sethumadhavan, and Angelos D. Keromytis to acknowledge their contributions to this work.
</p>
	</section>


	<section id="references">
<h2 title="References">B. 参照文献</h2>

		<section id="normative-references">
<h3 title="Normative references">B.1. 文献（規範）</h3>


<dl class="bibliography" resource="">

	<dt>[HTML51]</dt>
	<dd>Steve Faulkner; Arron Eicholz; Travis Leithead; Alex Danilo. W3C. HTML 5.1. 21 June 2016. W3C Candidate Recommendation.</dd>
	<dd>https://www.w3.org/TR/html51/</dd>

	<dt>[RFC2119]</dt>
	<dd>S. Bradner. IETF. Key words for use in RFCs to Indicate Requirement Levels. March 1997. Best Current Practice.</dd>
	<dd>https://tools.ietf.org/html/rfc2119</dd>

	<dt>[SERVICE-WORKERS]</dt>
	<dd>Alex Russell; Jungkee Song; Jake Archibald. W3C. Service Workers. 25 June 2015. W3C Working Draft.</dd>
	<dd>https://www.w3.org/TR/service-workers/</dd>

	<dt>[WORKERS]</dt>
	<dd>Ian Hickson. W3C. Web Workers. 24 September 2015. W3C Working Draft.</dd>
	<dd>https://www.w3.org/TR/workers/</dd>

	<dt>[WebIDL]</dt>
	<dd>Cameron McCormack; Boris Zbarsky. W3C. WebIDL Level 1. 15 September 2016. PR.</dd>
	<dd>https://www.w3.org/TR/WebIDL-1/</dd>
</dl>


		</section>
		<section id="informative-references">
<h3 title="Informative references">B.2. 文献（参考）</h3>


<dl class="bibliography" resource="">

	<dt>[CACHE-ATTACKS]</dt>
	<dd>Yossef Oren; Vasileios P. Kemerlis; Simha Sethumadhavan; Angelos D. Keromytis. The Spy in the Sandbox - Practical Cache Attacks in Javascript. March 2015.</dd>
	<dd>http://arxiv.org/abs/1502.07373</dd>

	<dt>[ECMA-262]</dt>
	<dd>Ecma International. ECMAScript Language Specification.</dd>
	<dd>https://tc39.github.io/ecma262/</dd>

	<dt>[HR-TIME]</dt>
	<dd>Jatinder Mann. W3C. High Resolution Time. 17 December 2012. W3C Recommendation.</dd>
	<dd>https://www.w3.org/TR/hr-time/</dd>

</dl>

		</section>
	</section>

</body>
</html>

