<!DOCTYPE html>
<html lang="ja"><head>

<meta charset="utf-8">
<title>CSS Namespaces Module Level 3 （日本語訳）</title>

<meta name="keywords" content="名前空間,namespace,CSS,仕様,W3C">

<link rel="stylesheet" href="common.css" type="text/css" />
<link rel="stylesheet" href="common-css.css" type="text/css" />
<script src="common0.js" ></script>
<script src="common1.js" async></script>

<script >
var source_data;

COMMON_DATA.init = function(expanded){

//	Util.del_j(); //checked 140320-spec

	return {
		original_url: 'https://drafts.csswg.org/css-namespaces/',
		spec_status: 'ED',
		main: 'MAIN',
		fill_text_link: '#_versions > dd, #references dd',
		toc: 'contents',
		alt_refs: 'references',
		ref_id_prefix: 'biblio-',
		ref_id_lowercase: true,
		word_switch: 'replace_table'
	};

}
</script>

<!--% 訳文 id → 原文 id -->
<script type="text/plain" id="_original_id_map">
at-ruledef-namespace:
null-namespace:
namespace-declaration:

namespace_prefix:
qname_prefix:
wqname_prefix:
qname:
wqname:
wqwname:
</script>

<!--%語彙 -->
<script type="text/plain" id="replace_table">
アスタリスク:asterisk
エラー:error
クライアント:client
コメント:comment
サポート:support
視野:scope
スタイルシート:style sheet
スタイル規則:style rule
トークン:token
ファイル:file
プロパティ:property
ホスト:host
マークアップ:markup
モジュール:module
リテラル:literal
ワイルドカード:wildcard
インタープリタ:interpreter
意味論:semantics
不適合:nonconforming
仕様:spec
値:value
制約-:restrict
	先行-:precede
照合-:match
合致-:match
名前:name
名前空間 接頭辞:namespace prefix
名前空間:namespace
名前空間修飾付きの:namespace-qualified
名前空間名:namespace name
型:type
妥当:valid
定義-:define
定義:definition
実装-:implement
実装:implementation
宣言-:declare
宣言:declaration
宣言法:declaring
局所名:local name
展開名:expanded name
属性:attribute
形成-:form
成分:component
指示-:indicate
接頭辞:prefix
文字列:string
文書:document
文書言語:document language
文法:grammar
文脈:context
既定:default
明示的:explicit
暗黙的:implicit
有修飾名:qualified name
未宣言:undeclared
構成子:construct
構文:syntax
構文上:syntactic
構文的:syntactical
生成規則:production
前方互換:forward-compatible
構文解析:parse
構文解析規則:parsing rule
	構文解析法:parsing
無修飾名:unqualified name
正規化:normalization
無効:invalid
無視:ignore
省略-:omit
空文字列:empty string
空白:white space
等価:equivalent
草案:draft
表現-:represent
要件:requirements
要素:element
規則:rule
解釈-:interpret
言語:language
記法:notation
認識-:recognize
適合-:conform
適合性:conformance
許容-:allow
適用-:apply
選択子:selector
縦線:vertical bar
変更点:changes
大小:case
	大小 区別:case-sensitive
利用者エージェント:user agent
束縛:bind
具現化法:rendering
	導入-:introduce
	新たな:new
	最後の:last
	注記:note
	現れる:appears
	利用して:using
	包含して:containing
	直後:immediately after
	参照-:reference

	 1:actual
	 1:adds
	 1:alone
	 1:besides
	 1:charset
	 1:claim
	 1:classes
	併用:using 〜 in conjunction with
	 1:considered
	 1:consisting
	述べ:describe
	 1:differently
	許容されない:disallow
	import／imported／importing
	 1:kinds
	 1:lack
	属する:located within
	 1:made
	 1:make
	規範として:normatively
	 1:null
	 1:part
	 1:portion
	満たす:satisfies
	区切る:separate
	 1:taken
	用語:terminology
	語:terms
	 2.001:follow
	 2.001:mean
	 2:contributed
	 2:defaulted
	 2:following
	正しく 2:properly
	2 番目の:second
	possibly:
	あてがう:assign
	メンバ:member
	不正な書式 1:malformed
	与えられ:given
	使役-:employ
	例:example
	依存-:depend
	冒頭に:beginning
	別の:another
	利用-:use
	利用され:used
	前置-:prepend
	区切り:delimiting
	取り扱い法:handling
	含んで:including
	完全:complete
	属する:belongs
	慎重:deliberate
	扱う:treat
	最初の:first
	特有の:specific
	独立:independent
	現在の:current
	組:tuple
	結び付けられる:associated
	結び付ける:associates
	要求-:require
	誤った場所:misplaced
	誤って:incorrectly
	選ばれ:chosen
	重要:significant
</script>

</head>


<body>

<aside class="trans-meta">
<h1>CSS Namespaces Module Level 3 日本語訳</h1>
<p>
<a id="_THIS_PAGE">このページ</a>
は、
<a href="http://www.w3.org/">W3C</a> により副題の日付にて
<strong >編集者草案</strong>として公開された
<a href="https://drafts.csswg.org/css-namespaces/">CSS Namespaces Module Level 3</a>
を日本語に翻訳したものです（内容はリンク修正を除いて
<a href="http://www.w3.org/TR/css-namespaces-3/">勧告</a>
と同じ）。
<strong >この翻訳の正確性は保証されません。</strong>
この仕様の公式な文書は英語版であり、この日本語版は公式のものではありません。
【 と 】で囲まれた部分は<span class="trans-note">【訳者による注釈】</span>です。
（<a href="index.html">他のウェブ関連仕様の一覧と共通機能の詳細</a>）
</p>

<p >
更新：<time>2016-02-03</time>
（公開：<time>2014-05-24</time> ）
</p>

<p>
本文ダブルクリックで当該箇所の原文が表示されます（左下隅に各種 表示切替ボタン — CSS や DOM の対応が古いブラウザでは、一部機能しないことがあります）。
</p>

<address id="_CONTACT">　</address>
</aside>


<header>
<div><a href="http://www.w3.org/" id="_W3C">W3C</a></div>

<h1 id="title">CSS における名前空間の利用 — CSS Namespaces Module Level 3</h1>

<h2 id="subtitle" >2016 年 1 月 31 日付 編集者草案</h2>


<dl id="_versions">
	<dt title="This version:">このバージョン</dt>
	<dd>https://drafts.csswg.org/css-namespaces/ </dd>

	<dt title="Latest version:">最新発行バージョン</dt>
	<dd>https://www.w3.org/TR/css-namespaces-3/</dd>

	<dt title="Previous version:">以前のバージョン</dt>
	<dd>https://www.w3.org/TR/2014/REC-css-namespaces-3-20140320/</dd>
	<dd>https://www.w3.org/TR/2011/REC-css3-namespace-20110929/</dd>
	<dd>https://www.w3.org/TR/2011/PR-css3-namespace-20110811/</dd>
	<dd>https://www.w3.org/TR/2008/CR-css3-namespace-20080523/</dd>
<!-- 
	<dt title="Editor’s Draft:">編集者草案</dt>
	<dd>http://www.w3.org/TR/2014/REC-css-namespaces-3-20140320/</dd>
	<dd>http://www.w3.org/TR/2011/REC-css3-namespace-20110929/</dd>
-->
	<dt title="Test suite:">テスト一式</dt>
	<dd>http://test.csswg.org/suites/css3-namespace/20090210/</dd>

	<dt title="Issue Tracking:">最新の課題</dt>
	<dd><a href="https://github.com/w3c/csswg-drafts/issues/">GitHub</a></dd>

	<dt title="Editors:">編集</dt>
	<dd><a href="http://fantasai.inkedblade.net/contact">Elika J. Etemad / fantasai</a> (Invited Expert)</dd>

	<dt title="Former Editors:">前任編集者</dt>
	<dd>Anne van Kesteren (Opera Software ASA)</dd>
	<dd>Peter Linss (Netscape Communications)</dd>
	<dd>Chris Lilley (W3C)</dd>
</dl>

<small class="copyright">
<a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>
© 2016
<a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup>
(
<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
<a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
<a href="http://www.keio.ac.jp/">Keio</a>,
<a href="http://ev.buaa.edu.cn/">Beihang</a>
).
W3C
<a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
<a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a>
and
<a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a>
rules apply.
</small>

</header>


	<section id="abstract">
<h2 title="Abstract">要約</h2>
<p>
CSS Namespaces モジュールは、 CSS において名前空間を利用するための構文を定義する。
それは、<a>既定の名前空間</a>を宣言するための, および
名前空間を<a>名前空間 接頭辞</a>に束縛するための，
<a>@namespace</a> 規則を定義し、他の仕様がそれらの接頭辞を 名前空間修飾付きの<!--1-->名前に取り入れるための構文を定義する。
<a href="http://www.w3.org/TR/CSS/">CSS</a>
は、（ HTML や XML などの）構造を備える文書から，
スクリーン, 紙, スピーチ, 等々
の媒体への具現化法を記述するための言語である。
<span lang="en">
This CSS Namespaces module defines the syntax for using namespaces in CSS. It defines the @namespace rule for declaring the default namespace and binding namespaces to namespace prefixes, and it also defines a syntax that other specifications can adopt for using those prefixes in namespace-qualified names. CSS is a language for describing the rendering of structured documents (such as HTML and XML) on screen, on paper, in speech, etc.
</span></p>
	</section>

	<section id="status">
<h2 title="Status of this document">この文書の位置付け</h2>

<p>
この節では、発行時点における…
<span class="trans-note">【
以下，この節の他の内容は
<a href="css-common-ja.html#status" >CSS 日本語訳 共通ページ</a>
に委譲
】</span></p>

	</section>

<nav id="contents" class="toc">
<h2 title="Table of Contents">目次</h2>

<!--  --></nav>


<main id="MAIN">

	<section id="intro">
<h2 title="Introduction">1. 序論</h2>

<p>
<em>この節は参考である。</em>
<span lang="en">
This section is non-normative.
</span></p>

<p>
この仕様は、 CSS において名前空間を利用するための構文を定義する。
この仕様は、<a>既定の名前空間</a>を宣言するための, および
名前空間を<a>名前空間 接頭辞</a>に束縛するための、 <a>@namespace</a> 規則を定義する。
また、それらの接頭辞を利用して，名前空間修飾付きの<!--1-->名前を表現するための構文も，定義する。
この仕様は、その種の名前が どのような場所で妥当に用い得るかや, それらの意味を定義するものではない
— それらは，その種の名前が用いられる文脈に依存するものであり、
Selectors （ <a>[SELECT]</a> ）などの，この仕様にて定義される構文を参照するホスト言語により，定義される。
<span lang="en">
This CSS Namespaces module defines syntax for using namespaces in CSS. It defines the @namespace rule for declaring a default namespace and for binding namespaces to namespace prefixes. It also defines a syntax for using those prefixes to represent namespace-qualified names. It does not define where such names are valid or what they mean: that depends on their context and is defined by a host language, such as Selectors ([SELECT]), that references the syntax defined in the CSS Namespaces module.
</span></p>

<p>
このモジュールをサポートしない CSS クライアントは、（それが
<a href="https://www.w3.org/TR/CSS21/syndata.html#parsing-errors">CSS の前方互換 構文解析規則</a>に正しく適合しているなら，）すべての
<a>@namespace</a> 規則, および
<a>CSS 有修飾名</a>を利用するすべてのスタイル規則を<a>無視</a>することになることに注意。
CSS における［
<a>名前空間 接頭辞</a>の区切り法
］の構文は、その種の CSS クライアントが，そのようなスタイル規則を 誤って何かと照合することなく，<a>無視</a>することになるように、慎重に選ばれている。
<span lang="en">
Note that a CSS client that does not support this module will (if it properly conforms to CSS’s forward-compatible parsing rules) ignore all @namespace rules, as well as all style rules that make use of namespace qualified names. The syntax of delimiting namespace prefixes in CSS was deliberately chosen so that these CSS clients would ignore the style rules rather than possibly match them incorrectly.
</span></p>

	</section>
	<section id="conformance">
<h2 title="Conformance">2. 適合性</h2>

<p>
文書や実装は，直接的には この仕様への適合性は定義されないが、この仕様を規範として参照する［
CSS あるいは別のホスト言語
］を実装するにあたって，この仕様への適合性の要件を満たすならば、適合するものとなり得る。
<span lang="en">
A document or implementation cannot conform to CSS Namespaces alone, but can claim conformance to CSS Namespaces if it satisfies the conformance requirements in this specification when implementing CSS or another host language that normatively references this specification.
</span></p>

  <p>
この仕様への適合性を定義し得る主体は、次の２つに分類される：
<span lang="en">
Conformance to CSS Namespaces is defined for two classes:
</span></p>

<dl>
	<dt><dfn id="style-sheet">スタイルシート</dfn></dt>
	<dd><p>
<a href="css-common-ja.html#style-sheet">CSS スタイルシート</a> （または，この仕様を規範として参照する別のホスト言語の完全な unit ）。
<span lang="en">
A CSS style sheet (or a complete unit of another host language that normatively references CSS Namespaces).
</span></p></dd>

	<dt><dfn id="interpreter">インタープリタ</dfn></dt>
	<dd><p>
スタイルシート意味論を解釈する主体（ CSS
<a href="css-common-ja.html#user-agent">利用者エージェント</a>
は，こちらに分類される。）
<span lang="en">
Someone or something that interprets the semantics of a style sheet. (CSS user agents fall under this category.)
</span></p></dd>

</dl>

<p class="trans-note">【
以下、この節の内容は
<a href="css-common-ja.html#document-conventions" >CSS 日本語訳 共通ページ（表記規約）</a>
に委譲
】</p>

		<section id="terminology">
<h3 title="Terminology">2.1. 用語</h3>

<p>
この仕様にて導入される語とは別に、この仕様は，
XML 名前空間 1.0 <a>[XML-NAMES]</a>
にて定義される用語も利用する。
しかしながら，ここで定義される構文は、［
XML 要素や XML 属性
］の名前を表現するものに制約されず，ホスト言語により定義される他の種類の名前空間も 表現し得る。
<span lang="en">
Besides terms introduced by this specification, CSS Namespaces uses the terminology defined in Namespaces in XML 1.0. [XML-NAMES] However, the syntax defined here is not restricted to representing XML element and attribute names and may represent other kinds of namespaces as defined by the host language.
</span></p>

<p>
この仕様 — CSS Namespaces — においては、空文字列による名前空間名は，
<dfn id="null-namespace">null 名前空間</dfn>
と見なされ，名前空間がないことを表現する。
<span lang="en">
In CSS Namespaces a namespace name consisting of the empty string is taken to represent the null namespace or lack of a namespace.
</span></p>

<p class="trans-note">【
この訳では、名前が どの名前空間にも属さないことを，一律に
<dfn>null 名前空間に属する</dfn>
と記す。
実際の所， null 名前空間は、（形式上は，正当な名前空間として許容されていないが）単に
“空文字列で表現される名前空間”
と定義した方が，仕様の記述は単純になる様に見受けられる。
】</p>


<div class="example">
<p>
次の宣言が与えられたとするとき：
<span lang="en">
For example, given the namespace declarations:
</span></p>

<pre>
@namespace empty "";
@namespace "";
</pre>

<p>
<a>型 選択子</a> ［
<samp class="css">elem</samp> ,
<samp class="css">|elem</samp> ,
<samp class="css">empty|elem</samp>
］は、どれも等価になる。
<span lang="en">
The type selectors elem, |elem, and empty|elem are equivalent.
</span></p>


<p class="trans-note">【
最初の宣言は、名前空間 接頭辞 "empty" を null 名前空間（ "" ）に結び付ける。
二番目の宣言は、既定の名前空間を null 名前空間にする。
縦線の無い名前
<samp class="css">elem</samp>
は，暗黙的に既定の名前空間に属するが、それは，二番目の宣言により null 名前空間にされている。
縦線のみが前置された名前
<samp class="css">|elem</samp>
は，明示的に既定の名前空間 null に属する。
名前
<samp class="css">empty|elem</samp>
は，接頭辞 "empty" が指示する名前空間に属するが、それは，最初の宣言により null 名前空間にされている。
】</p>

</div>

		</section>
	</section>
	<section id="declaration">
<h2 title="Declaring namespaces: the @namespace rule">3. 名前空間の宣言法： <span class="css">@namespace</span> 規則</h2>

<p>
<dfn id="at-ruledef-namespace" class="css">@namespace</dfn>
<a>at-規則</a>
は、<a>名前空間 接頭辞</a>を宣言し，それを その宣言にて同時に与えられた名前空間名（名前空間を表現する文字列）に結び付ける。
この<a>名前空間 接頭辞</a>を、後に定義される <a>CSS 有修飾名</a>などの，名前空間修飾付きの<!--1-->名前に利用できる様になる。
<span lang="en">
The @namespace at-rule declares a namespace prefix and associates it with a given namespace name (a string). This namespace prefix can then be used in namespace-qualified names such as the CSS qualified names defined below.
</span></p>

<div class="example">
<pre>
@namespace "http://www.w3.org/1999/xhtml";
@namespace svg "http://www.w3.org/2000/svg";
</pre>

<p>
<span class="trans-note">【接頭辞が省略された】</span>
最初の規則では、<a>既定の名前空間</a>として
<samp>http://www.w3.org/1999/xhtml</samp>
を宣言する。
この名前空間は，名前空間を明示的に持たない名前に適用されることになる。
<span lang="en">
The first rule declares a default namespace http://www.w3.org/1999/xhtml to be applied to names that have no explicit namespace component.
</span></p>

<p>
2 番目の規則は、<a>名前空間 接頭辞</a>として <samp>svg</samp> を宣言し、<a>名前空間 接頭辞</a>に <samp>svg</samp> が利用されている所には，名前空間
<samp>http://www.w3.org/2000/svg</samp>
をあてがう。
<span lang="en">
The second rule declares a namespace prefix svg that is used to apply the namespace http://www.w3.org/2000/svg where the svg namespace prefix is used.
</span></p></div>

<p>
CSS Namespaces においては、 XML 名前空間 1.0 <a>[XML-NAMES]</a>
と同様に，接頭辞は単なる構文上の構成子に過ぎず，
<dfn id="expanded-name">展開名</dfn>
（局所名と名前空間名の組）が意味を持つ†。
したがって，CSS スタイルシートにおいて［［
利用される実際の接頭辞
］や, ［
与えられた名前に <a>既定の名前空間</a>があてがわれるかどうか
］］は、マークアップにおいて［［
利用されている名前空間 接頭辞
］や, ［
与えられた名前に 既定の名前空間があてがわれているかどうか
］］とは、独立になる。
<span lang="en">
In CSS Namespaces, as in Namespaces in XML 1.0, the prefix is merely a syntactic construct; it is the expanded name (the tuple of local name and namespace name) that is significant. Thus the actual prefixes used in a CSS style sheet, and whether they are defaulted or not, are independent of the namespace prefixes used in the markup and whether these are defaulted or not.
</span></p>

<p class="trans-note">【†
すなわち，接頭辞は、それを宣言する<a>名前空間 宣言</a>に与えられた名前空間を参照するための，別名として機能し、<a>展開名</a>を介して， CSS の構成子（選択子など）と文書マークアップの構成子（要素<!---->名など）が関連付けられる。
文書マークアップの構成子の<a>展開名</a>は、その文書言語により（あるいは <a>[XML-NAMES]</a> の利用を通して）定義される。
】</p>


<div class="example">
<p>
例えば次の  XML 文書：
<span lang="en">
For example, given the following XML document:
</span></p>

<pre>
&lt;qml:elem xmlns:qml="http://example.com/q-markup"&gt;&lt;/qml:elem&gt;
</pre>

<p>
が与えられていて，
CSS ファイルの冒頭に次の <a>@namespace</a> 宣言があるとする：
<span lang="en">
and the following @namespace declarations at the beginning of a CSS file:
</span></p>

<pre>
@namespace Q "http://example.com/q-markup";
@namespace lq "http://example.com/q-markup";
</pre>

<p>
その CSS ファイルの中の選択子
<samp class="css">Q|elem</samp> ,
<samp class="css">lq|elem</samp>
のいずれも，要素
<samp>&lt;qml:elem&gt;</samp>
に合致することになる。
<span lang="en">
The selectors Q|elem and lq|elem in that CSS file would both match the element &lt;qml:elem&gt;.
</span></p>

<p>
しかしながら、選択子
<samp class="css">qml|elem</samp>
は，無効になる
— CSS における名前空間は、文書言語により宣言されたものではなく， CSS の中で宣言されている接頭辞のみを認識するので。
<span lang="en">
(The selector qml|elem would be invalid, because CSS namespaces only recognize prefixes declared in CSS, not those declared by the document language.)
</span></p></div>



		<section id="syntax">
<h3 title="Syntax">3.1. 構文</h3>

<p>
<a>@namespace</a> 規則の構文は次の様になる（ <a>CSS 2.1 の文法</a> <a>[CSS21]</a> による記法を用いて）：
<span lang="en">
The syntax for the @namespace rule is as follows (using the notation from the Grammar appendix of CSS 2.1 [CSS21]):
</span></p>

<pre>
<dfn id="namespace">namespace</dfn>
  : NAMESPACE_SYM S* [<a>namespace_prefix</a> S*]? [STRING|URI] S* ';' S*
  ;
<dfn id="namespace_prefix">namespace_prefix</dfn>
  : IDENT
  ;
</pre>


<p>
新たなトークン <code class="production">NAMESPACE_SYM</code> は次で与えられる：
<span lang="en">
with the new token:
</span></p>

<pre>
@{N}{A}{M}{E}{S}{P}{A}{C}{E} {return NAMESPACE_SYM;}
</pre>

<p>
<a>@namespace</a> 規則は、スタイルシート内において，どの <a>@charset</a>, <a>@import</a> 規則よりも後続し,
どの無視されない［
他の at-規則やスタイル規則
］よりも先行しなければならない†。
これは、 CSS 構文においては，
生成規則 <code class="production">stylesheet</code> において
<code class="production">[ import [S|CDO|CDC]* ]*</code> の直後に
<code class="production">[ namespace [S|CDO|CDC]* ]*</code>
を追加することを意味する。
<span lang="en">
Any @namespace rules must follow all @charset and @import rules and precede all other non-ignored at-rules and style rules in a style sheet. For CSS syntax this adds [ namespace [SCDOCDC]* ]* immediately after [ import [SCDOCDC]* ]* in the stylesheet grammar.
</span></p>

<p>
構文的に無効な <a>@namespace</a> 規則（書式が不正であったり, 誤った場所に置かれているなど）は、<a>無視</a>されなければならない†。
無効な <a>@namespace</a> 規則を包含している CSS
<a href="css-common-ja.html#style-sheet">スタイルシート</a>
は、
<a href="css-common-ja.html#valid-style-sheet">妥当なスタイルシート</a>††
ではない。
<span lang="en">
A syntactically invalid @namespace rule (whether malformed or misplaced) must be ignored. A CSS style sheet containing an invalid @namespace rule is not a valid style sheet.
</span></p>

<p class="trans-note">【†
明示的に記されていないが、妥当な <a>@namespace</a> に <a>@import</a> が後続している場合、前者は有効のままにされた上で，後者のみが無視されることになるであろう
— 構文解析に際しては、先頭から走査され，妥当でない構文に遭遇した所でそれを破棄するのが自然なふるまいと考えられるので（ <a>@import</a> の方が誤った場所に置かれたものと解釈される）。
同じ論法により、妥当でない <a>@namespace</a> に後続する <a>@import</a> は，（他の部分がすべて妥当であれば）有効になるであろう。
】</p>

<p class="trans-note">【††
スタイルシートが妥当でないからと言って、全体が無効にされるわけではない
— 通例的には、妥当でないとされた部分が<a>無視</a>され，残りの部分は機能することになる。
】</p>

<p>
文法記号 <code class="production">URI</code> から構文解析される URI 文字列は、リテラルとして扱われなければならない
— 文法記号 <code class="production">STRING</code> に対し， URI に特有の正規化が適用されないのと同じ意味で。
<span lang="en">
A URI string parsed from the URI syntax must be treated as a literal string: as with the STRING syntax, no URI-specific normalization is applied.
</span></p>

<p>
空文字列や無効な URI を表現している文字列も含め，
<a>@namespace</a> 宣言における文字列は、どのようなものでも，名前空間名として妥当である。
<span lang="en">
All strings—including the empty string and strings representing invalid URIs—are valid namespace names in @namespace declarations.
</span></p>

		</section>
		<section id="scope">
<h3 title="Scope">3.2. 視野</h3>

<p>
<a>@namespace</a>
の視野（ scope, 有効範囲）は、それが現れるスタイルシートのみに限られる†。
それにより宣言された<a>名前空間 接頭辞</a>
<span class="trans-note">【
および<a>既定の名前空間</a>
††】</span>
は、他のどのスタイルシートでも — ［
そのスタイルシートを <a>import</a> する／そのスタイルシートが <a>import</a> する／文書に適用されている
］他のどのスタイルシートでも — 宣言されたものとは，見なされない。
<span lang="en">
The namespace prefix is declared only within the style sheet in which its @namespace rule appears. It is not declared in any style sheets importing or imported by that style sheet, nor in any other style sheets applying to the document.
</span></p>

<p class="trans-note">【†
<code>&lt;style&gt;</code> 要素による埋め込みスタイルシートの中の <a>@namespace</a> の視野も，その要素の中に限られるものと見られる。
】【††
この段落は、<a>既定の名前空間</a>についても同様と解釈した上で，原文の記述をより見通しの良い形に変えて和訳している）。
】</p>

		</section>
		<section id="prefixes">
<h3 title="Declaring Prefixes">3.3. 接頭辞の宣言法</h3>

<p>
<a>名前空間 宣言</a>により宣言された
<dfn id="namespace-prefix">名前空間 接頭辞</dfn>
は、その宣言により結び付けられた名前空間を表現し，名前空間修飾付きの<!--1-->名前における名前空間を指示するために利用できるようになる。
<a>名前空間 接頭辞</a>における文字の大小は、<em>区別される</em>。
<!-- 
<a href="https://www.w3.org/TR/CSS21/syndata.html#counter">CSS counter 名</a>
と同様に
 -->
<span lang="en">
A namespace prefix, once declared, represents the namespace for which it was declared and can be used to indicate the namespace of a namespace-qualified name. Namespace prefixes are, like CSS counter names, case-sensitive.
</span></p>

<p>
<a>名前空間 宣言</a>において，<a>名前空間 接頭辞</a>が省略されて宣言された名前空間は、
<dfn id="default-namespace">既定の名前空間</dfn>
になる。
既定の名前空間は、明示的な<a>名前空間 接頭辞</a>を持たない名前に適用される
— <a>名前空間 接頭辞</a>を使役するモジュールは、<a>既定の名前空間</a>がどの文脈の下で適用し得るか，を定義しなければならない。
例えば， Selectors 仕様 <a>[SELECT]</a> においては、（ <a>[XML-NAMES]</a> に倣い，）<a>既定の名前空間</a>は，<a>型 選択子</a>には適用されるが, <a>属性 選択子</a>には適用されないものとされている。
<a>既定の名前空間</a>に対する既定の値は存在しない
— 無修飾名に対し<a>既定の名前空間</a>をあてがうモジュールは、それらの無修飾名が，<a>既定の名前空間</a>が宣言されていない下で どのように解釈されるか、を定義しなければならない。
<span lang="en">
If in the namespace declaration the namespace prefix is omitted, then the namespace so declared is the default namespace. The default namespace may apply to names that have no explicit namespace prefix: modules that employ namespace prefixes must define in which contexts the default namespace applies. For example, following [XML-NAMES], in Selectors [SELECT] the default namespace applies to type selectors—but it does not apply to attribute selectors. There is no default value for the default namespace: modules that assign unqualified names to the default namespace must define how those unqualified names are to be interpreted when no default namespace is declared.
</span></p>

<p class="note">注記：
<a>型 選択子</a>と<a>既定の名前空間</a>を併用した場合、<a>既定の名前空間</a>をサポートする UA とサポートしない UA との間で，選択子の解釈が異なり得ることになる。
<span lang="en">
Note: Note that using default namespaces in conjunction with type selectors can cause UAs that support default namespaces and UAs that don’t support default namespaces to interpret selectors differently.
</span></p>

<p>
［［
同じ<a>名前空間 接頭辞</a>
］／<a>既定の名前空間</a>
］が 複数回に渡って宣言された場合、最後の宣言が利用されるものとする。
そのような複数回の宣言は，不適合とされる。
<span lang="en">
If a namespace prefix or default namespace is declared more than once only the last declaration shall be used. Declaring a namespace prefix or default namespace more than once is nonconforming.
</span></p>

<!-- 
既定の名前空間については、 2 つの名前空間の同一性の定義を要する。
 -->

		</section>
	</section>
	<section id="css-qnames">
<h2 title="CSS Qualified Names">4. CSS 有修飾名</h2>

<p>
<dfn id="css-qualified-name">CSS 有修飾名</dfn>
とは、明示的に，ある名前空間に結び付けられている（すなわち，その名前空間に属するようにされた）名前である。
CSS 構文において有修飾名を形成するためには、局所名の前に，［
当の<a>視野</a>にて宣言されている<a>名前空間 接頭辞</a>（要素や属性の名前など）
］を “縦線”（ <code>|</code>, U+007C ）で区切って前置する。
すでに宣言されている接頭辞は、その宣言により接頭辞に結び付けられた名前空間を表現し，その局所名が属する名前空間を指示する。
有修飾名の接頭辞は，省略されてもよい
<span class="trans-note">【
すなわち， “縦線” のみを前置する
】</span>
— これは，その名前が <a>null 名前空間</a>に属することを指示する。
すなわち、その<a>展開名</a>における名前空間名は，値を持たない。
（ホスト言語による定義に従って）文脈によっては、名前に，［［
<a>null 名前空間</a>も含め，どの名前空間に属するものでもよい
］ことを指示するワイルドカード接頭辞
］として，アスタリスク（ <code>*</code>, U+002A ）の利用が許容されることもある。
<span lang="en">
A CSS qualified name is a name explicitly located within (associated with) a namespace. To form a qualified name in CSS syntax, a namespace prefix that has been declared within scope is prepended to a local name (such as an element or attribute name), separated by a "vertical bar"(|, U+007C). The prefix, representing the namespace for which it has been declared, indicates the namespace of the local name. The prefix of a qualified name may be omitted to indicate that the name belongs to no namespace, i.e. that the namespace name part of the expanded name has no value. Some contexts (as defined by the host language) may allow the use of an asterisk (*, U+002A) as a wildcard prefix to indicate a name in any namespace, including no namespace.
</span></p>


<div class="example">
<p>
次の<a>名前空間 宣言</a>が与えられたとするとき：
<span lang="en">
Given the namespace declarations:
</span></p>

<pre>
@namespace toto "http://toto.example.org";
@namespace "http://example.com/foo";
</pre>


<p>
<a>既定の名前空間</a>を適用し得る文脈の下では：
<span lang="en">
In a context where the default namespace applies
</span></p>

<ul>
	<li><p>
<samp class="css">toto|A</samp> は、名前空間 <samp>http://toto.example.org</samp> に属するような，名前 <samp>A</samp> を表現する
<span lang="en">
represents the name A in the http://toto.example.org namespace.
</span></p></li>

	<li><p>
<samp class="css">|B</samp> は、 <a>null 名前空間</a>に属するような，名前 <samp>B</samp> を表現する。
<span lang="en">
represents the name B that belongs to no namespace.
</span></p></li>

	<li><p>
<samp class="css">*|C</samp> は、 <a>null 名前空間</a>も含めた 任意の名前空間に属するような，名前 <samp>C</samp> を表現する。
<span lang="en">
represents the name C in any namespace, including no namespace.
</span></p></li>

	<li><p>
<samp class="css">D</samp> は、名前空間
<samp>http://example.com/foo</samp>
に属するような，名前 <samp>D</samp> を表現する。
<span lang="en">
represents the name D in the http://example.com/foo namespace.
</span></p></li>
</ul>
	</div>

<p>
<a>CSS 有修飾名</a>の構文は、ワイルドカードによる接頭辞を許容するもの（ <a>wqname</a> ）／しないもの（ <a>qname</a> ）の両者について，以下で与えられる。
<a>wqname_prefix</a> ／ <a>qname_prefix</a>
が，局所名の前の部分（接頭辞の部分）の構文になる（構文では，
<a>CSS 2.1 の文法</a> <a>[CSS21]</a> による記法が利用されている
— 隣接するトークンの合間には，暗黙的にコメントが許容される（が，空白は許容されない）ことに注意）：
<span lang="en">
The syntax for the portion of a CSS qualified name before the local name is given below, both for qualified names that allow wildcard prefixes (wqname) and for qualified names that disallow wildcard prefixes (qname). (The syntax uses notation from the Grammar appendix of CSS 2.1. [CSS21] Note this means that comments, but not white space, are implicitly allowed between tokens.):
</span></p>

<pre>
<dfn id="qname_prefix">qname_prefix</dfn>
  : <a>namespace_prefix</a>? '|'
  ;
<dfn id="wqname_prefix">wqname_prefix</dfn>
  : [ <a>namespace_prefix</a>? | '*' ] '|'
  ;
<dfn id="qname">qname</dfn>
  : <a>qname_prefix</a>? ident
  ;
<dfn id="wqname">wqname</dfn>
  : <a>wqname_prefix</a>? ident
  ;
<dfn id="wqwname">wqwname</dfn>
  : <a>wqname_prefix</a>? [ ident | '*' ]
  ;
</pre>

<p>
<a>CSS 有修飾名</a>は、他のモジュールにて述べられている様に，（例えば）選択子やプロパティ値の中で利用できる。
それらのモジュールは、未宣言の<a>名前空間 接頭辞</a>の取り扱い法を定義しなければならない。
その種の取り扱い法は、選択子や宣言 等が無効と見なされることになるような 未宣言の<a>名前空間 接頭辞</a>を，構文解析エラーとして扱うべきであり、 CSS においては<a>無視</a>されるべきである。
<span lang="en">
CSS qualified names can be used in (for example) selectors and property values as described in other modules. Those modules must define handling of namespace prefixes that have not been properly declared. Such handling should treat undeclared namespace prefixes as a parsing error that will cause the selector or declaration (etc.) to be considered invalid and, in CSS, ignored.
</span></p>

<div class="example">
<p>
例えば， Selectors モジュール <a>[SELECT]</a> は、未宣言の<a>名前空間 接頭辞</a>を伴う<a>型 選択子</a>を<a>無効な選択子</a>になるものと定義する。
また， CSS <a>[CSS21]</a> は、<a>無効な選択子</a>が伴われたスタイル規則に対しては，まるごと<a>無視</a>することを要求している。
<span lang="en">
For example, the Selectors module [SELECT] defines a type selector with an undeclared namespace prefix to be an invalid selector, and CSS [CSS21] requires style rules with an invalid selector to be completely ignored.
</span></p>
	</div>



	</section>
	<section id="changes">
<h2 title="Changes">変更点</h2>

<p>
<a href="https://www.w3.org/TR/2011/REC-css3-namespace-20110929/">2011 年 9 月 29 日付 勧告</a>
からの変更点：
<span lang="en">
Changes made since the 29 September 2011 Recommendation:
</span></p>

<ul>
	<li><p>
他の仕様から引用し易くするため、
<a>qname</a>, <a>wqname</a>, <a>wqwname</a>
生成規則の定義を追加。
<span lang="en">
Added predefined qname, wqname, and wqwname productions, to make those constructs easier for other specs to use.
</span></p></li></ul>

	</section>
	<section id="acks">
<h2 title="Acknowledgments">謝辞</h2>

<p>
この草案は、［
Chris Lilley, Peter Linss 両氏による
CSS による名前空間サポートのための早期の草案
］, ［
Håkon Lie, Bert Bos 両氏による
CSS と XML についての早期の（未発行の）草案
］, ［
Bert Bos, Steven Pemberton 両氏による XML 名前空間 と CSS
］から多くを借りている。
CSS Working Group の現在の／以前の多くのメンバたちも，この文書に寄与されている。
www-style@w3.org や他の場所での議論からも，この仕様に案が寄与されている。
L David Baron, Karl Dubost, Ian Hickson, Björn Höhrmann, Lachlan Hunt
各氏からのコメントに特別な謝意を。
<span lang="en">
This draft borrows heavily from earlier drafts on CSS namespace support by Chris Lilley and by Peter Linss and early (unpublished) drafts on CSS and XML by Håkon Lie and Bert Bos, and XML Namespaces and CSS by Bert Bos and Steven Pemberton. Many current and former members of the CSS Working Group have contributed to this document. Discussions on www-style@w3.org and in other places have also contributed ideas to this specification. Special thanks goes to L. David Baron, Karl Dubost, Ian Hickson, Björn Höhrmann, and Lachlan Hunt for their comments.
</span></p>

	</section>

</main><!-- MAIN -->

	<section id="references">
<h2 title="References">参照文献</h2>



		<section id="normative">
<h3 title="Normative References">文献（規範）</h3>




<dl>

	<dt>[CSS21]</dt>
	<dd>Bert Bos; et al. Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification. 7 June 2011. REC.</dd>
	<dd>http://www.w3.org/TR/CSS2</dd>

	<dt>[CSS-SYNTAX-3]</dt>
	<dd>Tab Atkins Jr.; Simon Sapin. CSS Syntax Module Level 3. 20 February 2014. CR.</dd>
	<dd>http://www.w3.org/TR/css-syntax-3/</dd>

	<dt>[XML-NAMES]</dt>
	<dd>Tim Bray; et al. Namespaces in XML 1.0 (Third Edition). 8 December 2009. REC.</dd>
	<dd>http://www.w3.org/TR/xml-names</dd>
</dl>

		</section>
		<section id="informative">
<h3 title="Informative References">文献（参考）</h3>

<dl>
	<dt>[SELECT]</dt>
	<dd>Tantek Çelik; et al. Selectors Level 3. 29 September 2011. REC.</dd>
	<dd>http://www.w3.org/TR/css3-selectors/</dd>
</dl>


		</section>
	</section>
	<section id="index">
<h2 title="Index">索引</h2>

<p class="trans-note">【
この節の内容は省略（ウィンドウ下端の索引機能を利用されたし）。
】</p>

	</section>
	<section id="property-index">
<h2 title="Property index">プロパティ索引</h2>

<p>
この仕様にて定義されるプロパティは、無い。
<span lang="en">
No properties defined.
</span></p>
	</section>

<!--%links -->
<script type="text/plain" id="_link_map">
	■dfn
	style sheet:style-sheet
	interpreter:interpreter
	展開名:expanded-name
	名前空間 接頭辞:namespace-prefix
	既定の名前空間:default-namespace
	CSS 有修飾名:css-qualified-name
視野:#scope
@namespace:#at-ruledef-namespace

無視:css-common-ja.html#ignore
CSS 2.1 の文法:http://www.w3.org/TR/CSS21/grammar.html

	https://drafts.csswg.org/css-cascade-3/
@import:css-cascade-ja.html#at-ruledef-import
import:css-cascade-ja.html#at-import

	https://drafts.csswg.org/selectors/
型 選択子:selectors4-ja.html#type-selector
属性 選択子:selectors4-ja.html#attribute-selectors
無効な選択子:selectors4-ja.html#invalid-selector

	~CSSWG/css-syntax-3/#at-rule
	~TR/css3-syntax/#at-rule
at-規則:css-syntax-ja.html#at-rule
@charset:css-syntax-ja.html#at-ruledef-charset

名前空間 宣言:#declaration
</script>

<script type="text/plain" id="_class_map">
namespace:production
namespace_prefix:production
qname_prefix:production
wqname_prefix:production
qname:production
wqname:production
wqwname:production
</script>

<script>
new function(){

	var link_map = Util.getMapping('_link_map');
	var class_map = Util.getMapping('_class_map');
	var tag_map = {
		production: 'var',
	};
	var classname_map = {
		typedef: 'production',
		propdef: 'property',
	};

	repeat('dfn', function(e){
		var id = e.id, text = e.textContent;
		if(!id || !text) return;
		var classname =
			e.className
			|| class_map[text]
			|| classname_map[id.split('-')[0]];
		if(!(text in link_map)){
			link_map[text] = '#' + id;
		}
		if(classname) {
			wrap(e, text, classname);
			class_map[text] = classname;
		}
	});

	repeat('a', function(a){
		if(a.href) return;
		var key = a.textContent;
		var classname = class_map[key];
		switch(key.charAt(0)){
		case '[' :
			a.href = '#biblio-' + key.slice(1,-1).toLowerCase();
			return;
		case '@' :
			classname = 'css';
			break;
		}
		var href = link_map[key];
		if(href) {
			a.href = href;
		}
		if(classname){
			wrap(a, key, classname);
//			a.className = classname;
		}
	});

	function wrap(e, text, classname){
		var tag = tag_map[classname];
		if(!tag){
			e.className = classname;
			return;
		}
//		if(tag === 'var') console.log(text);
		var t = C(tag);
		t.className = classname;
		t.textContent = text;
		e.textContent = '';
		e.appendChild(t);
	}
}

</script>



