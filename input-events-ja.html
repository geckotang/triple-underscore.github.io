<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">

<title>Input Events （日本語訳）</title>


<link rel="stylesheet" href="common.css" type="text/css" />
<link rel="stylesheet" href="common-w3c.css" type="text/css" />
<script src="common0.js" ></script>
<script src="common1.js" async></script>

<script>
var source_data;

COMMON_DATA.page_state_key = '___UI-EVENTS';
COMMON_DATA.init = function(expanded){
	var options = {
		original_url: 'http://w3c.github.io/editing/input-events.html',
		main: 'MAIN',
		spec_status: 'ED',
//		toc: 'contents',
		fill_text_link: '#_versions > dd, #references dd',
		alt_refs: 'references',
		ref_id_prefix: 'biblio-',
		ref_id_lowercase: true,
	};


	if(expanded) return options;

	source_data = {
		html: E('MAIN').innerHTML,
		link_map: Util.getMapping('_link_map'),
		levels: 'ほぼ英語:英語寄り:英語+漢字:漢字主体:カナ主体',
		level: 3,
		generate: expand
	}

	Util.switchWordsInit(source_data);

//	Util.del_j(); //checked 2016-05-21 spec

	return options;
}

function expand(mapping1){
	var link_map = this.link_map;
	var unicode_map = this.unicode_map;
	var class_map = {
		l: 'literal',
		et: 'event-type',
		e: 'element',
		a: 'attr',
	};
	var tag_map = {
		c: 'code',
		I: 'code',
		m: 'code',
		et: 'code',
		l: 'code',
		e: 'code',
		a: 'code',
		v: 'var',
	};

	if(!source_data.diagrams){
		source_data.diagrams = Object.create(null);
		repeat('#_resources > *[id]', function(e){
			source_data.diagrams[e.id] = e;
		});
	}
	Util.removeParts(source_data.diagrams);

	E('MAIN').innerHTML = Util.replaceWords1(
		this.html.replace(
			/◎[^`<◎]*|【.*?】|%[\w~一-鿆]+|`(.*?)([$@\^])(\w*)/g,
			create_html
		),
		mapping1
	);

	Util.rebuildToc('MAIN0', '_toc_list0');// 目次構築
	Util.replaceParts(source_data.diagrams);// 挿入

	function create_html(match, key, indicator, klass){
if(!indicator) {
	switch(match.charAt(0)){
	case '%':
		return '<var>' + match.slice(1) + '</var>'
	case '【':
		return '<span class="trans-note">' + match + '</span>'
	case '◎':
	default:
	}
	return '<span lang="en">' + match.slice(1).trim() + '</span>';
}

var text = key;
var href = '';
var classname = class_map[klass];
var tag = tag_map[klass];

switch(klass){
case '': // plain
	if(indicator === '^') return mapping1[key];// remap
	break;
case 'r': // ref
	text = '[' + key + ']';
	href = '#biblio-' + key.toLowerCase();
	break;
case 'a': // DOM attr name
	break;
case 'e': // DOM element tag name
	text = '&lt;' + key + '&gt;';
	break;

case 'l': // literal
	text = '"<code class="literal">' + text + '</code>"';
	break;
case 'I': // IDL interface
	break;
case 'm' : // interface member
	break;
case 'et': // event type
	href = '#' + key.toLowerCase();
	//href = '#event-type-' + key;
	break;
case 'c':
	break;
case 'v': // variable
	break;
default:
}

classname = classname ? ' class="' + classname + '"' : '';
if(tag) {
	text = '<' + tag + classname + '>' + text + '</' + tag + '>';
}

if(indicator !== '^'){
	href = link_map[klass ? (klass + '.' + key) : key] || href;
	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '$':
		text = '<a href="' + href + '">' + text + '</a>';
		break;
	case '@':
//		href = href_data_map[key] || href;
		text = '<dfn id="' + href.slice(1) + '">' + text + '</dfn>';
		break;
	default:
		console.log(match);
		return match;
	}
}

return text;

	}
}
</script>


<!--% 訳文 id → 原文 id -->
<script type="text/plain" id="_original_id_map">
</script>

<!--%links -->
<script type="text/plain" id="_link_map">

I.Element:~DOM4#element
I.Range:~DOM4#range
I.Event:~DOM4#event
I.InputEvent:~UIEVENTS#inputevent
I.UIEvent:~UIEVENTS#uievent
I.InputEventInit:~UIEVENTS#dictdef-inputeventinit
I.DataTransfer:~HTMLdnd#the-datatransfer-interface
	#dfn-datatransfer


I.Window:~UIEVENTS#window
StaticRanges:#dfn-staticranges

m.inputType:#dom-inputevent-inputtype
m.dataTransfer:#dom-inputevent-datatransfer
m.getTargetRanges():#dom-inputevent-gettargetranges

m.getData():~HTMLdnd#dom-datatransfer-getdata

m.Event.target:~DOM4#dom-event-target
m.Event.cancelable:~DOM4#dom-event-cancelable
m.cancelable:~DOM4#dom-event-cancelable
	#widl-InputEvent-cancelable
m.InputEvent.data:~UIEVENTS#dom-inputevent-data
m.data:~UIEVENTS#dom-inputevent-data
m.InputEvent.isComposing:~UIEVENTS#dom-inputevent-iscomposing

m.UIEvent.detail:~UIEVENTS#dom-uievent-detail
m.UIEvent.view:~UIEVENTS#dom-uievent-view

a.contenteditable:~HTML5/interaction.html#attr-contenteditable
m.contentEditable:~HTML5/interaction.html#dom-contenteditable

et.beforeinput:#event-type-beforeinput
et.input:#event-type-input

文書片:~DOM4#interface-documentfragment

組成~event:~UIEVENTS#events-compositionevents
~dead-key:~UIEVENTS#keys-dead
空~文字列:~UIEVENTS#empty-string
~event標的:~UIEVENTS#event-target
~IME:~UIEVENTS#ime
	~UA:~UIEVENTS#user-agent

編集中の~host:https://w3c.github.io/editing/execCommand.html#editing-host

取消可能:~UIEVENTS#_cancelable
同期:~UIEVENTS#sync-async
組成

</script>

<!-- 

~trusted:#trusted-events
非trusted:#trusted-events
発火-:#fire
-->

<!--%置換語 -->
<script type="text/plain" id="words_table1">
●型:<table class="eventdef"><tbody><tr><th>型<td>
●界面:<tr><th>~interface<td>
●同期:<tr><th>同期？<td>
●浮上:<tr><th>浮上-？<td>
●標的:<tr><th>標的<td>
●取消:<tr><th>取消可能？<td>
●既定動作:<tr><th>既定~動作<td>
●文脈:<tr><th>文脈~情報<td>
●表終:</tbody></table>
</script>

<!--%語彙 -->
<script type="text/plain" id="words_table">

	●仕様
UA:user agent:UA
model::::モデル
care::::ケア
option::::オプション
browser::::ブラウザ
web:
custom::::カスタム
community::::コミュニティ
access::::アクセス
bug::::バグ

仕様:spec:~
作者:author:~
利用事例:use case:~:::ユースケース
利用者:user:~
	他の場合:otherwise:~
上書き:override:~
問題:problem:~
拡充-:populate:~
定義-:define:~
定義:definition:~
影響-:affect:~
意味-:mean:~
意図:intention:~
意図-:intend:~
指示-:indicate:~
	指示:indication:~
挙動:behavior:ふるまい
既存の:existing:~
既定:default:~:::デフォルト
目標:goal:~
許容-:allow:~
試みる:attempt する:~
試みた:attempt した:~
試みら:attempt さ:~
適用-:apply:~
関係-:relate:~
理解-:understand:~
	謝辞:acknowledgement:~
	関係する:related:~
関連する:relevant な:~

協調-:coordinate:~
	coordination
概観:overview:~
	要約-:summary
仕方:way:~
演算:operation:~
開発:development:~
特色機能:feature:~
開発者:developer:~
必要性:needs:~
単純:simple:~
取扱う:handle する:取り扱う
取扱い:handling:~
既存の:existing:~
特定の:specific な:~
選好:preference:~
原則:principle:~
提供-:provide:~
	~~軽減しようと~~試みる~seeks~to~alleviate
	相当量:considerable amount
	上層:on top of
	ある種の:certain
	個々の:individual
	部分的に:subset
	様々な:different
	共同作業:collaborative
	画策:laid out
	~~解決-:solve
	~~要請:ask

	●編集
editor::::エディタ
caret::::キャレット
位置:position::~
key::::キー
keyboard::::キーボード
dead-key::::デッドキー
IME:
text::::テキスト
richtext::::リッチテキスト
plaintext::::素のテキスト
素の:plain::~
method::::メソッド
speech::::スピーチ
host::::ホスト
markup::::マークアップ
mark::::マーク
bold:
italic:
tag::::タグ

menu::::メニュー
undo:
redo:
copy::::コピー
paste::::ペースト
cut::::カット
drag::::ドラッグ
drop::::ドロップ



initiate:
整形情報:formatting::~
整形:formatting:~
太字:bold::~::ボールド
斜字:italic::~::イタリック
中央寄せに:justify center:~
左寄せに:justify left:~
右寄せに:justify right:~
subscript::下付き文字
superscript::上付き文字
下線:underline::~
打消線:stricken::打消し線
番号付き:numbered::~
番号無し:bulleted::~
水平罫線:horizontal rule::段落区切り罫線
字下げ:indentation::~
	字下げを増やす:indent:
	字下げを減らす:outdent:
組成:composition::~
編集-:edit::~
編集:editing::~
編集中の:editing::~
置換-:replace:~
置換:replacement:~
改行:line break:~
分断:break:~
段落:paragraph:~
併合-:merge:~
削除-:delete:~
削除:deletion:~
除去-:remove:~
挿入-:insert:~
挿入:insertion:~
単語:word:~
更新-:update:~
可能化:enable:~
追加-:add:~
追加:addition:~
選択:selection::~
data::::データ
	:cover
文字:character:~
文字列:string:~
範囲:range::~
入力:input::~
始点:start:~
終点:end:~
畳まれ:collapse され:~

終端:end:~
始端:start:~
符号位置:code point:~
書記素:grapheme:~
後方:backward:~
前方:forward:~
用字系:script:~


	●event／DOM
DOM:
	field::::フィールド
list::::リスト
obj:object:::オブジェクト
	varies:varies:~
event::::イベント
system::::システム
node::::ノード
JS:JavaScript

interface::::インタフェース
標的:target:::ターゲット
作動中:active::~::アクティブ
作動中の:active::~::アクティブな
値:value:~
内容:content:~
初期化-:initialize:~
初期化:initialization:~

取消され:cancel され::~::キャンセルされ
取消せる:cancel できる::~::キャンセルできる
取消可能:cancelable::~::キャンセル可能
取消可:cancelable::~::キャンセル可能
同期:sync::~
動作:action::~::アクション
浮上-:bubble::~::バブル
型:type::~
属性:attribute:~
文書:document:~
文書片:document fragment:~
要素:element:~
文脈:context:~
情報:information:~

	●未分類
site::::サイト
level::::レベル
code::::コード
新たな:new:~
現在の:current:~
空:empty:~
築く:build する:~
設定-:set:~
	:track:~
送信-:send:~
連列:sequence:~
配送-:dispatch:~
保持-:hold:~
包含-:contain:~
類似する:similar な:~
築かれ:build され:~
表現:representation:~


可用:available:~
監視-:monitor:~
組込みの:builtin:組み込みの
描画:rendering:~
背後:background:~
	働く:work する:~
見出す:find する:~
複雑:complex:~
	必要とされ:necessarily:~
	別の:another:~
利用:use:~
	利用ing:using:~
	直前:directly before
	直後:directly after
	直後に:immediately after:~
	この:this
	これらの:these:~
	両者:both:~
	他の:other:~
	前:before:~
	含む:include:~
	導入:introduction:~
	後:after:~
	生じ:occur:~
	取り組む:solve:~
	~MUST:responsible:~
	述べる:describe する:~
	間:during:~
	すべての:all:~
	その:that:~
	など:such:~


</script>

<!--%他の語
-->
<!--%style -->

<style>

/* event 定義表 */

tr {
	border-top: 1px solid silver;
}

table.eventdef {
	border-spacing: 0px;
	background-color: hsl(300, 50%, 95% );
	border-left: 0.5em solid;
}

table.eventdef {
	border-left-color: hsl(300, 70%, 80% )
}

table.eventdef tr,
table.eventdef td {
	border-top-color: hsl(300, 50%, 85% );
}

table.eventdef th {
	white-space: nowrap;
}

table.eventdef td {
	min-width: 12em;
	border-left: 1px solid hsl(300, 50%, 85% );
}


</style>


</head>

<body>

<div hidden><input type="hidden" id="_page_config" value="" /></div>

<aside class="trans-meta">
<h1>Input Events 日本語訳</h1>
<p>
<a id="_THIS_PAGE">このページ</a>
は、
<a href="http://www.w3.org/">W3C</a> により副題の日付にて <strong>編集者草案</strong>として公開された
<a id="_SPEC_URL">Input Events</a>
を日本語に翻訳したものです。
<strong >この翻訳の正確性は保証されません。</strong>
この仕様の公式な文書は英語版であり、この日本語版は公式のものではありません。
【 と 】で囲まれた部分は<span class="trans-note">【訳者による注釈】</span>です。
（<a href="index.html">他のウェブ関連仕様の一覧と共通機能の詳細</a>）
</p>

<p >
更新：<time>2016-08-14</time>
（公開：<time>2016-05-25</time> ）
</p>

<p >
このページの大部分はスクリプトにより生成されています（
古いブラウザなど，一部のブラウザには対応していません：
<span id="_GENERATING"></span>）。
</p>

<p>
本文ダブルクリックで当該箇所の原文が表示されます（左下隅に各種 表示切替ボタン — CSS や DOM の対応が古いブラウザでは、一部機能しないことがあります）。
</p>

<address id="_CONTACT">　</address>

</aside>



<header>

<div><a href="http://www.w3.org/" id="_W3C">W3C</a></div>

	<hgroup>
<h1 id="title">入力イベント — Input Events</h1>
<h2>2016 年 8 月 14 日付 W3C 編集者草案</h2>
	</hgroup>


<dl id="_versions">
	<dt title="This version:">このバージョン</dt>
	<dt title="Editor's Draft:">編集者草案</dt>
	<dd>http://w3c.github.io/editing/input-events.html</dd>

	<dt title="Latest published version:">最新発行バージョン</dt>
	<dd>https://www.w3.org/TR/input-events/</dd>
<!-- 

	<dt title="Previous versions:">以前のバージョン</dt>
 -->

	<dt title="Editors:">編集</dt>
	<dd>Johannes Wilm, Invited Expert, johannes@fiduswriter.org</dd>
	<dd>Ben Peters, Microsoft, BenjamP@microsoft.com (until 2015-02-23)</dd>

	<dt>Participate:</dt>
	<dd><a href="https://github.com/w3c/editing">We are on GitHub.</a></dd>
	<dd><a href="https://github.com/w3c/editing/issues">File a bug.</a></dd>
	<dd><a href="https://github.com/w3c/editing/commits/gh-pages">Commit history.</a></dd>
	<dd><a href="http://lists.w3.org/Archives/Public/public-webapps/">Mailing list.</a></dd>

</dl>

<small class="copyright">
<a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> ©
2016
<a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup>
(<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
<a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
<a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). 
<abbr title="World Wide Web Consortium">W3C</abbr> <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
<a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
	<a rel="license" href="http://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">permissive document license</a>
rules apply.
</small>


</header>

<div id="MAIN" style="display:none;">

	<section id="abstract">
<h2 title="Abstract">~~要約</h2>

<p>
この仕様は、~textおよび関係する入力に対する追加の~eventを定義する。
この仕様は、
`UI-EVENTS$r
の上に築かれている。
◎
This specification defines additions to events for text and related input. This specification builds on the Document Object Model Events Level 3.
</p>
	</section>
	<section id="sotd">

<h2 title="Status of This Document">この文書の位置付け</h2>

<p>
<em>この節では、発行時点における…</em>
<span class="trans-note">【
以下、この節の他の内容は
<a href="w3c-common-ja.html#status" >W3C 日本語訳 共通ページ</a>
に委譲。
】</span></p>

	</section>


<nav class="toc" id="contents">
<h2 class="toc">目次</h2>
<ol id="_toc_list0"></ol></nav>

<main id="MAIN0">


	<section id="introduction">
<h2 title="Introduction">1. 序論</h2>

<p>
この文書は、 `UI-EVENTS$r にて述べられれた 2 つの~event
— `input$et, `beforeinput$et —
に対する，編集に関係する追加について述べる。
これらの~eventの目標は、作者が編集-時の既定の挙動を，編集が生じる前と後の両者について，理解したり上書きできるようにすることである。
◎
This document describes editing related additions to 2 events - Input and beforeinput which are described in the UI events spec. The goal of these events is to allow authors to understand and/or override default edit behavior both before and after editing occurs.
</p>
	</section>





	<section id="definitions">
<h2 title="Definitions">2. 定義</h2>

<dl>
	<dt id="dfn-datatransfer">`DataTransfer$I</dt>
	<dd>
何らかの入力typesに対し
~richtextや~plaintext
による~dataを包含する~obj。
`DATA-TRANSFER$r
◎
An object that contains richtext and plaintext data for some inputtypes. [DATA-TRANSFER]
</dd>
</dl>
    </section>

	<section id="problems-solved">
<h2 title="Problems solved">3. ~~解決される問題</h2>

~INFORMATIVE

<p>
~browser~codeの上層に ~webに基づく~text~editorを作成するためには、他にも相当量の~JSを要する
— なぜなら：
◎
Creating a webbased texteditor requires a considerable amount of JavaScript on top of the browser code, among other things because:
</p>

<ol>
	<li>
すべての~browserが編集~演算を同じ仕方で取扱うわけではない。
◎
Browsers do not handle all editing operations the same way.
</li>
	<li>
編集~演算によっては、~browserの取扱いに~bugが多い。
◎
Browsers are often buggy in the way they handle certain editing operations.
</li>
	<li>
編集~演算によっては、個々の~siteごとに，その取扱いに~custom選好があり得る。
◎
Individual sites may have custom preferences for how they want to handle certain editing operations.
</li>
	<li>
~browserにおける高~levelの~text編集 特色機能の開発は、
<a href="http://extensiblewebmanifesto.org/">Extensible Web Manifesto</a>
に画策された原則に従っていない
— これらの特色機能の開発は、~web開発者~communityの必要性と常に協調しているわけではない。
◎
The development of hihg-level text editing features in browsers has not followed the principles laid out in the Extensible Web Manifesto in that development of these features has not always been in coordination with the needs of the web developer community.
</li>
</ol>


<div class="p">
<p>
この仕様は、次の両者について，~web開発者にとって単純な仕方を提供することにより、問題を~~軽減しようと~~試みるものである：
</p>

<ul>
	<li>
~text編集に関係する すべての利用者~入力に対する~browserによる取扱いを，
`beforeinput$et ~eventを通して上書きする。
</li>
	<li>
利用者~入力に因り~DOM内の何が変更されたかを，
`input$et ~eventを通して監視する。
</li>
</ul>

◎
This spec seeks to alleviate the problem by providing a simple way for web developers to both override browser handeling of all user input related to text editing through the beforeinput event, and to monitor what browsers have changed in the DOM due to user input trough the input event.
</div>
    </section>

    <section>
<h2 title="Use cases">4. 利用事例</h2>

~INFORMATIVE

<ol>
	<li>
利用者が~boldと~markした~textを 
`&lt;b&gt;^c ~tagに代わって
`&lt;strong&gt;^c ~tagを利用するように~markするような次のような~JS~text~editorを作成すること
— ~browserに組込みの ~textを~boldとして~markするような仕方を利用して【？】
— 既存の~browserすべてに~accessする必要なく【？】
◎
Creating a JavaScript text editor in which the &lt;strong&gt;-tag is used instead of the &lt;b&gt;-tag to mark text that the user marks as bold, using any browser-builtin way to mark a text as bold, without having access to all existing browsers.
</li>
	<li>
背後の~data~modelに働き、~JSが［
rendering changes to the 編集された~text to the ~DOM【？】
］を~careするような~JS~text~editorを作成すること。
◎
Creating a JavaScript text editor which works with a data model in the background where JavaScript takes care of rendering changes to the edited text to the DOM.
</li>
	<li>
~richtext編集を部分的にのみ許容するような~JS~editorを作成すること（例えば、~boldは許容する一方で~italicは許容しない）。
◎
Creating a JavaScript editor which only allows a subset of richtext editing (for example: bold is allowed, but italic not).
</li>
	<li>
様々な~browserを様々な意図で利用している利用者の意図に基づいて、［
render changes to the ~DOM【？】
］に~JSが利用されるような，共同作業可能な~editorを作成すること。
◎
Creating a collaborative editor in which JavaScript is used to render changes to the DOM, based on user intentions with users using different browsers with different ways of expressing specific intentions.
</li>
	<li>
様々な利用者からの~accessに対する~optionを備えるような，~JS~editorを作成すること
— 例えば、ある利用者に可能なのは ~textを追加する／削除することに限られ、別の利用者に可能なのは ある種の整形を追加する／除去することに限られる，など。
◎
Creating a JavaScript editor with different user access options, where some users only can add or delete text and other users only can add or remove certain types of formatting.
</li>
</ol>
	</section>

	<section id="events-inputevents">

<h2 title="Input Event Types">5. 入力~event型</h2>

<p>
入力~eventは、利用者が~markupを編集しようと試みる前（ `beforeinput$et ~event ）と試みた後（ `input$et ~event）に送信される。
これには、
文字, 削除, その他の関係する編集-が含まれる。
◎
Input events are sent before (beforeinput event) and after (input event) a user attempts to edit the markup. This includes characters, deletions, and other related edits.
</p>



		<section id="interface-InputEvent">
<h3 title="Interface InputEvent">5.1. ~interface `InputEvent^I</h3>


<p>
この仕様は、
`UI-EVENTS$r にて定義される
`InputEvent$I を，次の IDL で拡張する：
◎
The main part of the InputEvent is defined in [UI-EVENTS]
</p>

<pre class="idl">
[Constructor(DOMString %typeArg, optional `InputEventInit$I %inputEventInitDict)]
partial interface `InputEvent$I {
    readonly        attribute DOMString `inputType$m;
    readonly attribute `DataTransfer$I? `dataTransfer$m;
    `StaticRange$I[] `getTargetRanges()$m;
};
</pre>


		<section id="overview">
<h4 title="Overview">5.1.1. 概観</h4>


<p>
次の表に、
`data$m, `dataTransfer$m 属性がいつ［
内容を包含する／~NULL にされる
］か, および
`getTargetRanges()$m ~methodが
`inputType$m に基づいて，いつ［
StaticRanges を返す ／ 空 Array を返す
］かを要約する。
◎
The following table provides a summary of when the data and dataTransfer attributes contain contents and when they are NULL as well as when the getTargetRanges() method returns StaticRanges and when it returns an empty Array, based on the inputType.
</p>


<table><thead><tr><th>`inputType$m
</th><th>`data$m
</th><th>`dataTransfer$m
</th><th>`getTargetRanges()$m
</th></tr></thead>

<tbody><tr><td>`insertText^l
</td><td>Yes
</td><td>~NULL
</td><td>StaticRanges

</td></tr><tr><td>`cut^l
</td><td>~NULL
</td><td>Yes
</td><td>StaticRanges

</td></tr><tr><td>`paste^l
</td><td>~NULL
</td><td>Yes
</td><td>StaticRanges

</td></tr><tr><td>`drag^l
</td><td>~NULL
</td><td>Yes
</td><td>StaticRanges

</td></tr><tr><td>`drop^l
</td><td>~NULL
</td><td>Yes
</td><td>StaticRanges

</td></tr><tr><td>`insertNonText^l
</td><td>~NULL
</td><td>Yes
</td><td>StaticRanges

</td></tr><tr><td>`undo^l
</td><td>~NULL
</td><td>~NULL
</td><td>空 Array

</td></tr><tr><td>`redo^l
</td><td>~NULL
</td><td>~NULL
</td><td>空 Array

</td></tr><tr><td>その他◎All Remaining
</td><td>~NULL
</td><td>~NULL
</td><td>StaticRanges

</td></tr></tbody></table>

<!-- 
inputType	data	dataTransfer 	getTargetRanges()
insertText	Yes	NULL	StaticRanges
cut	NULL	Yes	StaticRanges
paste	NULL	Yes	StaticRanges
drag	NULL	Yes	StaticRanges
drop	NULL	Yes	StaticRanges
insertNonText	NULL	Yes	StaticRanges
undo	NULL	NULL	Empty Array
redo	NULL	NULL	Empty Array
All Remaining	NULL	NULL	StaticRanges
-->

		</section>
		<section id="interface-InputEvent-Attributes">
<h4 title="Attributes">5.1.2. 属性</h4>

<dl class="idl-def">
	<dt>`inputType@m</dt>
	<dd>
<p>
この属性は、入力の型を保持する。
次に挙げる値が許容される：
</p>

<ul ><li>`insertText^l
</li><li>`insertNonText^l
</li><li>`insertLineBreak^l
</li><li>`insertParagraph^l
</li><li>`insertOrderedList^l
</li><li>`insertUnorderedList^l
</li><li>`insertHorizontalRule^l
</li><li>`deleteWordForward^l
</li><li>`deleteWordBackward^l
</li><li>`deleteLineForward^l
</li><li>`deleteLineBackward^l
</li><li>`deleteComposedCharacterBackward^l
</li><li>`deleteComposedCharacterForward^l
</li><li>`deleteContentBackward^l
</li><li>`deleteContentForward^l
</li><li>`undo^l
</li><li>`redo^l
</li><li>`cut^l
</li><li>`paste^l
</li><li>`bold^l
</li><li>`italic^l
</li><li>`underline^l
</li><li>`strikeThrough^l
</li><li>`superscript^l
</li><li>`subscript^l
</li><li>`justifyCenter^l
</li><li>`justifyRight^l
</li><li>`justifyLeft^l
</li><li>`indent^l
</li><li>`outdent^l
</li><li>`removeFormat^l
</li><li>`drag^l
</li><li>`drop^l
</li></ul>


◎
inputType holds the type of input. Allowed values are the following: insertText, insertNonText, insertLineBreak, insertParagraph, insertOrderedList, insertUnorderedList, insertHorizontalRule, deleteWordForward, deleteWordBackward, deleteLineForward, deleteLineBackward, deleteComposedCharacterBackward, deleteComposedCharacterForward, deleteContentBackward, deleteContentForward, undo, redo, cut, paste, bold, italic, underline, strikeThrough, superscript, subscript, justifyCenter, justifyRight, justifyLeft, indent, outdent, removeFormat, drag, drop.
</dd>

	<dd>
<p>
~UAは、~eventの初期化-時に，一部の各種~属性を，以下に従って拡充し~MUST：
◎
During initialization, the user agent is responsible for populating this field as follows:
</p>

<p class="note">
The existence of the above mentioned <code>inputTypes</code>
does not mean that any given implementation will support all of these.
But if a given browser supports an editing operation which potnetially leads to
a change of the DOM, it MUST trigger the corresponding <code>beforeinput</code>
and <code>input</code> events.
◎
The existence of the above mentioned inputTypes does not mean that any given implementation will support all of these. But if a given browser supports an editing operation which potnetially leads to a change of the DOM, it MUST trigger the corresponding beforeinput and input events.
</p>


		<ol>
			<li>
<div>
<p>
この段における次の記号 (A) 〜 (D) は、利用者の入力~手段を表す：
</p>

<ul ><li>(A) は、 ~keyboard, ~IME, ~speech, その他の類似する~method。
</li><li>(B) は、 ~keyboard, ~speech, その他の類似する~method。
</li><li>(C) は、 ~keyboard, 文脈~menu, ~speech, その他の類似する~method。
</li><li>(D) は、 ~IMEを利用する文字~組成の間。
</li></ul>

<p class="trans-note">【
これらの手段も要件に含まれるのかどうかは、不明。
単に個々の意図が、そこに記された~method以外ではあり得ないだけかもしれない。
】</p>

<p>
利用者が意図する編集~動作に応じて、
`inputType$m 属性の値を次の表の右列に与える値で初期化する：
</p>
◎
↓</div>


<table>

<thead><tr><th>利用者の意図
</th><th>`inputType$m 属性
</th></tr></thead>

<tbody><tr><td>
素の~textを挿入する (A)
◎
If the user intends to insert plain text typing on a keyboard, IME, speech, or similar method, the inputType MUST be insertText.
</td><td>
`insertText^l

</td></tr><tr><td>
素の~text以上のものを包含し得る内容を挿入する (A)
◎
If the user intends to insert content potentially containing more than just plain text using a keyboard, IME, speech, or similar method, the inputType MUST be insertNonText.
</td><td>
`insertNonText^l

</td></tr><tr><td>
改行を挿入する (A)
◎
If the user intends to insert a line break using a keyboard, IME, speech, or similar method, the inputType MUST be insertLineBreak.
</td><td>
`insertLineBreak^l

</td></tr><tr><td>
段落~分断を挿入する (A)
◎
If the user intends to insert a paragraph break using a keyboard, IME, speech, or similar method, the inputType MUST be insertParagraph.
</td><td>
`insertParagraph^l

</td></tr><tr><td>
番号付き~listを挿入する (A)
◎
If the user intends to insert a numbered list using a keyboard, IME, speech, or similar method, the inputType MUST be insertOrderedList.
</td><td>
`insertOrderedList^l

</td></tr><tr><td>
番号無し~listを挿入する (A)
◎
If the user intends to insert a bulleted list using a keyboard, IME, speech, or similar method, the inputType MUST be insertUnorderedList.
</td><td>
`insertUnorderedList^l

</td></tr><tr><td>
水平罫線を挿入する (A)
◎
If the user intends to insert a horizontal rule using a keyboard, IME, speech, or similar method, the inputType MUST be insertHorizontalRule.
</td><td>
`insertHorizontalRule^l

</td></tr><tr><td>
~caret位置の後にある文字を削除する (D)
◎
If the user intends to delete a character after the caret position during character composition using IME, the inputType MUST be deleteComposedCharacterForward.
◎
Set the value of cancelable to false.
</td><td>
`deleteComposedCharacterForward^l

</td></tr><tr><td>
~caret位置の前にある文字を削除する (D)
◎
If the user intends to delete a character before the caret position during character composition using IME, the inputType MUST be deleteComposedCharacterBackward.
◎
Set the value of cancelable to false.
</td><td>
`deleteComposedCharacterBackward^l

</td></tr><tr><td>
選択は空である下で，~caret位置の直前にある単語を削除する (B)
◎
If the user intends to delete a word directly before the caret position, using a keyboard, speech, or similar method, and the selection is empty, the inputType MUST be deleteWordBackward.
</td><td>
`deleteWordBackward^l

</td></tr><tr><td>
選択は空である下で，~caret位置の直後にある単語を削除する (B)
◎
If the user intends to delete a word directly after the caret position using a keyboard, speech, or similar method, and the selection is empty, the inputType MUST be deleteWordForward.
</td><td>
`deleteWordForward^l

</td></tr><tr><td>
選択は空である下で，~caret位置の直前にある行を削除する (B)
◎
If the user intends to delete a line directly before the caret position using a keyboard, speech, or similar method, and the selection is empty, the inputType MUST be deleteLineBackward.
</td><td>
`deleteLineBackward^l

</td></tr><tr><td>
選択は空である下で，~caret位置の直後にある行を削除する (B)
◎
If the user intends to delete a line directly after the caret position using a keyboard, speech, or similar method, and the selection is empty, the inputType MUST be deleteLineForward.
</td><td>
`deleteLineForward^l

</td></tr><tr><td>

<div class="p">

次のいずれか (B) ：
<ul ><li>~caret位置の直前にある内容を削除する
— ただし，他の項目にも該当する場合は除く 
</li><li>畳まれていない選択を，削除~後にその始点に畳まれるように削除する
</li></ul>

◎
If the user intends to delete the content directly before the caret position and this intention is not covered by another inputType or the user itends to delete a non-collapsed selection with the selection collapsing to its start after the deletion, using a keyboard, speech, or similar method, the inputType MUST be deleteContentBackward.
</div>


<p class="note">
選択が畳まれている場合、次の両者に `deleteContentBackward^l が利用される：
利用者が~text~nodeの中で~textの削除を~~要請したとき，および
利用者が より複雑な要素の削除や ~caretが~text~nodeの始端にある場合には段落を併合する意図を示したとき。
一部の用字系によっては、選択が畳まれた~text~nodeの中での後方への削除は、書記素ではなく符号位置を削除することになる。
書記素は、各 文字が 1 個の符号位置に対応するような何個かの文字からなり得る。 
`getTargetRanges()$m ~methodを利用すれば、~text~nodeの中で削除する際に~browserが既定で除去する文字~数を見出せる。
◎
If the selection is collapsed, deleteContentBackward will be used both when the user asks for text deletion within a text node, and when the user shows the intention to deletion of more complex elements or merge paragraphs if the caret is at the start of a text node. In some scripts, backward deletion within a text node with a collapsed selection will delete a code point rather than a grapheme. A grapheme can consist of several characters, where each character corresponds to a code point. The getTargetRanges() method can be used to find out how many characters the browser will remove by default if deleting within a text node.
</p>

</td><td>
`deleteContentBackward^l

</td></tr><tr><td>

<div class="p">

次のいずれか (B) ：
<ul ><li>~caret位置の直後にある内容を削除する
— ただし，他の項目にも該当する場合は除く
</li><li>畳まれていない選択を，削除~後にその終点に畳まれるように削除する
</li></ul>

◎
If the user intends to delete the content directly after the caret position and this intention is not covered by another inputType or the user itends to delete a non-collapsed selection with the selection collapsing to its end after the deletion, using a keyboard, speech, or similar method, the inputType MUST be deleteContentForward.
</div>

<p class="note">
選択が畳まれている場合、次の両者に `deleteContentForward^l が利用される：
利用者が~text~nodeの中で~textの削除を~~要請したとき，および
利用者が より複雑な要素の削除や ~caretが~text~nodeの終端にある場合には段落を併合する意図を示したとき。
一部の用字系によっては、選択が畳まれた~text~nodeの中での前方への削除は、符号位置ではなく書記素を削除することになる。
書記素は、各 文字が 1 個の符号位置に対応するような何個かの文字からなり得る。 
`getTargetRanges()$m ~methodを利用すれば、~text~nodeの中で削除する際に~browserが既定で除去する文字~数を見出せる。
◎
If the selection is collapsed, deleteContentForward will be used both when the user asks for text deletion within a text node, and when the user shows the intention to deletion of more complex elements or merge paragraphs if the caret is at the end of a text node. In some scripts, forward deletion within a text node with a collapsed selection will delete a grapheme rather than a code point. A grapheme can consist of several characters, where each character corresponds to a code point. The getTargetRanges() method can be used to find out how many characters the browser will remove by default if deleting within a text node.
</p>

</td><td>
`deleteContentForward^l

</td></tr><tr><td>
最後の編集~動作を~undoする (A)
◎
If the user intends to undo the last editing action using a keyboard, IME, speech, or similar method, the inputType MUST be undo.
</td><td>
`undo^l

</td></tr><tr><td>
最後の編集~動作を~redoする (A)
◎
If the user intends to redo the last editing action using a keyboard, IME, speech, or similar method, the inputType MUST be redo.
</td><td>
`redo^l

</td></tr><tr><td>
~cutする (C)
◎
If the user intends to cut using a keyboard, context menu, speech, or similar method, the inputType MUST be cut.
</td><td>
`cut^l

</td></tr><tr><td>
~pasteする (C)
◎
If the user intends to paste using a keyboard, context menu, speech, or similar method, the inputType MUST be paste.
</td><td>
`paste^l

</td></tr><tr><td>
太字~textを~initiateする (C)
◎
If the user intends to initiate bold text using a keyboard, context menu, speech, or similar method, the inputType MUST be bold.
</td><td>
`bold^l

</td></tr><tr><td>
斜字~textを~initiateする (C)
◎
If the user intends to initiate italic text using a keyboard, context menu, speech, or similar method, the inputType MUST be italic.
</td><td>
`italic^l

</td></tr><tr><td>
下線~textを~initiateする (C)
◎
If the user intends to initiate underline text using a keyboard, context menu, speech, or similar method, the inputType MUST be underline.
</td><td>
`underline^l

</td></tr><tr><td>
打消線~textを~initiateする (C)
◎
If the user intends to initiate stricken through text using a keyboard, context menu, speech, or similar method, the inputType MUST be strikeThrough.
</td><td>
`strikeThrough^l

</td></tr><tr><td>
~superscript~textを~initiateする (C)
◎
If the user intends to initiate superscript through text using a keyboard, context menu, speech, or similar method, the inputType MUST be superscript.
</td><td>
`superscript^l

</td></tr><tr><td>
~subscript~textを~initiateする (C)
◎
If the user intends to initiate subscript through text using a keyboard, context menu, speech, or similar method, the inputType MUST be subscript.
</td><td>
`subscript^l

</td></tr><tr><td>
現在の選択を中央寄せにする (C)
◎
If the user intends to justify center the current selection using a keyboard, context menu, speech, or similar method, the inputType MUST be justifyCenter.
</td><td>
`justifyCenter^l

</td></tr><tr><td>
現在の選択を右寄せにする (C)
◎
If the user intends to justify right the current selection using a keyboard, context menu, speech, or similar method, the inputType MUST be justifyRight.
</td><td>
`justifyRight^l

</td></tr><tr><td>
現在の選択を左寄せにする (C)
◎
If the user intends to justify left the current selection using a keyboard, context menu, speech, or similar method, the inputType MUST be justifyLeft.
</td><td>
`justifyLeft^l

</td></tr><tr><td>
現在の選択の字下げを増やす (C)
◎
If the user intends to indent the current selection using a keyboard, context menu, speech, or similar method, the inputType MUST be indent.
</td><td>
`indent^l

</td></tr><tr><td>
現在の選択の字下げを減らす (C)
◎
If the user intends to outdent the current selection using a keyboard, context menu, speech, or similar method, the inputType MUST be outdent.
</td><td>
`outdent^l

</td></tr><tr><td>
現在の選択から すべての整形情報を除去する (C)
◎
If the user intends to remove all formatting from the current selection using a keyboard, context menu, speech, or similar method, the inputType MUST be removeFormat.
</td><td>
`removeFormat^l

</td></tr><tr><td>
現在の選択を~dragする (C)
◎
If the user intends to drag the current selection using keyboard, context menu, speech, or similar method, the inputType MUST be drag.
</td><td>
`drag^l

</td></tr><tr><td>
~dragされている~objを現在の選択の中に~dropする (C)
◎
If the user intends to drop a dragged object into the current selection using a keyboard, context menu, speech, or similar method, the inputType MUST be drop.
</td><td>
`drop^l

</td></tr></tbody></table>

	</li>
	<li>
<p>
`data$m 属性は、文書に追加される~plaintext~data情報を保持する
— この属性は `inputType$m の値に応じて，次で与えられる値に初期化される：
◎
data holds information plaintext data that is to be added to the document.
</p>

<dl class="switch">
	<dt>`insertText^l</dt>
	<dd>
挿入されようとしている~text文字列
◎
If the inputType is insertText, the value of data is to be the plain text string to be inserted.
</dd>
	<dt>その他</dt>
	<dd>
~NULL
◎
Else, the value of data is to be NULL.
</dd>
</dl>
			</li>
			<li>
<p>
`cancelable$m 属性は、
`inputType$m 値が次のいずれかである場合には ~F にする：
</p>

<ul ><li>`deleteComposedCharacterBackward^l
</li><li>`deleteComposedCharacterForward^l
</li></ul>

◎
↑↑</li>
			<li>
<p>
`dataTransfer@m
属性は、関連する~dataがあれば，［
文書から取り出される ／ 文書に追加される
］ような［
~richtextや~plaintext
］の~dataについての情報を `DataTransfer$I ~obj
内に保持する。
この属性は、［［
それが返す `DataTransfer$I ~obj上の `getData()$m ~method
］が `inputType$m 値に応じて，次に従ってふるまう
］ように拡充される：
◎
dataTransfer holds information about richtext and plaintext data that is to be taken from or added to the document in a DataTransfer object if there is relevant data.
</p>
				<dl class="switch">
					<dt>`cut^l</dt>
					<dt>`paste^l</dt>
					<dt>`drag^l</dt>
					<dt>`drop^l</dt>
					<dt>`insertNonText^l</dt>
					<dd>
<p>
［
~cut ／~copy ／ ~paste ／ ~drag ／ ~drop ／ 追加-
］される内容を %内容 とするとき、
`getData()$m ~methodは：
◎
If the inputType is cut, paste, drag, drop, or insertNonText, the dataTransfer attribute is a prepopulated DataTransfer object so that:
</p>
						<ul>
							<li>
引数 `text/html^l を渡して呼び出したときには，
%内容 の HTML 表現を返す。
◎
dataTransfer.getData('text/html') returns a HTML representation of the content that is to be cut, copied, pasted, dragged, dropped or added.
</li>
							<li>
引数 `text/plain^l を渡して呼び出したときには，
%内容 の素の~textによる表現を返す。
◎
dataTransfer.getData('text/plain') returns a plain text representation of the content that is to be cut, copied, pasted, dragged, dropped or added.
</li>
						</ul>
					</dd>

					<dt>その他</dt>
					<dd>
`dataTransfer$m 属性は ~NULL に初期化される。
◎
Else, the dataTransfer attribute is NULL.
</dd>
				</dl>

			</li>
		</ol>
	</dd>
</dl>

		</section>
		<section id="interface-InputEvent-Methods">
<h4 title="Methods">5.1.3. ~method</h4>

<p>
`getTargetRanges()@m
は、この~eventにより影響される 
`StaticRanges@
`STATIC-RANGE$r
が［
可用ならば，その Array ／
~ELSE_ 空 Array
］を返す。
◎
getTargetRanges() returns an Array of StaticRanges [STATIC-RANGE] affected by this event if there is available, otherwise it returns and empty Array
</p>

<ol>
	<li>
`inputType$m ~IN { `undo^l, `redo^l }
ならば空 Array を返す
◎
If the inputType is undo or redo, getTargetRanges() returns an empty Array.
</li>
	<li>
StaticRanges の Array を返す†
◎
Else, getTargetRanges returns an Array of StaticRanges.
</li>
</ol>

<p class="trans-note">【†
StaticRanges は複数形なので その Array は “配列の配列” を意味するようにも見えるが、単に StaticRanges を内容とする配列かもしれない。
どちらかは、この仕様のみからは判別できない。
】</p>


			</section>
		</section>
		<section id="events-input-types">
<h3>5.2. 各種~入力~event型</h3>

<p>
以下に入力~event型を挙げる。
◎
The Input event types are listed below.
</p>


`●型^ `beforeinput@et
`●界面^ `InputEvent$I
`●同期^ あり
`●浮上^ する
`●標的^
`contenteditable$a 属性が可能化されている任意の `Element$I
◎
Any Element with contenteditable attribute enabled.

`●既定動作^

文脈依存：

<ul>
	<li>
`contentEditable$m が `typing^l にされた`編集中の~host$においては、
`inputType$m が［
`insertText^l ／ `deleteComposedCharacter^l
］ならば，
“~DOMを更新する”
。
</li>
	<li>
`contentEditable$m が `true^l にされた`編集中の~host$においては、
`inputType$m が何であれ，
“~DOM要素を更新する”
</li>
	<li>
他の場合は、なし
</li>
</ul>

◎
Varies: 'Update the DOM' for contentEditable=typing editing hosts for inputTypes insertText and deleteComposedCharacter. 'Update the DOM element' for contentEditable=true editing hosts for all inputTypes. None otherwise.
`●文脈^

<dl>

	<dt>`InputEvent.data$m</dt>
	<dd>
要素に追加された~dataを包含している文字列。
適用されない場合は ~NULL になる。
◎
InputEvent.data: the string containing the data that was added to the element, which MAY be NULL if it doesn't apply.
</dd>

	<dt>`dataTransfer$m</dt>
	<dd>
要素［
に追加された／から削除された
］~richtextを包含している文字列。
適用されない場合は ~NULL になる。
◎
InputEvent.dataTransfer: richtext data added or removed from element, which MAY be NULL if it doesn't apply.
</dd>

	<dt>`getTargetRanges()$m</dt>
	<dd>
取消されなかった場合には、~DOMに対する変更により影響されることになる StaticRanges の配列を返す。
◎
InputEvent.getTargetRanges(): returns an arrays of Static Cranges which will be affected by the change to the DOM if it is not canceled.
</dd>
</dl>


`●表終^


<p>
~UAは、利用者が `contenteditable$a 要素~内で入力を試みたときに，この~eventを配送し~MUST。
これは、~UAが~DOMを更新することを意味するとは限らない。
◎
A user agent MUST dispatch this event when the user has attempted to input in a contenteditable element. It does not necessarily mean the user agent will then update the DOM.
</p>

<p>
~UAは、~system~eventなど，利用者により試みられた入力~以外に因る~eventに対しては、この~eventを配送しては~MUST_NOT。
◎
A user agent MUST NOT dispatch this event due to events that are not caused by attempted user input, such as system events.
</p>



`●型^ `input@et
`●界面^ `InputEvent$I
`●同期^ あり
`●浮上^ する
`●標的^
`contenteditable$a 属性が可能化されている任意の `Element$I
◎
Any Element with contenteditable attribute enabled.
`●既定動作^ なし
`●文脈^


<dl>

	<dt>`InputEvent.data$m</dt>
	<dd>
要素に追加された~dataを包含している文字列。
適用されない場合は ~NULL になる。
◎
InputEvent.data: the string containing the data that was added to the element, which MAY be NULL if it doesn't apply.
</dd>

	<dt>`dataTransfer$m</dt>
	<dd>
要素［
に追加された／から削除された
］~richtextを包含している文字列。
◎
InputEvent.dataTransfer: richtext data added or removed from element, which MAY be NULL if it doesn't apply.
</dd>


</dl>

`●表終^

<p>
~UAは、~DOMが更新された直後にこの~eventを配送し~MUST。
◎
A user agent MUST dispatch this event immediately after the DOM has been updated.
</p>


		</section>
	</section>

</main></div>

	<section>
<h2 title="Acknowledgements">謝辞</h2>

<p>
次の方々に：
</p>

<div>
Thanks to:
Michael Aufreiter,
Adrian Bateman,
Oliver Buchtala,
Robin Berjon,
Enrica Casucci,
Olivier Forget,
Aryeh Gregor,
Marijn Haverbeke,
Yoshifumi Inoue,
Koji Ishii,
Gary Kacmarcik,
Frederico Caldeira Knabben,
Takayoshi Kochi,
Piotrek Koszuliński,
Travis Leithead,
Grisha Lyukshin,
Chaals McCathie Nevile,
Masayuki Nakano,
Ryosuke Niwa,
Julie Parent,
Ben Peters,
Florian Rivoal,
Morgan Smith,
Hallvord R. M. Steen,
Johan Sörlin,
Cristian Talau,
Dave Tapuska,
Ojan Vafai,
Léonie Watson,
Xiaoqian Wu,
Chong Zhang,
Joanmarie,
and everyone in the Editing Taskforce for their input and feedback.
</div>
	</section>



	<section id="references">

<h2 title="References">参照文献</h2>

		<section id="references-References-Normative">
<h3 title="Normative References">文献（規範的）</h3>

<dl>
	<dt>[DATA-TRANSFER]</dt>
	<dd>WHATWG. The DataTransfer interface</dd>
	<dd>https://html.spec.whatwg.org/multipage/interaction.html#the-datatransfer-interface</dd>

	<dt>[STATIC-RANGE]</dt>
	<dd>Gary Kačmarčík. W3C. [Proposal] StaticRange (to be used instead of Range for new APIs). unofficial.</dd>
	<dd>https://discourse.wicg.io/t/proposal-staticrange-to-be-used-instead-of-range-for-new-apis/1472</dd>

	<dt>[UI-EVENTS]</dt>
	<dd>Gary Kacmarcik; Travis Leithead. W3C. UI Events. 4 August 2016. W3C Working Draft.</dd>
	<dd>https://www.w3.org/TR/uievents/</dd>
</dl>


		</section>
<!-- 
		<section id="references-References-Informative">
<h3 title="Informative References">文献（参考）</h3>

		</section>
 -->
	</section>

</body></html>

