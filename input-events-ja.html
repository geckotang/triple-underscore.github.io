<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">

<title>Input Events （日本語訳）</title>


<link rel="stylesheet" href="common.css" type="text/css" />
<link rel="stylesheet" href="common-w3c.css" type="text/css" />
<script src="common0.js" ></script>
<script src="common1.js" async></script>

<script>
var source_data;

COMMON_DATA.page_state_key = '___UI-EVENTS';
COMMON_DATA.init = function(expanded){
	var options = {
		original_url: 'https://w3c.github.io/input-events/index.html',
		main: 'MAIN',
		spec_status: 'ED',
		fill_text_link: '#_versions > dd, #references dd',
		alt_refs: 'references',
		ref_id_prefix: 'biblio-',
		ref_id_lowercase: true,
	};


	if(expanded) return options;

	source_data = {
		html: E('MAIN').innerHTML,
		link_map: Util.getMapping('_link_map'),
		toc_main: 'MAIN0',
		levels: 'ほぼ英語:英語寄り:英語+漢字:漢字主体:カナ主体',
		level: 3,
		generate: expand
	}

	Util.switchWordsInit(source_data);

//	Util.del_j(); //checked 2016-09-30 spec

	return options;
}

function expand(mapping1){
	var link_map = this.link_map;
	var unicode_map = this.unicode_map;
	var class_map = {
		l: 'literal',
		et: 'event-type',
		e: 'element',
		a: 'attr',
		p: 'css',
	};
	var tag_map = {
		c: 'code',
		I: 'code',
		m: 'code',
		et: 'code',
		l: 'code',
		e: 'code',
		a: 'code',
		p: 'code',
		v: 'var',
	};


	E('MAIN').innerHTML = Util.replaceWords1(
		this.html.replace(
			/◎[^`<◎]*|【.*?】|%[\w~一-鿆]+|`(.*?)([$@\^])(\w*)/g,
			create_html
		),
		mapping1
	);

	function create_html(match, key, indicator, klass){
if(!indicator) {
	switch(match.charAt(0)){
	case '%':
		return '<var>' + match.slice(1) + '</var>'
	case '【':
		return '<span class="trans-note">' + match + '</span>'
	case '◎':
	default:
	}
	return '<span lang="en">' + match.slice(1).trim() + '</span>';
}

var text = key;
var href = '';
var classname = class_map[klass];
var tag = tag_map[klass];

switch(klass){
case '': // plain
	if(indicator === '^') return mapping1[key];// remap
	break;
case 'r': // ref
	text = '[' + key + ']';
	href = '#biblio-' + key.toLowerCase();
	break;
case 'a': // DOM attr name
	break;
case 'l': // literal
	text = '"<code class="literal">' + text + '</code>"';
	break;
case 'et': // event type
	href = '#' + key.toLowerCase();
	//href = '#event-type-' + key;
	break;
default:
}

if(tag) {
	text = '<' + tag + (
		classname ? ' class="' + classname + '"' : ''
	) + '>' + text + '</' + tag + '>';
}

if(indicator !== '^'){
	href = link_map[klass ? (klass + '.' + key) : key] || href;
	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '$':
		text = '<a href="' + href + '">' + text + '</a>';
		break;
	case '@':
		text = '<dfn id="' + href.slice(1) + '">' + text + '</dfn>';
		break;
	}
}

return text;

	}
}
</script>


<!--% 訳文 id → 原文 id -->
<script type="text/plain" id="_original_id_map">
</script>

<!--%links -->
<script type="text/plain" id="_link_map">

I.Element:~DOM4#element
I.Range:~DOM4#range
I.Event:~DOM4#event
I.InputEvent:~UIEVENTS#inputevent
I.UIEvent:~UIEVENTS#uievent
I.InputEventInit:~UIEVENTS#dictdef-inputeventinit
I.DataTransfer:#dfn-datatransfer

I.Window:~UIEVENTS#window
I.StaticRange:#dfn-staticranges

m.inputType:#dom-inputevent-inputtype
m.dataTransfer:#dom-inputevent-datatransfer
m.getTargetRanges():#dom-inputevent-gettargetranges

m.getData():~HTMLdnd#dom-datatransfer-getdata

m.Event.target:~DOM4#dom-event-target
m.Event.cancelable:~DOM4#dom-event-cancelable
m.cancelable:~DOM4#dom-event-cancelable
	#widl-InputEvent-cancelable
m.InputEvent.data:~UIEVENTS#dom-inputevent-data
m.data:~UIEVENTS#dom-inputevent-data
m.InputEvent.isComposing:~UIEVENTS#dom-inputevent-iscomposing

m.UIEvent.detail:~UIEVENTS#dom-uievent-detail
m.UIEvent.view:~UIEVENTS#dom-uievent-view

a.contenteditable:~HTML5/interaction.html#attr-contenteditable
m.contentEditable:~HTML5/interaction.html#dom-contenteditable

et.beforeinput:#event-type-beforeinput
et.input:#event-type-input

編集可能:#_contenteditable
~kill-buffer:#dfn-kill-buffer
引き出す:#dfn-yank
意図を表す:#dfn-express-intention
表した意図:#dfn-express-intention


文書片:~DOM4#interface-documentfragment

組成~event:~UIEVENTS#events-compositionevents
~dead-key:~UIEVENTS#keys-dead
空~文字列:~UIEVENTS#empty-string
~event標的:~UIEVENTS#event-target
~IME:~UIEVENTS#ime
	~UA:~UIEVENTS#user-agent
配送-:~UIEVENTS#dispatch
同期:~UIEVENTS#sync-async


dnd.~item~list:~HTMLdnd#drag-data-store-item-list
dnd.種類:~HTMLdnd#the-drag-data-item-kind
dnd.型~文字列:~HTMLdnd#the-drag-data-item-type-string
dnd.実~data:~HTMLdnd#_the-drag-data-item-actual-data

編集中の~host:https://w3c.github.io/editing/execCommand.html#editing-host

</script>


<!--%置換語 -->
<script type="text/plain" id="words_table1">
●型:<table class="eventdef"><tbody><tr><th>型<td>
●界面:<tr><th>~interface<td>
●同期:<tr><th>同期？<td>
●浮上:<tr><th>浮上-？<td>
●標的:<tr><th>標的<td>
●取消:<tr><th>取消せる？<td>
●既定動作:<tr><th>既定~動作<td>
●文脈:<tr><th>文脈~情報<td>
●表終:</tbody></table>
</script>

<!--%語彙 -->
<script type="text/plain" id="words_table">

	●仕様
UA:user agent:UA
model::::モデル
care::::ケア
option::::オプション
browser::::ブラウザ
web:
app:application:::アプリ
custom::::カスタム
community::::コミュニティ
access::::アクセス
bug::::バグ
	buggy
support::::サポート
platform::::プラットフォーム
仕様:spec:~
作者:author:~
利用事例:use case:~:::ユースケース
利用者:user:~
	他の場合:otherwise:~
上書き:override:~
問題:problem:~
拡充-:populate:~
定義-:define:~
定義:definition:~
影響-:affect:~
意味-:mean:~
意図:intention:~
意図-:intend:~
指示-:indicate:~
	指示:indication:~
挙動:behavior:ふるまい
既存の:existing:~
既定:default:~:::デフォルト
目標:goal:~
許容-:allow:~
試みる:attempt する:~
試みた:attempt した:~
試みら:attempt さ:~
適用-:apply:~
関係-:relate:~
解-:understand:~
	謝辞:acknowledgement:~
	関係する:related:~
関連する:relevant な:~

協調-:coordinate:~
	in coordination with
概観:overview:~
	要約-:summary
仕方:way:~
演算:operation:~
開発:development:~
特色機能:feature:~
開発者:developer:~
必要性:needs:~
単純:simple:~
取扱う:handle する:取り扱う
取扱い:handling:~
既存の:existing:~
特定の:specific な:~
特有の:-specific な:~
選好:preference:~
原則:principle:~
提供-:provide:~
規約:conventions:~
飛ばさ:skip され:~
段:step:~
取扱った:handle した:取り扱った
結付けら:associate さ:~
規範的:normative:~
築かれ:build され:~
可用:available:~
組込みの:builtin:組み込みの

	~~軽減しようと~~試みる:seeks to alleviate
	相当量:considerable amount
	上層:on top of
	ある種の:certain
	個々の:individual
	部分的に:subset
	様々な:different
	共同作業:collaborative
	画策:laid out
	~~解決-:solve
	~~要請:ask
	必要とされ:necessarily:~
	取り組む:solve:~
	~MUST:responsible:~
	述べる:describe する:~
	働く:work する:~
	節:section
	-:want
	因り:due
	例:example
	基づく:based
	該当:covered
	ために:in order to
	入る:takes place

	●編集
editor::::エディタ
	~text~editor:texteditor
caret::::キャレット
位置:position::~
key::::キー
keyboard::::キーボード
dead-key::::デッドキー
IME:
text::::テキスト
richtext::::リッチテキスト
plaintext::::素のテキスト
素の:plain::~
method::::メソッド
speech::::スピーチ
host::::ホスト
markup::::マークアップ
mark::::マーク
bold:
italic:
	太字:bold::~::ボールド
	斜字:italic::~::イタリック
tag::::タグ

menu::::メニュー
undo:
redo:
copy::::コピー
paste::::ペースト
cut::::カット
drag::::ドラッグ
drop::::ドロップ


起動:initiate:開始
整形情報:formatting::~
整形:formatting:~
寄せる:justify する::~
中央:center:~
左端:left:~
右端:right:~
subscript:::下付き文字
superscript:::上付き文字
underline:::下線
stricken:::打消し線
番号付き:numbered::~
番号無し:bulleted::~
水平罫線:horizontal rule::段落区切り罫線
字下げ:indentation::~
	字下げを増やす:indent:
	字下げを減らす:outdent:
組成:composition::~
組成-:compose::~
再組成-:recompose::~
編集可能:contenteditable::~
編集-:edit::~
編集:editing::~
編集中の:editing::~
置換-:replace:~
置換:replacement:~
改行:line break:~
自動改行:softline break:~
強制改行:hardline break:~
分断:break:~
段落:paragraph:~
併合-:merge:~
削除-:delete:~
削除:deletion:~
除去-:remove:~
除去:removal:~
挿入-:insert:~
挿入:insertion:~
単語:word:~
更新-:update:~
可能化:enable:~
追加-:add:~
追加:addition:~
選択:selection::~
data::::データ
	:cover
文字:character:~
文字列:string:~
範囲:range::~
入力:input::~
始点:start:~
終点:end:~
畳まれ:collapse され:~
	畳まれてない:non-collapsed

終端:end:~
始端:start:~
符号位置:code point:~
書記素:grapheme:~
後方:backward:~
前方:forward:~
用字系:script:~

打込んだ:type した:~
自動訂正:auto-correct:~
spell-checker:spell checker:::綴り検査器
手入力-:enter:~
入替える:transpose する:~
抽出-:extract:~
操作:manipulation:~
操作-:manipulate:~
変更-:change:~
変更:changes:~
command::::コマンド
clipboard::::クリップボード
kill-buffer:kill buffer
commit::::コミット
格納-:store:~
	記憶域:in-memory
	別々の:separate
	一時的に保持する:temporal storage
	引き出す:yank する
	最終的に:finalized:~
	離脱して leave 〜 outside

種類:kind::~
制御-:control:~
改変-:modify:~
合致-:match:~
波及-:influence:~
	繰り返される:repeat
	-:covering
	終える:end
	最終的な:final
処理-:process:~

	●event／DOM
DOM:
	-:field
list::::リスト
obj:object:::オブジェクト
	varies:varies:~
event::::イベント
system::::システム
node::::ノード
JS:JavaScript
	 連列:Array
interface::::インタフェース
標的:target:::ターゲット
作動中:active::~::アクティブ
作動中の:active::~::アクティブな
値:value:~
内容:content:~
初期:initial:~
初期化-:initialize:~
初期化:initialization:~

取消され:cancel され::取り消され::キャンセルされ
取消した:cancel した::取り消した::キャンセルした
取消す:cancel する::取り消す::キャンセルする
取消せ:cancel でき::取り消せ::キャンセルでき
	取消せる:cancelable
	取消せない:non-cancelable
同期:sync::~
動作:action::~::アクション
浮上-:bubble::~::バブル
型:type::~
属性:attribute:~
文書:document:~
要素:element:~
文脈:context:~
情報:information:~
反映させ:render する:~
配送-:dispatch::~
送信-:send:~
誘発-:trigger:~
開始-:start:~


	●未分類
	~~要請され:proposed
塊:block:::ブロック
行内:inline::~
背景:background::~
色:color::~
font::::フォント
link::::リンク
url:
prop:property:::プロパティ
site::::サイト
level::::レベル
	high-level
code::::コード
新たな:new:~
現在の:current:~
空:empty:~
築く:build する:~
設定-:set:~
	:track:~
保持-:hold:~
包含-:contain:~
	類する:similar な:~
表現-:represent:~
表現:representation:~
監視-:monitor:~
背後:background:~
見出せる:find できる:~
複雑:complex:~
利用:use:~
	利用ing:using:~
方向:direction:~
実行-:execute:~
対応付けら:map さ:~
防止-:prevent:~
外側:outside:~
item::::アイテム
entry::::エントリ
HTML:
配列:array:~


	別の:another:~
	の一部:part of
	直前:directly before
	直後:directly after
	直後に:immediately after:~
	この:this
	これらの:these:~
	両者:both:~
	他の:other:~
	前:before:~
	含む:include:~
	introduction
	後:after:~
	生じ:occur:~
	間:during:~
	すべての:all:~
	その:that:~
	など:such:~
	following
	~text~editor:texteditor
	follow
	trough
	different
	main
	part
	Array
	during
	form
	次 next:#1
	several
	対応:correspond
	first
	先行する:preceded:~
	starting
	time
	become
	し続け:continue
	thereafter
	taken
	全体:entire
	表す:express


</script>

<!--%他の語
-->
<!--%style -->

<style>

/* event 定義表 */

tr {
	border-top: 1px solid silver;
}

table.eventdef {
	border-spacing: 0px;
	background-color: hsl(300, 50%, 95% );
	border-left: 0.5em solid;
}

table.eventdef {
	border-left-color: hsl(300, 70%, 80% )
}

table.eventdef tr,
table.eventdef td {
	border-top-color: hsl(300, 50%, 85% );
}

table.eventdef th {
	white-space: nowrap;
}

table.eventdef td {
	min-width: 12em;
	border-left: 1px solid hsl(300, 50%, 85% );
}


</style>


</head>

<body>

<div hidden><input type="hidden" id="_page_config" value="" /></div>

<aside class="trans-meta">
<h1>Input Events 日本語訳</h1>
<p>
<a id="_THIS_PAGE">このページ</a>
は、
<a href="http://www.w3.org/">W3C</a> により副題の日付にて <strong>編集者草案</strong>として公開された
<a id="_SPEC_URL">Input Events</a>
を日本語に翻訳したものです。
<strong >この翻訳の正確性は保証されません。</strong>
この仕様の公式な文書は英語版であり、この日本語版は公式のものではありません。
【 と 】で囲まれた部分は<span class="trans-note">【訳者による注釈】</span>です。
（<a href="index.html">他のウェブ関連仕様の一覧と共通機能の詳細</a>）
</p>

<p >
更新：<time>2016-10-20</time>
（公開：<time>2016-05-25</time> ）
</p>

<p >
このページの大部分はスクリプトにより生成されています（
古いブラウザなど，一部のブラウザには対応していません：
<span id="_GENERATING"></span>）。
</p>

<p>
本文ダブルクリックで当該箇所の原文が表示されます（左下隅に各種 表示切替ボタン — CSS や DOM の対応が古いブラウザでは、一部機能しないことがあります）。
</p>

<address id="_CONTACT">　</address>

</aside>



<header>

<a href="https://www.w3.org/" id="_W3C">W3C</a>
	<hgroup>
<h1 id="title">入力イベント — Input Events</h1>
<h2>2016 年 10 月 19 日付 W3C 編集者草案</h2>
	</hgroup>


<dl id="_versions">
	<dt title="This version:">このバージョン</dt>
	<dt title="Editor's Draft:">編集者草案</dt>
	<dd>https://w3c.github.io/input-events/index.html</dd>

	<dt title="Latest published version:">最新発行バージョン</dt>
	<dd>https://www.w3.org/TR/input-events/</dd>
<!-- 

	<dt title="Previous versions:">以前のバージョン</dt>
 -->

	<dt title="Editors:">編集</dt>
	<dd>Johannes Wilm, Invited Expert, johannes@fiduswriter.org</dd>
	<dd>Ben Peters, Microsoft, BenjamP@microsoft.com (until 23 February 2015)</dd>

	<dt>Participate:</dt>
	<dd><a href="https://github.com/w3c/input-events">We are on GitHub.</a></dd>
	<dd><a href="https://github.com/w3c/input-events/issues">File a bug.</a></dd>
	<dd><a href="https://github.com/w3c/input-events/commits/gh-pages">Commit history.</a></dd>
<dd><a href="https://lists.w3.org/Archives/Public/public-webapps/">Mailing list.</a></dd>

</dl>

<small class="copyright">
<a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> ©
2016
<a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup>
(<a href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
<a href="https://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
<a href="https://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>).
<abbr title="World Wide Web Consortium">W3C</abbr> <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
<a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
<a rel="license" href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">permissive document license</a>
rules apply.
</small>


</header>

<div id="MAIN" style="display:none;">

	<section id="abstract">
<h2 title="Abstract">~~要約</h2>


<p>
この仕様は、~textおよび関係する入力に対する追加の~eventを定義し、~textの入力と整形を扱う ~text~editorその他の~appの文脈~下で，既定~browserの挙動を監視して操作できるようにする。
この仕様は、 `UI-EVENTS$r の上に築かれている。
◎
This specification defines additions to events for text and related input to allow for the monitoring and manipulation of default browser behavior in the context of text editor applications and other applications that deal with text input and text formatting. This specification builds on the UI events spec [UI-EVENTS]
</p>

	</section>
	<section id="sotd">

<h2 title="Status of This Document">この文書の位置付け</h2>

<p>
<em>この節では、発行時点における…</em>
<span class="trans-note">【
以下、この節の他の内容は
<a href="w3c-common-ja.html#status" >W3C 日本語訳 共通ページ</a>
に委譲。
】</span></p>

<p>
我々は、作業草案を 2016 年 10 月 31 日に制作するものと予期しています。
この仕様の
<a href="https://github.com/w3c/web-platform-tests/tree/master/input-events">テスト一式</a>
と
<a href="https://w3c.github.io/test-results/input-events/">実装報告書</a>
は、まだ作業中の段階です。
◎
The group expects to produce another working draft by October 31st, 2016. The test suite and implementation reports for the Input Events specification are still work in progress.
</p>


	</section>


<main id="MAIN0">


	<section id="introduction">
<h2 title="Introduction">1. 序論</h2>

<p>
この文書は、 `UI-EVENTS$r にて述べられれた 2 つの~event
— `input$et, `beforeinput$et `UI-EVENTS$r —
に対する，編集に関係する追加について述べる。
これらの~eventの目標は、作者が編集-時の既定の挙動を，編集が生じる前と後の両者について，解したり上書きできるようにすることである。
◎
This document describes editing related additions to 2 events - Input and beforeinput which are described in the UI events spec [UI-EVENTS]. The goal of these events is to allow authors to understand and/or override default edit behavior both before and after editing occurs.
</p>

	</section>
	<section id="definitions">
<h2 title="Definitions">2. 定義</h2>

<dl>
	<dt id="dfn-datatransfer">`DataTransfer@I</dt>
	<dd>
<a href="~HTMLdnd#the-datatransfer-interface">`DataTransfer^I</a>
~objは、何らかの型の入力に対し，~richtextや~plaintextによる~dataを包含する。
`DATA-TRANSFER$r
◎
An DataTransfer object contains richtext and plaintext data for some inputtypes. [DATA-TRANSFER]
</dd>

	<dt>`意図を表す@ （ express an intention ）</dt>
	<dd>
利用者は、［
~keyboard, ~IME, ~speech, などに類する~method
］をもって，特定の~編集中の~演算を実行する`意図を表す$ことができる。
特定の~入力~動作は、~platform特有の規約に従う意図に，対応付けられる。
◎
A user can express an intention to execute a specific editing operation by means of keyboard, IME, speech, or similar method. Specific input actions are mapped to intentions following platform-specific conventions.
</dd>

	<dt>`~kill-buffer@ （ kill buffer ）</dt>
	<dd>
この項目は、定義は規範的ではない。
◎
This section is not normative.
</dd>
	<dd>
`~kill-buffer$は、~clipboardとは別々の記憶域に格納された~richtext内容であり、特定の削除~commandを用いて削除された内容を，一時的に保持できるようにする。
利用者は、~kill-bufferを
`引き出す@
（ yank する）意図を指示することにより、現在の選択を~kill-bufferの内容で置換できる。
◎
A kill buffer is a in-memory store of richtext content that is separate from the clipboard which allows for the temporal storage of content that was deleted using specific deletion commands. The user can replace the current selection with the content held in the kill buffer by indicating an intention to yank the kill buffer.
</dd>

	<dt>`編集可能@ な要素（ contenteditable ）</dt>
	<dd>
`contenteditable$a 属性に基づいて，利用者が内容を編集できるとされる要素。
</dd>
	<dd class="trans-note">【
この項目は，訳者による追加であり、その定義も訳者の推定による。
原文では、単に “contenteditable” （~markupもない）。
】</dd>

</dl>

	</section>

	<section id="problems-solved">
<h2 title="Problems solved">3. ~~解決される問題</h2>

~INFORMATIVE

<p>
~browser~codeの上層に ~webに基づく~text~editorを作成するためには、他にも相当量の~JSを要する
— なぜなら：
◎
Creating a webbased texteditor requires a considerable amount of JavaScript on top of the browser code, among other things because:
</p>

<ol>
	<li>
すべての~browserが編集~演算を同じ仕方で取扱うわけではない。
◎
Browsers do not handle all editing operations the same way.
</li>
	<li>
編集~演算によっては、~browserの取扱いに~bugが多い。
◎
Browsers are often buggy in the way they handle certain editing operations.
</li>
	<li>
編集~演算によっては、個々の~siteごとに，その取扱いに~custom選好があり得る。
◎
Individual sites may have custom preferences for how they want to handle certain editing operations.
</li>
	<li>
~browserにおける高~levelの~text編集 特色機能の開発は、
<a href="http://extensiblewebmanifesto.org/">Extensible Web Manifesto</a>
に画策された原則に従っていない
— これらの特色機能の開発は、~web開発者~communityの必要性と常に協調しているわけではない。
◎
The development of high-level text editing features in browsers has not followed the principles laid out in the Extensible Web Manifesto in that development of these features has not always been in coordination with the needs of the web developer community.
</li>
</ol>


<div class="p">
<p>
この仕様は、次の両者について，~web開発者にとって単純な仕方を提供することにより、問題を~~軽減しようと~~試みるものである：
</p>

<ul>
	<li>
~text編集に関係する すべての利用者~入力に対する~browserによる取扱いを，
`beforeinput$et ~eventを通して上書きする。
</li>
	<li>
利用者~入力に因り~DOM内の何が変更されたかを，
`input$et ~eventを通して監視する。
</li>
</ul>

◎
This spec seeks to alleviate the problem by providing a simple way for web developers to both override browser handling of all user input related to text editing through the beforeinput event, and to monitor what browsers have changed in the DOM due to user input trough the input event.
</div>
    </section>

    <section id="use-cases">
<h2 title="Use cases">4. 利用事例</h2>

~INFORMATIVE

<ol>
	<li>
利用者が~boldと~markした~textを
`&lt;b&gt;^e ~tagに代えて
`&lt;strong&gt;^e ~tagを利用するように~markするような次のような~JS~text~editorを作成すること
— ~browserに組込みの ~textを~boldとして~markするような仕方を利用して【？】
— 既存の~browserすべてに~accessする必要なく【？】
◎
Creating a JavaScript text editor in which the &lt;strong&gt;-tag is used instead of the &lt;b&gt;-tag to mark text that the user marks as bold, using any browser-builtin way to mark a text as bold, without having access to all existing browsers.
</li>
	<li>
背後の~data~modelに働き，［
~JSが，~text編集による変更を ~DOMに反映させることを~careする
］ような、~JS~text~editorを作成すること。
◎
Creating a JavaScript text editor which works with a data model in the background where JavaScript takes care of rendering changes to the edited text to the DOM.
</li>
	<li>
~richtext編集を部分的にのみ許容するような~JS~editorを作成すること（例えば、~boldは許容する一方で~italicは許容しない）。
◎
Creating a JavaScript editor which only allows a subset of richtext editing (for example: bold is allowed, but italic not).
</li>
	<li>
様々な~browserを様々な意図で利用している利用者の意図に基づいて、［
~JSを利用して，変更を~DOMに反映させる
］ような，共同作業可能な~editorを作成すること。
◎
Creating a collaborative editor in which JavaScript is used to render changes to the DOM, based on user intentions with users using different browsers with different ways of expressing specific intentions.
</li>
	<li>
様々な利用者からの~accessに対する~optionを備えるような，~JS~editorを作成すること
— 例えば、ある利用者に可能なのは ~textを追加する／削除することに限られ、別の利用者に可能なのは ある種の整形を追加する／除去することに限られる，など。
◎
Creating a JavaScript editor with different user access options, where some users only can add or delete text and other users only can add or remove certain types of formatting.
</li>
</ol>
	</section>

	<section id="events-inputevents">

<h2 title="Input Event Types">5. 入力~event型</h2>

<p>
入力~eventは、利用者が~markupを編集しようと試みる前（ `beforeinput$et ~event ）と試みた後（ `input$et ~event）に送信される。
これには、文字, 削除, その他の関係する編集-が含まれる。
◎
Input events are sent before (beforeinput event) and after (input event) a user attempts to edit the markup. This includes characters, deletions, and other related edits.
</p>



		<section id="interface-InputEvent">
<h3 title="Interface InputEvent">5.1. ~interface `InputEvent^I</h3>


<p>
この仕様は、 `UI-EVENTS$r に定義される `InputEvent$I を，次の IDL で拡張する：
◎
The main part of the InputEvent is defined in [UI-EVENTS]
</p>

<pre class="idl">
[Constructor(DOMString %typeArg, optional `InputEventInit$I %inputEventInitDict)]
partial interface `InputEvent$I {
    readonly        attribute DOMString `inputType$m;
    readonly attribute `DataTransfer$I? `dataTransfer$m;
    sequence&lt;StaticRange&gt; `getTargetRanges()$m;
};
</pre>


		<section id="overview">
<h4 title="Overview">5.1.1. 概観</h4>


<p>
［
`data$m, `dataTransfer$m
］属性が，いつ［
内容を包含する／~NULL にされる
］か, および
`getTargetRanges()$m ~methodが
`inputType$m に基づいて，いつ［
空 ／空でない
］ Array を返すかを，次の表に要約する。
◎
The following table provides a summary of when the data and dataTransfer attributes contain contents and when they are null as well as when the getTargetRanges() method returns an empty or non-empty Array, based on the inputType.
</p>


<table>
<thead><tr><th>編集中の~host
</th><th>`inputType$m
</th><th>`data$m
</th><th>`dataTransfer$m
</th><th>`getTargetRanges()$m
</th></tr></thead>

<tbody>

<tr><td>`編集可能$
</td><td>
`insertText^l,
`insertCompositionText^l,
`insertFromComposition^l,
`formatSetBlockTextDirection^l,
`formatSetInlineTextDirection^l,
`formatBackColor^l,
`formatFontColor^l,
`formatFontName^l,
`insertLink^l
</td><td>非~NULL
</td><td>~NULL
</td><td>空でない Array
</td></tr>

<tr><td>`編集可能$
</td><td>
`insertFromPaste^l,
`insertFromDrop^l,
`insertReplacementText^l,
`insertFromYank^l
</td><td>~NULL
</td><td>非~NULL
</td><td>空でない Array
</td></tr>

<tr><td>
`&lt;textarea&gt;^e,
`&lt;input type="text"&gt;^e
</td><td>
`insertText^l,
`insertCompositionText^l,
`insertFromComposition^l,
`insertFromPaste^l,
`insertFromDrop^l,
`insertReplacementText^l,
`insertFromYank^l,
`formatSetBlockTextDirection^l,
`formatSetInlineTextDirection^l,
`formatBackColor^l,
`formatFontColor^l,
`formatFontName^l,
`insertLink^l
</td><td>非~NULL
</td><td>~NULL
</td><td>空 Array
</td></tr>

<tr><td>すべて
</td><td>
`historyUndo^l,
`historyRedo^l
</td><td>~NULL
</td><td>~NULL
</td><td>空 Array
</td></tr>

<tr><td>`編集可能$
</td><td>残り全て
</td><td>~NULL
</td><td>~NULL
</td><td>空でない Array
</td></tr>

<tr><td>`&lt;textarea&gt;^e, `&lt;input type="text"&gt;^e
</td><td>残り全て
</td><td>~NULL
</td><td>~NULL
</td><td>空 Array
</td></tr></tbody></table>

<!-- 
Contenteditable 	"insertText", "insertCompositionText", "insertFromComposition", "formatSetBlockTextDirection", "formatSetInlineTextDirection", "formatBackColor", "formatFontColor", "formatFontName", "insertLink" 	Yes	null	Non-empty Array
Contenteditable 	"insertFromPaste", "insertFromDrop", "insertReplacementText", "insertFromYank" 	null	Yes	Non-empty Array
<textarea>, <input type="text"> 	"insertText", "insertCompositionText", "insertFromComposition", "insertFromPaste", "insertFromDrop", "insertReplacementText", "insertFromYank", "formatSetBlockTextDirection", "formatSetInlineTextDirection", "formatBackColor", "formatFontColor", "formatFontName", "insertLink" 	Yes	null	Empty Array
All	"historyUndo", "historyRedo" 	null	null	Empty Array
Contenteditable	All Remaining	null	null	Non-empty Array
<textarea>, <input type="text"> 	All Remaining	null	null	Empty Array
-->

		</section>
		<section id="interface-InputEvent-Attributes">
<h4 title="Attributes">5.1.2. 各種 属性</h4>


<p>
~UAは、~eventの初期化-時に，一部の各種~属性を，以下に従って拡充し~MUST：
◎
↑</p>

<dl>
	<dt>`inputType@m</dt>
	<dd>
入力の型を保持する。
下の表の右列に挙げる値が許容される。
◎
inputType holds the type of input. Allowed values are the following: "insertText", "insertReplacementText", "insertLineBreak", "insertParagraph", "insertOrderedList", "insertUnorderedList", "insertHorizontalRule", "insertFromYank", "insertFromDrop", "insertFromPaste", "insertCompositionText", "insertFromComposition", "deleteWordForward", "deleteWordBackward", "deleteSoftLineForward", "deleteSoftLineBackward", "deleteEntireSoftLine", "deleteHardLineForward", "deleteHardLineBackward", "deleteCompositionText", "deleteByComposition", "deleteByDrag", "deleteByCut", "deleteContent", "deleteContentBackward", "deleteContentForward", "historyUndo", "historyRedo", "insertTranspose", "formatBold", "formatItalic", "formatUnderline", "formatStrikeThrough", "formatSuperscript", "formatSubscript", "formatJustifyCenter", "formatJustifyRight", "formatJustifyLeft", "formatIndent", "formatOutdent", "formatRemove", "formatSetBlockTextDirection", "formatSetInlineTextDirection", "formatBackColor", "formatFontColor", "formatFontName", "insertLink" . During initialization, the user agent [UI-EVENTS] is responsible for populating this field as follows:
</dd>
<!-- ＊
deleteHardLineBackward ／ deleteHardlineBackward
deleteHardLineForward ／ deleteHardlineForward

 -->

	<dd class="note">注記：
挙げられているからといって、実装が それらの `inputType$m 値すべてを~supportすることにはならない。
所与の~browserが［
~DOMを変化させ得るような，ある編集~演算
］を~supportする場合、対応する［
`beforeinput$et, `input$et
］~eventを`配送-$し~MUST。
`UI-EVENTS$r
◎
Note: The existence of the above mentioned inputTypes does not mean that any given implementation will support all of these. But if a given browser supports an editing operation which potentially leads to a change of the DOM, it MUST dispatch [UI-EVENTS] the corresponding beforeinput and input events.
</dd>

	<dd>
<p>
この属性は、利用者が`表した意図$に応じて，次の表の右列に与える値で初期化する：
◎
↓</p>

<table>
<thead><tr><th>（付帯条件, および）利用者が`表した意図$
</th><th>`inputType$m 属性の値
</th></tr></thead>

<tbody>
<tr><td>
打込んだ素の~textを挿入する
◎
If the user expresses an intention to insert typed plain text, the inputType MUST be "insertText".
<td>`insertText^l

<tr><td>
~spell-checker, 自動訂正, などに類する~methodにより，既存の~textを置換する
◎
If the user expresses an intention to replace existing text by means of a spell checker, auto-correct or similar, the inputType MUST be "insertReplacementText".
<td>`insertReplacementText^l

<tr><td>
改行を挿入する
◎
If the user expresses an intention to insert a line break, the inputType MUST be "insertLineBreak".
<td>`insertLineBreak^l

<tr><td>
段落~分断を挿入する
◎
If the user expresses an intention to insert a paragraph break, the inputType MUST be "insertParagraph".
<td>`insertParagraph^l

<tr><td>
番号付き~listを挿入する
◎
If the user expresses an intention to insert a numbered list, the inputType MUST be "insertOrderedList".
<td>`insertOrderedList^l

<tr><td>
番号無し~listを挿入する
◎
If the user expresses an intention to insert a bulleted list, the inputType MUST be "insertUnorderedList".
<td>`insertUnorderedList^l

<tr><td>
水平罫線を挿入する
◎
If the user expresses an intention to insert a horizontal rule, the inputType MUST be "insertHorizontalRule".
<td>`insertHorizontalRule^l

<tr><td>
`~kill-buffer$に格納されている内容で，現在の選択を置換する
◎
If the user expresses an intention to replace the current selection with content stored in a kill buffer, the inputType MUST be "insertFromYank".
<td>`insertFromYank^l

<tr><td>
~dropにより，~DOMの中へ内容を挿入する
◎
If the user expresses an intention to insert content into the DOM by means of drop, the inputType MUST be "insertFromDrop".
<td>`insertFromDrop^l

<tr><td>
~pasteする
◎
If the user expresses an intention to paste, the inputType MUST be "insertFromPaste".
<td>`insertFromPaste^l

<tr><td>
手入力された最後の 2 文字を入替える
◎
If the user expresses an intention to transpose the last two characters that were entered, the inputType MUST be "insertTranspose".
<td>`insertTranspose^l

<tr><td>
~IMEを用いる組成の間に，現在の組成~文字列を置換する
◎
If the user expresses an intention during a composition using IME to replace the current composition string, the inputType MUST be "insertCompositionText".
◎
Set the value of cancelable to false.
<td>`insertCompositionText^l

<tr><td>
~IMEを用いる組成の間に，~DOMの中へ
次の組成~文字列の一部を成さない最終的に組成された文字列を挿入する
◎
If the user expresses an intention during a composition using IME to insert into the DOM a finalized composed string that will not form part of the next composition string, the inputType MUST be "insertFromComposition".
<td>`insertFromComposition^l

<tr><td>
~IMEを用いる組成の間に，~DOMに最終的に文字列を~commitする前に，現在の組成~文字列を削除する
◎
If the user expresses an intention during a composition using IME to delete the current composition string before commiting a finalized string to the DOM, the inputType MUST be "deleteCompositionText".
◎
Set the value of cancelable to false.
<td>`deleteCompositionText^l

<tr><td>
~IMEを用いて当の部分を再組成するために，~DOMの一部を除去する
◎
If the user expresses an intention to remove a part of the DOM in order to recompose this part using IME, the inputType MUST be "deleteByComposition".
<td>`deleteByComposition^l

<tr><td>
~caret位置の直前にある単語を削除する
◎
If the user expresses an intention to delete a word directly before the caret position, the inputType MUST be "deleteWordBackward".
<td>`deleteWordBackward^l

<tr><td>
選択が空である下で，~caret位置の直後にある単語を削除する，
◎
If the user expresses an intention to delete a word directly after the caret position, and the selection is empty, the inputType MUST be "deleteWordForward".
<td>`deleteWordForward^l

<tr><td>
選択が空である下で，~caret位置からその前にある最も近い自動改行までを削除する
◎
If the user expresses an intention to delete from the caret to the nearest softline break before the caret position and the selection is empty, the inputType MUST be "deleteSoftLineBackward".
<td>`deleteSoftLineBackward^l

<tr><td>
選択が空である下で，~caret位置からその後にある最も近い自動改行までを削除する
◎
If the user expresses an intention to delete from the caret to the nearest softline break after the caret position and the selection is empty, the inputType MUST be "deleteSoftLineForward".
<td>`deleteSoftLineForward^l

<tr><td>
選択が空である下で，［
~caret位置の前にある最も近い自動改行
］から［
~caret位置の後にある最も近い自動改行
］までを削除する
◎
If the user expresses an intention to delete from to the nearest softline break before the caret position to the nearest softline break after the caret position and the selection is empty, the inputType MUST be "deleteEntireSoftLine".
<td>`deleteEntireSoftLine^l

<tr><td>
選択が空である下で，~caret位置からその前にある最も近い強制改行までを削除する
◎
If the user expresses an intention to delete from the caret to the nearest hardline break before the caret position and the selection is empty, the inputType MUST be "deleteHardlineBackward".
<td>`deleteHardlineBackward^l

<tr><td>
選択が空である下で，~caret位置からその後にある最も近い強制改行までを削除する
◎
If the user expresses an intention to delete from the caret to the nearest hardline break after the caret position and the selection is empty, the inputType MUST be "deleteHardlineForward".
<td>`deleteHardlineForward^l

<tr><td>
~dragにより，~DOMから内容を除去する
◎
If the user expresses an intention to remove content from the DOM by means of drag, the inputType MUST be "deleteByDrag".
<td>`deleteByDrag^l

<tr><td>
~cutの一部として，現在の選択を除去する
◎
If the user expresses an intention to remove the current selection as part of a cut, the inputType MUST be "deleteByCut".
<td>`deleteByCut^l

<tr><td>
他の `inputType$m 値に該当しない意図の下で、削除の方向を指定せずに，現在の 畳まれてない選択を削除する
◎
If the user expresses an intention to delete the current, non-collapsed selection without specifying the direction of the deletion and this intention is not covered by another inputType, the inputType MUST be "deleteContent".
<td>`deleteContent^l

<tr><td>
次のいずれか：
<ul ><li>他の `inputType$m 値に該当しない意図の下で、~caret位置の直前にある内容を削除する
</li><li>畳まれてない選択を，削除~後にその始点に畳まれるように削除する
</li></ul>

◎
If the user expresses an intention to delete the content directly before the caret position and this intention is not covered by another inputType or the user intends to delete a non-collapsed selection with the selection collapsing to its start after the deletion, the inputType MUST be "deleteContentBackward".
<td>`deleteContentBackward^l

<tr><td colspan="2">
<p class="note">注記：
選択が畳まれている場合、次のいずれにも `deleteContentBackward^l が利用される：
利用者が［
~text~nodeの中で~textを削除する ／
より複雑な要素を削除する ／
~caretが~text~nodeの始端にある場合に 段落を併合する
］意図を示したとき。
削除されるのが［
符号位置, 書記素
］のいずれになるかは、用字系により異なり得る。
書記素は、複数個の 1 個の符号位置に対応する何個かの文字からなり得る。
`getTargetRanges()$m ~methodを利用すれば、~text~nodeの中で削除する際に~browserが既定で除去する文字~数を見出せる。
◎
Note
If the selection is collapsed, "deleteContentBackward" will be used both when the user asks for text deletion within a text node, and when the user shows the intention to deletion of more complex elements or merge paragraphs if the caret is at the start of a text node. In some scripts, backward deletion within a text node with a collapsed selection will delete a code point rather than a grapheme. A grapheme can consist of several characters, where each character corresponds to a code point. The getTargetRanges() method can be used to find out how many characters the browser will remove by default if deleting within a text node.

<tr><td>
次のいずれか：
<ul ><li>他の `inputType$m 値に該当しない意図の下で、~caret位置の直後にある内容を削除する
</li><li>畳まれてない選択を，削除~後にその終点に畳まれるように削除する
</li></ul>
◎
If the user expresses an intention to delete the content directly after the caret position and this intention is not covered by another inputType or the user expresses an intention to delete a non-collapsed selection with the selection collapsing to its end after the deletion, the inputType MUST be "deleteContentForward".
<td>`deleteContentForward^l

<tr><td colspan="2">
<p class="note">注記：
上の `deleteContentBackward^l と同じ注記が `deleteContentBackward^l にも該当する
— その記述の “始端” を “終端” に置き換えることを除いて。
◎
Note
If the selection is collapsed, "deleteContentForward" will be used both when the user asks for text deletion within a text node, and when the user shows the intention to deletion of more complex elements or merge paragraphs if the caret is at the end of a text node. In some scripts, forward deletion within a text node with a collapsed selection will delete a grapheme rather than a code point. A grapheme can consist of several characters, where each character corresponds to a code point. The getTargetRanges() method can be used to find out how many characters the browser will remove by default if deleting within a text node.
</p>

<tr><td>
最後の編集~動作を~undoする
◎
If the user expresses an intention to undo the last editing action, the inputType MUST be "historyUndo".
<td>`historyUndo^l

<tr><td>
最後の編集~動作を~redoする
◎
If the user expresses an intention to redo the last editing action, the inputType MUST be "historyRedo".
<td>`historyRedo^l

<tr><td>
~bold~textを起動する
◎
If the user expresses an intention to initiate bold text, the inputType MUST be "formatBold".
<td>`formatBold^l

<tr><td>
~italic~textを起動する
◎
If the user expresses an intention to initiate italic text, the inputType MUST be "formatItalic".
<td>`formatItalic^l

<tr><td>
~underline~textを起動する
◎
If the user expresses an intention to initiate underline text, the inputType MUST be "formatUnderline".
<td>`formatUnderline^l

<tr><td>
~stricken~textを起動する
◎
If the user expresses an intention to initiate stricken through text, the inputType MUST be "formatStrikeThrough".
<td>`formatStrikeThrough^l

<tr><td>
~superscript~textを起動する
◎
If the user expresses an intention to initiate superscript through text, the inputType MUST be "formatSuperscript".
<td>`formatSuperscript^l

<tr><td>
~subscript~textを起動する
◎
If the user expresses an intention to initiate subscript through text, the inputType MUST be "formatSubscript".
<td>`formatSubscript^l

<tr><td>
現在の選択を中央に寄せる
◎
If the user expresses an intention to justify center the current selection, the inputType MUST be "formatJustifyCenter".
<td>`formatJustifyCenter^l

<tr><td>
現在の選択を右端に寄せる
◎
If the user expresses an intention to justify right the current selection, the inputType MUST be "formatJustifyRight".
<td>`formatJustifyRight^l

<tr><td>
現在の選択を左端に寄せる
◎
If the user expresses an intention to justify left the current selection, the inputType MUST be "formatJustifyLeft".
<td>`formatJustifyLeft^l

<tr><td>
現在の選択の字下げを増やす
◎
If the user expresses an intention to indent the current selection, the inputType MUST be "formatIndent".
<td>`formatIndent^l

<tr><td>
現在の選択の字下げを減らす
◎
If the user expresses an intention to outdent the current selection, the inputType MUST be "formatOutdent".
<td>`formatOutdent^l

<tr><td>
現在の選択からすべての整形情報を除去する
◎
If the user expresses an intention to remove all formatting from the current selection, the inputType MUST be "formatRemove".
<td>`formatRemove^l

<tr><td>
~text塊~方向を設定する
◎
If the user expresses an intention to set the text block direction, the inputType MUST be "formatSetBlockTextDirection".
<td>`formatSetBlockTextDirection^l

<tr><td>
~text~行内~方向を設定する
◎
If the user expresses an intention to set the text inline direction, the inputType MUST be "formatSetInlineTextDirection".
<td>`formatSetInlineTextDirection^l

<tr><td>
背景~色を変更する
◎
If the user expresses an intention to change the background color, the inputType MUST be "formatBackColor".
<td>`formatBackColor^l

<tr><td>
~font色を変更する
◎
If the user expresses an intention to change the font color, the inputType MUST be "formatFontColor".
<td>`formatFontColor^l

<tr><td>
~linkを挿入する
◎
If the user expresses an intention to insert a link, the inputType MUST be "insertLink".
<td>`insertLink^l

<tr><td>
`font-family^p を変更する
◎
If the user expresses an intention to change the font-family, the inputType MUST be ."formatFontName". 
<td>`formatFontName^l

</td></tr></tbody></table>

	</dd>
	<dd class="note">注記：
<p>
~IME~組成（ composition ）は，いくつかの `beforeinput$et ~eventを生じさせるが、それらすべてを取消せるとは限らない。
組成の間， `beforeinput$et ~eventは、次に従って誘発される：
◎
Note: beforeinput events during IME composition
◎
This section is not normative.
◎
An IME composition causes several beforeinput events, not all of which can be canceled.
</p>


		<ol>
			<li>
<p>
この段は、初期~組成~文字列
【組成~開始-時の選択~内容】
が空の場合（すなわち，この組成は既存の~DOM範囲を再組成するものではない）は，飛ばされる。
◎
If the composition is starting with an empty initial composition string (i.e. the composition is not recomposing an existing range of the DOM), this step is skipped.
</p>

				<ul>
					<li>
~UAは、~DOMから初期~組成~文字列を抽出する。
◎
The UA extracts the initial composition string from the DOM.
</li>
					<li>
<p>
`beforeinput$et ~eventが，次のようにされた上で誘発される：
</p>

<ul><li>`inputType$m ~SET `deleteByComposition^l
</li><li>`getTargetRanges()$m が返す `StaticRange$I Array は、~DOMにおける初期~組成~文字列が占めている範囲を表現する。
</li></ul>

◎
A beforeinput event with the inputType "deleteByComposition" is triggered. The targetRanges of this beforeinput event is an array of static ranges covering the part of the DOM from which the initial composition string was extracted.
</li>
					<li>
この~eventに対する既定~動作は、初期~組成~文字列が占めていた部位を~DOMから除去する。
◎
The default action for this beforeinput event is the removal of the targetRanges from the DOM (i.e. the initial composition string will be removed from the DOM).
</li>
					<li>
この~eventは、取消せる
— 取消した場合、前項の既定~動作は防止される。
~eventを取消す／取扱うことにより，組成が終えられたり, 組成が初期~組成~文字列の内容に波及しなくなることはない。
◎
The beforeinput event can be canceled. Canceling the event will prevent the browser from removing the initial composition string from the DOM. Canceling or handling the event will not prevent the composition from taking place or influence the contents of the initial composition string.
</li>
				</ul>
			</li>
			<li>
組成を開始する。
◎
The composition starts.
</li>
			<li>
<p>
この段は、初期~組成~文字列が空の場合は，飛ばされる。
</p>

				<ul>
					<li>
<p>
`beforeinput$et ~eventが，次のようにされた上で誘発される：
</p>

<ul><li>取消せない
</li><li>`inputType$m ~SET `insertCompositionText^l
</li><li>`data$m ~SET 初期~組成~文字列
</li></ul>

					</li>
					<li>
この~eventに対する既定~動作は、初期~組成~文字列を 組成~処理-により制御される~DOMの範囲の中へ挿入する。
</li>
				</ul>

◎
If the composition has an empty initial composition string, this step is skipped.
◎
A non-cancelable beforeinput event with the inputType "insertCompositionText" is triggered with the data attribute set to the initial composition string. The default action for this event is the insertion of the initial composition string into the range of the DOM controlled by the composition process.
</li>
			<li>
<div class="p">

<p>
組成~文字列による各~DOM更新-に対し， `beforeinput$et ~eventが，次のようにされた上で誘発される：
</p>
<ul><li>取消せない
</li><li>`inputType$m ~SET `insertCompositionText^l
</li><li>`data$m ~SET 更新された組成~textの内容
</li></ul>

<p>
この~eventに対する既定~動作は、組成により制御される~DOM範囲, および組成~文字列を，両者とも この~eventの `data$m 属性~値に合致するように改変する。
</p>
◎
With each DOM update of the composition string, a non-cancelable beforeinput event with the inputType "insertCompositionText" is triggered with the data attribute set to the updated contents of the composition text. The default action for this event is the modification of range of the DOM controlled by the composition as well as the composition string so that both match the value of the data attribute of the beforeinput event.
</div>

<p>
この段は、~DOMに~commitされることになる~text（すなわち、組成により制御される範囲の外側にあって，~DOMの一部になるもの）がある限り，繰り返される。
◎
This step is repeated as long as no text is to be committed to the DOM (i.e. is made to be part of the DOM outside the range controlled by the composition).
</p>
			</li>
			<li>
<p>
組成~文字列の一部または全部が~DOMに~commitされるときは、
`beforeinput$et ~eventが，次のようにされた上で誘発される：
</p>

<ul><li>取消せない
</li><li>`inputType$m ~SET `deleteCompositionText^l
</li></ul>

<p>
この~eventに対する既定~動作は、組成~処理-により制御される範囲を~DOMから除去する。
</p>
◎
When the part or the entire composition string is to be committed to the DOM, a non-cancelable beforeinput event with the inputType "deleteCompositionText" is triggered. The default action for this event is that the range controlled by the composition process is remvoed from the DOM is removed from the DOM.
</li>
			<li>
<p>
`beforeinput$et ~eventが，次のようにされた上で誘発される：
</p>

<ul><li>取消せる
</li><li>`inputType$m ~SET `insertFromComposition^l
</li><li>`data$m ~SET ~DOMに~commitされることになる 最終的な組成~文字列の一部
</li></ul>


この~eventに対する既定~動作は、 `data$m 属性~値を~DOMの中の選択の所に挿入する。
◎
A cancelable beforeinput event with the inputType "insertFromComposition" is triggered with the data attribute set to the part of the final composition string that is to be committed to the DOM. The default action for this event is inserting the value of the data attribute into the DOM at the place of the selection.
</li>
			<li>
組成~文字列の一部のみが~DOMに~commitされる場合、組成~文字列の まだ~commitされていない部分を新たな初期~組成~文字列とする下で，段 3 へ戻る。
◎
If only a part of the composition string was committed to the DOM, while another part is not yet to be committed, the process starts over from step 3 with the non-committed part of the final composition string as the new initial composition string.
</li>
			<li>
組成を終える。
◎
The composition ends.
</li>
		</ol>
	</dd>

	<dt>`cancelable$m</dt>
	<dd>
<p>
`inputType$m 値が次のいずれかに初期化される場合には ~F に初期化する：
</p>

<ul ><li>`insertCompositionText^l
</li><li>`deleteCompositionText^l
</li></ul>
◎
↑↑</dd>

	<dt><dfn id="dfn-data">`data$m</dfn></dt>
	<dd>
この属性は、文書に追加されるものに関係する~plaintext~data情報を保持する
◎
data holds information plaintext data related to what is to be added to the document.
</dd>
	<dd>
<p>
`inputType$m の値に応じて，次で与えられる値に初期化される：
◎
↑</p>

		<dl class="switch">
			<dt>`insertText^l</dt>
			<dt>`insertCompositionText^l</dt>
			<dt>`insertFromComposition^l</dt>
			<dd>
挿入されようとしている~text文字列
◎
If the inputType is "insertText", "insertCompositionText" or "insertFromComposition", the value of data is to be the plain text string to be inserted.
</dd>

			<dt>`insertFromPaste^l</dt>
			<dt>`insertFromDrop^l</dt>
			<dt>`insertTranspose^l</dt>
			<dt>`insertReplacementText^l</dt>
			<dt>`insertFromYank^l</dt>
			<dd>
編集中の~hostが`編集可能$ならば、挿入されようとしている素の~text文字列 ／
~ELSE_ ~NULL
◎
If the editing host is not a contenteditable element and the inputType is "insertFromPaste", "insertFromDrop", "insertTranspose", "insertReplacementText", or "insertFromYank" the value of data is to be the plain text string to be inserted.
</dd>

			<dt>`formatSetBlockTextDirection^l</dt>
			<dt>`formatSetInlineTextDirection^l</dt>
			<dd>
次のいずれかになる：
`ltr^l, `rtl^l, `auto^l, `null^l
◎
If the inputType is "formatSetBlockTextDirection" the value of data is to be one of "ltr", "rtl", "auto" or "null".
◎
If the inputType is "formatSetInlineTextDirection" or "formatFontColor" the value of data is to be one of "ltr", "rtl", "auto" or "null".
<!-- ＊formatFontColor 誤記 -->
</dd>

			<dt>`formatBackColor^l</dt>
			<dt>`formatFontColor^l</dt>
			<dd>
16 進表記による，~~要請された色~値
◎
If the inputType is "formatBackColor" or "formatFontColor" the value of data is to be the hex digit value of the proposed color.
</dd>

			<dt>`formatFontName^l</dt>
			<dd>
~~要請された CSS `font-family^p ~prop値
◎
If the inputType is "formatFontName" the value of data is to be the proposed value of the font-family CSS property.
</dd>

			<dt>`insertLink^l</dt>
			<dd>
~~要請された~link~url
◎
If the inputType is "insertLink" the value of data is to be the url of the proposed link.
</dd>

			<dt>その他</dt>
			<dd>
~NULL
◎
Else, the value of data is to be null.
</dd>
		</dl>
	</dd>

	<dt>`dataTransfer@m</dt>
	<dd>
［
文書から取り出される ／ 文書に追加される
］ような，関連する［
~richtextや~plaintext
］の~dataがあれば、その情報を
`DataTransfer$I ~obj `HTML-LIVING$r
内に保持する。
</dd>
	<dd>
<p>
［
次の条件 (A) が満たされるならば その下の (B) に与える値 ／
~ELSE_ ~NULL
］で拡充される：
◎
dataTransfer holds information about richtext and plaintext data that is to be taken from or added to the document in a DataTransfer object if there is relevant data.
</p>

		<dl>
			<dt>(A)</dt>
			<dd>
<ul><li>編集中の~hostは`編集可能$である ~AND
</li><li>`inputType$m ~IN {
`insertFromPaste^l, `insertFromDrop^l, `insertTranspose^l, `insertReplacementText^l, `insertFromYank^l
}
</li></ul>
◎
If the editing host is a contenteditable element and the inputType is "insertFromPaste", "insertFromDrop", "insertTranspose", "insertReplacementText", or "insertFromYank" the dataTransfer attribute is a prepopulated DataTransfer object so that:
</dd>

			<dt>(B)</dt>
			<dd>
<p>
`DataTransfer$I ~objであって，その`~item~list$dndは，次に与える［
%item1, %item2
］からなるもの：
</p>

<ul ><li>%item1 の`実~data$dnd ~SET 追加される内容の~HTML~表現
</li><li>%item2 の`実~data$dnd ~SET 追加される内容の素の~text~表現
</li><li>両者とも，その`型~文字列$dnd ~SET `text/html^l
</li><li>両者とも，その`種類$dnd ~SET <i>Plain Unicode string</i>
</li></ul>

<p>
追加される内容とは、例えば 次のものが挙げられる：
~clipboard内にあるもの ／
`~kill-buffer$内にあるもの ／
~pasteされたもの ／
~dropされたもの。
</p>

◎
The DataTransfer object's drag data store item list contains one entry with the draf data item type string "text/html", whose kind is Plain Unicode string, and whose data is a HTML representation of the content that is in the clipboard, in the kill buffer, to be dropped or otherwise the content that is to be added. [HTML-LIVING]
◎
The DataTransfer object's drag data store item list contains one entry with the draf data item type string "text/plain", whose kind is Plain Unicode string, and whose data is a plain text representation of the content that is to be pasted, dropped or otherwise added. [HTML-LIVING]
◎
Else, the dataTransfer attribute is null.
</dd>
		</dl>
	</dd>
</dl>


		</section>
		<section id="interface-InputEvent-Methods">
<h4 title="Methods">5.1.3. ~method</h4>


<div class="p">
<p>
`getTargetRanges()@m
は、この~eventに結付けられている `StaticRange$I  Array を返す
— ただし、次のいずれかの場合は 空 Array を返す：
</p>

<ul ><li>`inputType$m ~IN { `historyUndo^l, `historyRedo^l }
</li><li>`編集中の~host$は`編集可能$でない
</li></ul>
◎
getTargetRanges() returns an Array of StaticRanges associated with this event, unless the inputType is "historyUndo" or "historyRedo" or the editing host is not a contenteditable element, in which case it returns an empty Array.
</div>

<pre class="idl">
dictionary `StaticRange@I {
    Node          startContainer;
    unsigned long startOffset;
    Node          endContainer;
    unsigned long endOffset;
};
</pre>



			</section>
		</section>
		<section id="event-definitions">
<h3 title="Event definitions">5.2 各種~eventの定義</h3>


`●型^ `beforeinput@et
`●界面^ `InputEvent$I
`●同期^ あり
`●浮上^ する
`●標的^ `編集可能$である任意の要素
◎
Any Element with contenteditable attribute enabled.

`●既定動作^

文脈依存：

<ul>
	<li>
`contentEditable$m が `typing^l にされた`編集中の~host$においては、
`inputType$m ~IN［
`insertCompositionText^l ／ `deleteCompositionText^l
］ならば，
“~DOMを更新する”
。
</li>
	<li>
`contentEditable$m が `true^l にされた`編集中の~host$においては、
`inputType$m が何であれ，
“~DOM要素を更新する”
</li>
	<li>
他の場合は、なし
</li>
</ul>

◎
Varies: 'Update the DOM' for contentEditable=typing editing hosts for inputTypes "insertCompositionText" and "deleteCompositionText". 'Update the DOM element' for contentEditable="true" editing hosts for all inputTypes. None otherwise.

`●文脈^

<dl>

	<dt>`InputEvent.data$m</dt>
	<dd>
要素に追加された~dataを包含している文字列。
適用されない場合は ~NULL になる。
◎
InputEvent.data: the string containing the data that was added to the element, which MAY be null if it doesn't apply.
</dd>

	<dt>`dataTransfer$m</dt>
	<dd>
要素［
に追加された／から削除された
］~richtextを包含している文字列。
適用されない場合は ~NULL になる。
◎
InputEvent.dataTransfer: richtext data added or removed from element, which MAY be null if it doesn't apply.
</dd>

	<dt>`getTargetRanges()$m</dt>
	<dd>
取消されなかった場合には、~DOMに対する変更により影響されることになる `StaticRange^I の配列を返す。
◎
InputEvent.getTargetRanges(): returns an arrays of Static Cranges which will be affected by the change to the DOM if it is not canceled.
</dd>
</dl>


`●表終^


<p>
~UAは、利用者が`編集可能$な要素にて入力を試みたときに，この~eventを`配送-$し~MUST。
これは、~UAが~DOMを更新することを意味するとは限らない。
◎
A user agent MUST dispatch [UI-EVENTS] this event when the user has attempted to input in a contenteditable element. It does not necessarily mean the user agent [UI-EVENTS] will then update the DOM.
</p>

<p>
~UAは、~system~eventなど，利用者により試みられた入力~以外に因る~eventに対しては、この~eventを`配送-$しては~MUST_NOT。
◎
A user agent MUST NOT dispatch [UI-EVENTS] this event due to events that are not caused by attempted user input, such as system events.
</p>



`●型^ `input@et
`●界面^ `InputEvent$I
`●同期^ あり
`●浮上^ する
`●標的^ `編集可能$である任意の要素
◎
Any Element with contenteditable attribute enabled.
`●既定動作^ なし
`●文脈^


<dl>

	<dt>`InputEvent.data$m</dt>
	<dd>
要素に追加された~dataを包含している文字列。
適用されない場合は ~NULL になる。
◎
InputEvent.data: the string containing the data that was added to the element, which MAY be null if it doesn't apply.
</dd>

	<dt>`dataTransfer$m</dt>
	<dd>
要素［
に追加された／から削除された
］~richtextを包含している文字列。
適用されない場合は ~NULL になる。
◎
InputEvent.dataTransfer: richtext data added or removed from element, which MAY be null if it doesn't apply.
</dd>


</dl>

`●表終^

<p>
~UAは、［
利用者が［
~browserが取扱った文書~内容
］を変更する意図を表したことに因り，~DOMが更新された直後
］に，この~eventを`配送-$し~MUST。
◎
A user agent MUST dispatch [UI-EVENTS] this event immediately after the DOM has been updated due to a user expressed intention to change the document contents which the browser has handled.
</p>


		</section>
	</section>

</main></div>

	<section>
<h2 title="Acknowledgements">謝辞</h2>

<p>
次の方々に：
</p>

<div>
Thanks to:

Michael Aufreiter,
Adrian Bateman,
Oliver Buchtala,
Robin Berjon,
Enrica Casucci,
Bo Cupp,
Domenic Denicola,
Emil Eklund,
Olivier Forget,
Aryeh Gregor,
Marijn Haverbeke,
Yoshifumi Inoue,
Koji Ishii,
Gary Kacmarcik,
Ian Kilpatrick,
Frederico Caldeira Knabben,
Takayoshi Kochi,
Piotrek Koszuliński,
Travis Leithead,
Grisha Lyukshin,
Miles Maxfield,
Chaals McCathie Nevile,
Masayuki Nakano,
Ryosuke Niwa,
Julie Parent,
Ben Peters,
Florian Rivoal,
Morgan Smith,
Hallvord R. M. Steen,
Johan Sörlin,
Cristian Talau,
Dave Tapuska,
Ojan Vafai,
Léonie Watson,
Xiaoqian Wu,
Chong Zhang,
Joanmarie,

and everyone in the Editing Taskforce for their input and feedback.
</div>
	</section>



	<section id="references">

<h2 title="References">参照文献</h2>

		<section id="references-References-Normative">
<h3 title="Normative references">文献（規範的）</h3>

<dl>
	<dt>[DATA-TRANSFER]</dt>
	<dd>WHATWG. The DataTransfer interface</dd>
	<dd>https://html.spec.whatwg.org/multipage/interaction.html#the-datatransfer-interface</dd>

	<dt>[HTML-LIVING]</dt>
	<dd>WHATWG. HTML Living Standard.</dd>
	<dd>https://html.spec.whatwg.org/multipage/interaction.html</dd>

	<dt>[UI-EVENTS]</dt>
	<dd>Gary Kacmarcik; Travis Leithead. W3C. UI Events. 4 August 2016. W3C Working Draft.</dd>
	<dd>https://www.w3.org/TR/uievents/</dd>
</dl>


		</section>
<!-- 
		<section id="references-References-Informative">
<h3 title="Informative References">文献（参考）</h3>

		</section>
 -->
	</section>

</body></html>
