<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<title>Frame Timing （日本語訳）</title>

<link rel="stylesheet" href="common.css" type="text/css" />
<link rel="stylesheet" href="common-w3c.css" type="text/css" />
<script src="common0.js" ></script>
<script src="common1.js" async></script>


<script>
var source_data;

COMMON_DATA.init = function(expanded){
	var options = {
		original_url: 'https://w3c.github.io/frame-timing/',
//		spec_status: 'WD',
		main: 'MAIN',
		fill_text_link: '#_versions > dd, #references dd',
		alt_refs: 'references',
		ref_id_prefix: 'bib-',
//		ref_id_lowercase: true,
	};

	if(expanded) return options;

	source_data = {
		html: E('MAIN').innerHTML,
		link_map: Util.getMapping('_link_map'),
		levels: '英語主体:英語寄り:漢字主体:カナ主体',
		level: 2,
		generate: expand
	};
	Util.switchWordsInit(source_data);

//	Util.del_j(); // checked: 2015-09-25-WD spec

	return options;
}

function expand(mapping1){

	var class_map = {
//		l: 'literal',
		tnote: 'trans-note'
	};

	var tag_map = {
		I: 'code',
		m: 'code',
		c: 'code',
		e: 'code',
//		l: 'code',
		v: 'var',
		tnote: 'span'
	};

	var link_map = this.link_map;

	E('MAIN').innerHTML = Util.replaceWords1(
		this.html.replace(
			/◎[^<◎]*|`(.+?)([$@\^])(\w*)/g,
			create_html
		),
		mapping1
	);
	// 目次構築
	Util.rebuildToc('MAIN0', '_toc_list0');

	function create_html(match, key, indicator, klass){


if(!key) {
	return '<span lang="en">' + match.slice(1) + '</span>';
}

var text = key;
var href = '';
var classname = class_map[klass];
var tag = tag_map[klass];

switch(klass){
case 'r': // ref
	text = '[' + key + ']';
	href = '#bib-' + key;
	break;
case 'l': // literal
	text = '"<code class="literal">' + text + '</code>"'
	break;
case 'I': // IDL interface
	href = '#' + key;//.toLowerCase();
	break;
case 'm': // IDL member
	break;
case 'v': // variables
	break;
case 'tnote': 
	text = '【' + text + '】';
	break;
default: //
	break;
}

if(tag) {
	text = '<' + tag + (
		classname ? ' class="' + classname + '"' : ''
	) + '>' + text + '</' + tag + '>';
}


if(indicator !== '^'){
	href = link_map[klass ? (klass + '.' + key) : key] || href;
	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '$':
		text = '<a href="' + href + '">' + text + '</a>';
		break;
	case '@':
		text = '<dfn id="' + href.slice(1) + '">' + text + '</dfn>';
		break;
	default:
		console.log(match);
		return match;
	}
}

return text;


	}
}
</script>



<!--% 訳文 id → 原文 id -->
<script type="text/plain" id="_original_id_map">
PerformanceFrameTiming:dom-performanceframetiming
	PerformanceFrameTiming:idl-def-performanceframetiming
	PerformanceFrameTiming:idl-def-PerformanceFrameTiming
	PerformanceFrameTiming:dom-PerformanceFrameTiming
	PerformanceFrameTiming:dfn-performanceframetiming
dom-PerformanceFrameTiming-duration:widl-PerformanceFrameTiming-duration
dom-PerformanceFrameTiming-startTime:widl-PerformanceFrameTiming-startTime
dom-PerformanceFrameTiming-nam:widl-PerformanceFrameTiming-name
dom-PerformanceFrameTiming-entryType:widl-PerformanceFrameTiming-entryType

</script>

<!--%links -->
<script type="text/plain" id="_link_map">
I.PerformanceEntry:~TIMELINE#the-performanceentry-interface
I.PerformanceFrameTiming:#PerformanceFrameTiming
I.DOMHighResTimeStamp:~HRTIME#dom-domhighrestimestamp
I.Document:~HTMLDOM#document
	dom-Performance-now
	idl-def-DOMHighResTimeStamp
	idl-def-domhighrestimestamp
	dom-domhighrestimestamp
	domhighrestimestamp
	I.DOMString:http://www.w3.org/TR/WebIDL/#idl-DOMString

m.duration:#dom-PerformanceFrameTiming-duration
m.startTime:#dom-PerformanceFrameTiming-startTime
m.name:#dom-PerformanceFrameTiming-name
m.entryType:#dom-PerformanceFrameTiming-entryType

m.Performance.now():~HRTIME#dom-Performance-now

m.requestIdleCallback():~REQUESTIDLECALLBACK#dom-Window-requestIdleCallback
m.requestAnimationFrame():~HTMLGAPI#dom-window-requestanimationframe
~frame:#dfn-frame
~frame時間枠:#dfn-time-budget-for-the-frame
	Performance Timeline:http://www.w3.org/TR/performance-timeline/
~eventloop:~WAPI#event-loops
~eventloop処理~model:~WAPI#event-loop-processing-model
	continuous event loop
	step 1 of the browser processing model
	step 8.10 of the browser processing model

</script>

<!--%置換語 -->

<script type="text/plain" id="words_table1">
REQUESTIDLECALLBACK:requestidlecallback-ja.html
	https://w3c.github.io/requestidlecallback/
TIMELINE:performance-timeline-2-ja.html
	http://www.w3.org/TR/performance-timeline-2/
	http://www.w3.org/TR/performance-timeline/
	HRTIME:
	http://w3c.github.io/hr-time/
	http://www.w3.org/TR/hr-time-2/
	http://www.w3.org/TR/hr-time/
	HTML5:
		https://html.spec.whatwg.org/multipage
		http://www.w3.org/TR/html5/

</script>

<!--%語彙 -->
<script type="text/plain" id="words_table">
UA:user agent:UA
access:::アクセス
address:::アドレス
app:application::アプリ
browser:::ブラウザ
hook:::フック
step:
callback::::コールバック
cost:::コスト
entry:::エントリ
eventloop:event loop::イベントループ
event:::イベント
touch:::タッチ
frame:::フレーム
animation:::アニメーション
handler:::ハンドラ
interface:::インタフェース
logic:::ロジック
method:::メソッド
model:::モデル
object:::オブジェクト
privacy:::プライバシー
scroll:::スクロール
security:::セキュリティ
task:::タスク
web:::ウェブ
version:::バージョン
待入する:queue する::待ち行列に入れる:キューする
事由:reason:~
仕事:work:~
仕様:spec:~
仕組み:mechanism:~
体験:experience:~
保証-:guarantee:~
修正-:fix:~
値:value:~
偽陽性:false-positive:~
元凶:culprit:~
入力:input:~
公開-:expose:~
処理:processing:~
処理-:process:~
処理能:performance:~
利用者:user:~::ユーザ
制約-:restrict:~
制限-:limit:~
割当て:allotted:~
単純:simple:~
	でき:enable:~
見合う:match する:~
報告-:report:~
報告:reporting:~
塗り:paint:~
試行錯誤-:exercise:~
完了-:complete:~
定義-:define:~
定義:definition:~
実行:execution:~
実行時:runtime:~
属性:attribute:~
差挟む:interleave する:差し挟む
応答:response:~
応答性:responsiveness:~
情報:information:~
所要時間:duration:~
手助け:help:~
手段:means:~
手続き:steps:~
拡張-:extend:~
指示-:indicate:~
捕捉-:capture:~
描画:rendering:~::レンダリング
改善:improvement:~
	improve
新たな:new:~
時刻:time:~
時間:time:~
時間枠:time budget:~
時間差:difference:~
更新:update:~
更新率:refresh rate:~::リフレッシュレート
期待-:expect:~
極小task:microtask::極小タスク:マイクロタスク
機器:device:~
機敏:responsive:~::レスポンシブ
決定-:determine:~
滑らか:smooth:~
特定0の:particular:ある特定の
現在の:current:~
環境設定:configuration:~
監視-:monitor:~
監視:monitoring:~
直列化:serialization:~::シリアル化
直列化-:serialize:~::シリアライズ
直列化子:serializer:~::シリアライザ
結付けら:associate さ:結び付けら
継承:inherited:~
	絶え間なく:continuous:~
義務付けな:mandate しな:~
自前の:own:~
要件:requirements:~
要因:factor:~
観測-:observe:~
計時:timing:~
設定-:set:~
許容-:allow:~
説明:explain:~
問題:issue:~
調整-:adjust:~
特定-:identify:~
走らせ:run させ:~
走らす:run する:~
超過-:exceed:~
追加の:additional:~
連続する:successive:~
遅延:delay:~
遊休:idle::~
適応させ:adapt す:~
適正:proper:~
始端:start:~
終端:end:~
開発者:developer:~
関与-:participate:~
閾値:threshold:しきい値
電力消費:power consumption:~
頻度:frequency:~
飛ばさ:skip さ:~
高価な:expensive:~
事例:case:~
対話的:interactive::~:インタラクティブ
予定済の:scheduled::予定済みの
不揃い:inconsistent:~
提供0-:deliver:提供
送達:delivery:~
目的の:target:~
織込む:account する:織り込む
遅い:slow:~
遅いこ:slow なこ:~

原因:cause:~
	収まる:stay する:~
文書:document:~
通知:notification:~
集約-:aggregate:~
解析:analytics:~
申込む:subscribe:申し込む
目的の:target:~

作業草案:Working Draft:~
勧告:Recommendation:~
意図-:intend:~

全部的:full:~
作動中の:active:~
欲され:desire され:~
vsync::video 同期:ビデオ同期

	ある:certain:~
	この:this:~
	そのような:such:~
	他の:other:~
	例:example:~
	各:each:~
	後:after:~
	必要とされる:necessary:~
	最も近い:closest:~

	異なる:different:~
	等々:etc:~
	結果:result:~
	返-:return:~
	欠かせない:critical::~
	order::~
	責を負うresponsible::~
	~~処理running::~
	hurt:悪化する
	長くかかるlong-running::~
	stay
	instance
	map
	hook
	step
	entry
	基づく／subject
	long
	おそらくprobably

</script>



<!--%style  -->

<style type="text/css">

#_frames1 {
	white-space: nowrap;
}
#_frames1 > span {
	border: solid black 2px;
	padding: 3px;
	border-radius: 5px;
	background: yellow;
	vertical-align: middle;
}

#_frames1 > div {
	display: inline-block;
	border-left: dashed currentcolor 2px;
	color: red;
	height: 4em;
	width: 0;
	vertical-align: middle;
	position: relative;
}
#_frames1 > div > div {
	position:absolute;
	text-align:center;
}

</style>

</head>

<body>


<div style="display:none;">
<input type="hidden" id="_page_config" value="" />
</div>

<aside class="trans-meta">
<h1>Frame Timing 日本語訳</h1>
<p>
<a id="_THIS_PAGE">このページ</a>
は、
<a href="http://www.w3.org/">WICG</a> により，副題に日付にて<strong >編集者草案</strong>として公開された
<a id="_SPEC_URL">Frame Timing</a>
を日本語に翻訳したものです。
<strong >この翻訳の正確性は保証されません。</strong>
この仕様の公式な文書は英語版であり、この日本語訳は公式のものではありません。
【 と 】で囲まれた部分は<span class="trans-note">【訳者による注釈】</span>です。
（<a href="index.html">他のウェブ関連仕様の一覧と共通機能の詳細</a>）
</p>

<p >
更新： <time>2016-05-06</time>
（公開：<time>2015-01-25</time> ）
</p>

<p >
このページの大部分はスクリプトにより生成されています（
古いブラウザなど，一部のブラウザには対応していません：
<span id="_GENERATING"></span>）。
</p>

<p>
本文ダブルクリックで当該箇所の原文が表示されます（左下隅に各種 表示切替ボタン — CSS や DOM の対応が古いブラウザでは、一部機能しないことがあります）。
</p>

<address id="_CONTACT">　</address>

</aside>



<header>

<div><a href="http://www.w3.org/" id="_W3C">W3C</a></div>


<h1>フレームの計時 — Frame Timing</h1>
<h2>2016 年 7 月 20 日 Draft Community Group Report</h2>

<dl id="_versions">
	<dt title="Latest Editor’s Draft:">最新の編集者草案</dt>
	<dd>https://w3c.github.io/frame-timing/</dd>

	<dt title="Editors:">編集</dt>
	<dd>Michael Blain, Google, mpb@google.com</dd>
	<dd>Ilya Grigorik, Google, igrigorik@gmail.com</dd>

	<dt>Repository:</dt>
	<dd><a href="https://github.com/w3c/frame-timing/">We are on Github.</a></dd>
	<dd><a href="https://github.com/w3c/frame-timing/issues">File a bug.</a></dd>
	<dd><a href="https://github.com/w3c/frame-timing/commits/gh-pages/index.html">Commit history.</a></dd>
</dl>

<small class="copyright">
<a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 
2016
the Contributors to the Frame Timing Specification, published by the
<a href=""></a> under the
<a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>.
A human-readable <a href="http://www.w3.org/community/about/agreements/cla-deed/">summary</a> is available.
</small>


</header>


<div id="MAIN" style="display:none;">

	<section id="abstract" class="introductory">
<h2 title="Abstract">要約</h2>

<p>
~web~appは、滑らかで機敏な利用者~体験を提供0するため，［
描画（ rendering ）, 入力の処理, その他の欠かせない仕事
］を遅延させる問題を特定して修正する必要がある。
この仕様は、［
~appが，~browserによる~eventloopの実行時 処理能~情報に~accessする
］ための~interfaceを定義し、それを可能にする。
◎
This specification defines an interface for web applications to access runtime performance information of the browser event loop, enabling them to identify and fix issues that cause delayed rendering, processing of input, and other critical work necessary to deliver a smooth and responsive user experience.
</p>

	</section>
	<section id="sotd">

<h2 title="Status of this document">この文書の位置付け</h2>

<p>
この仕様は〜により発行されました。
これは W3C Standards ではなく W3C Standards Track の対象でもありません。
<a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>
の下， opt-out には制限があり、他の条件も適用され得ることに注意してください。
~~詳細は
<a href="http://www.w3.org/community/">W3C Community and Business Groups</a>
に。
◎
This specification was published by the . It is not a W3C Standard nor is it on the W3C Standards Track. Please note that under the W3C Community Contributor License Agreement (CLA) there is a limited opt-out and other conditions apply. Learn more about W3C Community and Business Groups.
</p>

<p>
これは<strong>進行中の作業</strong>であり、予告なしに変更され得ます。
◎
This is a work in progress and may change without any notices.
</p>
	</section>

<nav class="toc" id="table-of-contents">
<h2 title="Table of Contents">目次</h2>
<ol id="_toc_list0"></ol>
</nav>

<main id="MAIN0">

	<section class="informative" id="introduction">

<h2 title="Introduction">1. 序論</h2>

~INFORMATIVE

<p>
対話的な利用者~体験を提供0するため、`~eventloop処理~model$では，ある更新~頻度（例： 更新率 60Hz ）で，絶え間なく`~eventloop$を走らす。
この~eventloopの各~実行は、次に挙げるもの その他の，必要とされる仕事に対し責を負う：
予定済の~task（例： 入力, ~touch, ~scroll, 等々） ／
結付けられている極小task ／
予定済の~callback（例： `requestAnimationFrame()$m, `requestIdleCallback()$m
） ／
必要とされる描画の更新~~処理。
◎
In order to deliver an interactive user experience the browser processing model runs a continuous event loop at a certain update frequency - e.g. 60Hz refresh rate. Each execution of the event loop is responsible for processing scheduled tasks (e.g. input, touch, scroll, etc.), associated microtasks, scheduled callbacks (e.g. requestAnimationFrame, requestIdleCallback), running the necessary rendering updates, and other necessary work.
</p>

<!-- frame-timing/frame.png -->
<figure>
<div style="padding-bottom: 3.5em;">
	<div style="border-bottom: solid black 1px;" title="時間軸">
時間 →
<span style="float:right;">→</span>
	</div>

	<div id="_frames1">
…
<span style="border-color:#3A7726; background:#B7D8AA;">遊休~callback</span>
		<div>
<div style="top:-1.3em;left:-4em;width:8em; font-size:small;">~vsync</div>
<div style="bottom:-1em; left:-1px; width:20em; height:10px; border:solid black 1px; border-style:none none solid solid"></div>
		</div>

<span style="border-color:#4385C5; background:#D0E2F2;">~taskを走らす</span>
<span style="border-color:#F0C441; background:#FEF3CE;">描画の更新</span>
<span style="border-color:#3A7726; background:#B7D8AA;">遊休~callback</span>
		<div>
<div style="top:-1.3em;left:-4em;width:8em; font-size:small;">~vsync</div>
<div style="bottom:-1em; right:1px; width:20em; border:solid black 1px; height:10px; border-style:none solid solid none"></div>
<div style="color:black;border:solid black 1px; bottom:-2em; right:8em; background: white; padding:0.2em;">~frame</div>
		</div>
…
	</div>
</div>
<figcaption>
毎~frameごとに その時間枠~内で行われる仕事
◎
Fig. 1 Illustration of a frame within an event loop
</figcaption></figure>

<p>
~eventloopの各~実行
— すなわち， `~frame@ —
の中で行われる仕事すべてが，割当て時間枠（例： 更新率 60Hz なら 16.6ms ）内に完了するならば、~browserは，滑らか かつ機敏な体験を保証できる。
しかしながら、~frameの中の仕事が，何らかの事由で この時間枠を超過する場合、いくつかの~frameは飛ばされ，その結果［
応答, 処理, 描画
］の各~時間が不揃いになり、利用者~体験は悪化する。
◎
If all of the work within each execution of the event loop (i.e. within a "frame") is completed in allotted time budget (e.g. 16.6ms for 60Hz refresh rate), the browser can guarantee a smooth and responsive experience. However, if the work within the frame exceeds this time budget, for whatever reason, then one or more frames is skipped, resulting in inconsistent response, processing, and rendering times, which hurts the user experience.
</p>

<div class="example">

<pre>
&lt;!doctype html&gt;
&lt;html&gt;&lt;head&gt;
&lt;script&gt;
  /* <span class="comment">
遅い~frameに対する~frame計時の通知を申込む
</span> */
  var observer = new PerformanceObserver(function(list) {
    var perfEntries = list.getEntries();
    for (var i = 0; i &lt; perfEntries.length; i++) {
      /* <span class="comment">
遅い~frameの通知を処理する：<br>
• 処理と描画の~logicを適応させる。<br>
• 解析と監視のために，集約して報告する。<br>
• …
</span> */
      console.log("げっ、~frame遅い…：", perfEntries[i]);
    }
   });
  observer.observe({entryTypes: ['frame']});
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
...
&lt;/body&gt;&lt;/html&gt;
</pre>

<!-- 
  // subscribe to Frame Timing notifications for slow frames
  var observer = new PerformanceObserver(function(list) {
    var perfEntries = list.getEntries();
    for (var i = 0; i &lt; perfEntries.length; i++) {
      // Process slow-frame notifications:
      // - adapt processing and rendering logic
      // - aggregate and report back for analytics and monitoring
      // - ...
      console.log("Uh oh, slow frame: ", perfEntries[i]);
    }
   });
  observer.observe({entryTypes: ['frame']});

-->
</div>

<p>
この仕様
— Frame Timing API —
は、~web開発者が，［
この割当て時間枠を超過するような，長くかかる~frameに因り、~browserが欲される更新率を提供0できなくなったとき
］を観測して，利用者が体験する~appの処理能を監視できるようにする。
開発者は、そうなる事例や その原因を特定することにより，［
割当て時間枠~内に収まる, あるいは
~browserが提供0する利用者~体験の改善を手助けする
］ように，~appの~logicを適応させる／修正することが可能になる。
◎
The Frame Timing API enables web developers to monitor the performance of their applications, as experienced by their users, by observing when the browser is unable to deliver the desired refresh rate due to long-running frames that exceed the allotted time budget. By identifying such cases, and their cause, web developers can adapt or fix their logic to stay within the allotted budget and help the browser deliver an improved user experience.
</p>

	</section>
	<section id="conformance">
<h2 title="Conformance">2. 適合性</h2>

<p class="trans-note">【
この節の内容は
<a href="w3c-common-ja.html#conformance" >W3C 日本語訳 共通ページ</a>
に委譲
】</p>

	</section>
	<section id="frame-timing">

<h2 title="Frame Timing">3. ~frameの計時</h2>


		<section id="performanceframetiming-interface">

<h3>3.1. `PerformanceFrameTiming^I ~interface</h3>


<pre class="idl">
interface `PerformanceFrameTiming@I : `PerformanceEntry$I {
};
</pre>

			<section id="attributes">

<h4 title="Attributes">3.1.1 属性</h4>

<!-- 
id="widl-PerformanceFrameTiming-XXXXX
 -->

<dl class="attributes">
	<dt>`name@m</dt>
	<dd>
この属性は、現在の
<a href="~DOM4#concept-document-url">文書 URL</a>
を返さ~MUST。
◎
This attribute MUST return the current document's address.
</dd>
	<dt>`entryType@m</dt>
	<dd>
この属性は `DOMString^I `frame^l を返さ~MUST。
◎
This attribute MUST return the DOMString "frame".
</dd>
	<dt>`startTime@m</dt>
	<dd>
この属性は、~frameの始端~時刻を指示する
`DOMHighResTimeStamp$I `HR-Time-2$r
を返さ~MUST。
◎
This attribute MUST return a DOMHighResTimeStamp [HR-Time-2] indicating the frame start time.
</dd>
	<dt>`duration@m</dt>
	<dd>
この属性は、連続する各~frame間の `startTime^m の時間差を指示する `DOMHighResTimeStamp$I を返さ~MUST。
◎
This attribute MUST return a DOMHighResTimeStamp indicating the difference between the startTime's of two successive frames.
</dd>

</dl>

			</section>
		</section>
		<section id="processing">

<h3 title="Processing">3.2 処理</h3>

<p>
`PerformanceFrameTiming$I ~interfaceは、 `Performance-Timeline-2$r に関与し，`~eventloop処理~model$を拡張する。
◎
The PerformanceFrameTiming interface participates in the [Performance-Timeline-2] and extends the browser processing model.
</p>

<p class="issue">
HTML 仕様~内に適正な~hookを定義する必要がある…
◎
TODO: define proper hook in the HTML spec...
</p>

<p>
`~eventloop処理~model$の最初の段を走らせるに先立って，次の手続きを走らす：
◎
Run the following steps prior to running step 1 of the browser processing model:
</p>

<ol>
	<li>
`~frame始端~時刻^v ~LET
`Performance.now()$m ~methodが返すものと同じ結果
◎
Let frame startTime be the value that would be returned by the Performance object's now() method.
</li>
</ol>

<p>
`~eventloop処理~model$の［
~animation~frame~callbackを走らせる段
］の後に次の手続きを走らす：
◎
Run the following steps after running step 8.10 of the browser processing model:
</p>


<ol>
	<li>
`~frame終端~時刻^v ~LET
`Performance.now()$m ~methodが返すものと同じ結果
◎
Let frame endTime be the value that would be returned by the Performance object's now() method.
</li>
	<li>
`~frame所要時間^v ~LET 時間差
( `~frame終端~時刻^v − `~frame始端~時刻^v )
◎
Let frame duration be the difference between the values of frame endTime and frame startTime.
</li>
	<li>
<p>
`~frame所要時間^v が，~UAにより決定された`~frame時間枠$を超えるならば：
◎
If frame duration value exceeds the user agent determined time budget for the frame, then:
</p>
		<ol>
			<li>
`entry^v ~LET 新たな `PerformanceFrameTiming$I ~object
◎
Let entry be a new PerformanceFrameTiming object.
</li>
			<li>
`entry^v の `startTime$m  ~SET `~frame始端~時刻^v
◎
Set entry startTime to frame startTime.
</li>
			<li>
`entry^v の `duration$m ~SET `~frame所要時間^v
◎
Set entry duration to frame duration.
</li>
			<li>
`docs^v 内の各
<a href="~BROWSERS#fully-active">全部的に作動中の</a>
`Document$I
に対し、
`entry^v を
<a href="~TIMELINE#dfn-queue-a-performanceentry">待入する</a>
◎
For each fully active Document in docs, queue entry.
</li>
    </ol>
  </li>
</ol>

<p>
この仕様は、
`~frame時間枠@
に対し，［
`PerformanceFrameTiming$I ~entryを提供0させるような，いかなる値
］も<strong>義務付けない</strong>。
この値は、~UAの環境設定, および 実行時における各種~要因に基づくことになる。
例えば~UAは、目的の更新~頻度（ 60Hz, 30Hz, 等々）に異なる~~値を設定して，［
機器~処理能, 電力消費, 応答性, その他の要件
］に基いて，実行時に調整してよい。
◎
This specification does not mandate any particular value for time budget for the frame that results in delivery of a PerformanceFrameTiming entry. This value is subject to user agent configuration and runtime factors. For example, the user agent may set different target update frequencies (60Hz, 30Hz, etc) and adjust this target at runtime based on device performance, power consumption, responsiveness, and other requirements.
</p>

<p>
~UAは、開発者に偽陽性が報告されないようにするため、自身による所要時間の閾値を，期待されている［
~frame所要時間／更新~頻度
］に見合うように調整する~SHOULDである。
<!-- 
すなわち、~app側からの明示的な指示があるにも関わらず，閾値を超えたものとされること。
-->
例えば~UAが遊休~中にある場合、遊休~~時間の長い~callback（例： `requestIdleCallback()$m を介して 50ms 間 遊休する~callback）を差挟むであろう
— それに伴い、遅い~frameに対する所要時間の閾値を，そのような~frameも織込むように調整するべきである。
◎
The user agent SHOULD adjust its duration thresholds to match the expected frame duration and update frequency to avoid reporting false-positives to the developer. For example, if the user agent is idle, it may interleave long idle callbacks (e.g. 50ms idle callback via requestIdleCallback) and the duration threshold for slow frames should be adjusted accordingly to account for such frames.
</p>

<p class="issue">
<em>何故</em> ~frameが遅いかを説明する~~機能（おそらく，~version 2 で）：
現在の定義は，~frameが遅いことは報告するが、元凶が何であったか（例： 遅い入力~handler？ `requestAnimationFrame()$m？ 高価な塗り？）を決定するための単純な仕組みは~~用意されていない。
これを捕捉するような追加の属性で，
`PerformanceFrameTiming$I ~interfaceを拡張することも求められるかもしれない。
◎
Explain why frame is slow (in v2, probably): current definition reports slow frames, but there is no simple mechanism to determine what was the culprit (e.g. slow input handler vs. rAF vs. expensive paint). We may want to extend the PerformanceFrameTiming interface with additional attributes that capture this.
</p>

		</section>
	</section>
	<section class="informative" id="privacy-and-security">

<h2 title="Privacy and Security">4. ~privacyと~security</h2>

~INFORMATIVE

<p>
`PerformanceFrameTiming$I ~interfaceは、~browserによる`~eventloop$の処理~costについての計時~情報を公開する。
公開される情報を制限するため、~interfaceは，他の手段（例： `requestAnimationFrame()$m ）を通してすでに観測できるような，遅い~frameのみを報告するように制約される。
また、~UAには，遅い~frameによる~eventの送達について［
自前の閾値を 設定する／試行錯誤する
］ことも許容される。
◎
The PerformanceFrameTiming interface exposes timing information about the processing costs of the browser event loop. To limit the exposed information the interface is restricted to reporting slow frames only, which are already observable through other means (e.g. requestAnimationFrame), and the user agent is allowed to set and exercise own thresholds for delivery of slow frame events.
</p>

	</section>

</main></div><!-- id="MAIN"／MAIN0 -->

	<section class="appendix" id="acknowledgments">

<h2 title="Acknowledgements">謝辞</h2>

<div>
Thanks to Enne Walker, Rick Byers, Chris Harrelson, Timothy Robert
Ansell, Vladimir Levin, and Nat Duca for their helpful comments and
contributions to this work.
</div>

	</section>
	<section id="references" class="appendix">

<h2 title="References">参照文献</h2>


		<section id="normative-references">
<h3 title="Normative References">文献（規範）</h3>

<dl>

	<dt>[HR-Time-2]</dt>
	<dd>Ilya Grigorik; James Simonsen; Jatinder Mann. W3C. High Resolution Time Level 2. 20 July 2016. W3C Working Draft.</dd>
	<dd>https://www.w3.org/TR/hr-time-2/</dd>

	<dt>[HTML5]</dt>
	<dd>Ian Hickson; Robin Berjon; Steve Faulkner; Travis Leithead; Erika Doyle Navara; Edward O'Connor; Silvia Pfeiffer. W3C. HTML5. 28 October 2014. W3C Recommendation.</dd>
	<dd>https://www.w3.org/TR/html5/</dd>

	<dt>[Performance-Timeline-2]</dt>
	<dd>Ilya Grigorik. W3C. Performance Timeline Level 2. 21 April 2016. W3C Working Draft.</dd>
	<dd>https://www.w3.org/TR/performance-timeline-2/</dd>

<!-- 
	<dt>[RFC2119]</dt>
 -->

	<dt>[WebIDL]</dt>
	<dd>Cameron McCormack; Boris Zbarsky. W3C. WebIDL Level 1. 8 March 2016. W3C Candidate Recommendation.</dd>
	<dd>https://www.w3.org/TR/WebIDL-1/</dd>
</dl>

		</section>
	</section>


<pre>

</pre>

</body></html>
