<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<title>CSS 条件付き規則モジュール — CSS Conditional Rules Module Level 3 （日本語訳）</title>

<meta name="keywords" content="条件付き,conditional,@supports,@media,CSS,仕様,W3C">

<link rel="stylesheet" href="common.css" type="text/css" />
<link rel="stylesheet" href="common-css.css" type="text/css" />
<script src="common0.js" ></script>
<script src="common1.js" async></script>

<script >
COMMON_DATA.init = function(expanded){

//	Util.del_j(); //checked 160112 spec

	return {
		original_url: 'https://drafts.csswg.org/css-conditional/',
		spec_status: 'ED',
		main: 'MAIN',
		toc: 'contents',
		fill_text_link: '#_versions > dd, #references dd',
		alt_refs: 'references',
		ref_id_prefix: 'ref-',
//		ref_id_lowercase: true,
		word_switch: 'replace_table'
	};
}
</script>

<!--% style-->

<style>

dl.idl > dt {
	font-family: monospace0, monospace;
}

</style>

</head>



<body>



<aside class="trans-meta">
<h1>CSS Conditional Rules Module Level 3 日本語訳</h1>
<p>
<a id="_THIS_PAGE">このページ</a>
は、
<a href="http://www.w3.org/">W3C</a> により，副題の日付にて<strong >編集者草案</strong>として公開された
<a id="_SPEC_URL">CSS Conditional Rules Module Level 3</a>
を日本語に翻訳したものです。
<strong >この翻訳の正確性は保証されません。</strong>
この仕様の公式な文書は英語版であり、この日本語版は公式のものではありません。
【 と 】で囲まれた部分は<span class="trans-note">【訳者による注釈】</span>です。
（<a href="index.html">他のウェブ関連仕様の一覧と共通機能の詳細</a>）
</p>

<p >
更新：<time>2016-04-02</time>
（公開：<time>2012-07-09</time> ）
</p>

<p>
本文ダブルクリックで当該箇所の原文が表示されます（左下隅に各種 表示切替ボタン — CSS や DOM の対応が古いブラウザでは、一部機能しないことがあります）。
</p>

<address id="_CONTACT">　</address>

</aside>

<header>

<div><a href="http://www.w3.org/" id="_W3C">W3C</a></div>

<h1>CSS 条件付き規則モジュール — CSS Conditional Rules Module Level 3</h1>
<h2>2016 年 1 月 12 日付 編集者草案</h2>

<dl id="_versions">
	<dt title="This version:">このバージョン</dt>
	<dt title="Editor’s Draft:">編集者草案</dt>
	<dd>http://dev.w3.org/csswg/css3-conditional/</dd>
<!-- 
	<dd>http://www.w3.org/TR/2015/ED-css3-conditional-20150319/</dd>
 -->

	<dt title="Latest version:">最新発行バージョン</dt>
	<dd>http://www.w3.org/TR/css3-conditional/</dd>

<!-- 
	<dt title="Editor’s Draft:">編集者草案</dt>
	<dd>https://drafts.csswg.org/css3-conditional/</dd>
 -->

	<dt title="Previous Versions:">以前のバージョン</dt>
	<dd>http://www.w3.org/TR/2013/CR-css3-conditional-20130404/</dd>

	<dt title="Feedback:">フィードバック</dt>
	<dd><a href="mailto:www-style@w3.org?subject=%5Bcss3-conditional%5D%20YOUR%20TOPIC%20HERE">www-style@w3.org</a>
with subject line “<kbd>[css3-conditional] <i>… message topic …</i></kbd>” (<a href="http://lists.w3.org/Archives/Public/www-style/" rel="discussion">archives</a>)</dd>

	<dt title="Test Suite:">テスト一式</dt>
	<dd>http://test.csswg.org/suites/css3-conditional/nightly-unstable/</dd>

	<dt title="Editors:">編集</dt>
	<dd><a href="http://dbaron.org/">L. David Baron</a> (Mozilla)</dd>

</dl>

<small class="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright" rel="license">Copyright</a> © 2016 <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
<a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
<a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a>
and <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document
use</a> rules apply.</small>

</header>
   <hr>

	<section id="abstract">
<h2 title="Abstract">要約</h2>

<p>
このモジュールには、スタイルシートの一部分を，プロセッサの能力やスタイルシートが適用される文書など, 一定の条件に基づいて処理するための CSS 特色機能が含まれている。
これは、 CSS レベル 1 <a>[CSS1]</a> の上に築かれた CSS レベル 2 <a>[CSS21]</a> の機能を包含し，それを拡張する。
レベル 2 に対する主な拡張には、
<a>@media</a> の内側に 一定の at-規則を入れ子にできるようにすること，および
条件付き処理のための <a>@supports</a> 規則の追加がある。
<span lang="en">
This module contains the features of CSS for conditional processing of parts of style sheets, conditioned on capabilities of the processor or the document the style sheet is being applied to. It includes and extends the functionality of CSS level 2 [CSS21], which builds on CSS level 1 [CSS1]. The main extensions compared to level 2 are allowing nesting of certain at-rules inside '@media', and the addition of the '@supports' rule for conditional processing.
</span></p>

<p>
CSS は、（ HTML や XML などの）構造を備える文書から，
スクリーン, 紙, スピーチ, 等々
の媒体への具現化法を記述するための言語である。
<span lang="en">
CSS is a language for describing the rendering of structured documents (such as HTML and XML) on screen, on paper, in speech, etc.
</span></p>

	</section>

	<section id="status">
<h2 title="Status of this document">この文書の位置付け</h2>

<p>
これは編集者草案の公開の複製です…
<span class="trans-note">【
以下，この節の他の内容は
<a href="css-common-ja.html#status" >CSS 日本語訳 共通ページ</a>
に委譲
】</span></p>

<!--end-status-->

<p>
次の特色機能は
<a href="css-common-ja.html#at-risk">リスク下</a>
にあり，勧告候補の期間中に取り下げられるかもしれません：
<span lang="en">
The following features are at-risk, and may be dropped during the CR period:
</span></p>

<ul>
	<li>
単に仕様策定の進捗状況に相対的な理由によるものですが、この仕様により，
すべての at-規則の中で許容される
<code class="css">@font-face</code> 規則,
<code class="css">@keyframes</code> 規則
の包含はリスク下にあります。
この仕様の策定が、これらの規則を定義する仕様より速やかに進行したならば、この仕様に含められたこれらの規則は、それらを定義する仕様に移動されることになります。
<span lang="en">
The inclusion of @font-face rules and @keyframes rules as allowed within all of the @-rules in this specification is at risk, though only because of the relative rates of advancement of specifications. If this specification is able to advance faster than one or both of the specifications defining those rules, then the inclusion of those rules will move from this specification to the specification defining those rules.
</span></li>

	<li>
条件付き<!--1-->グループ化­規則の内側の at-規則のためのサポートの追加は、リスク下にあります。
相互運用可能な実装が見当たらなければ、この仕様の中の他の特色機能を勧告案の段階に進めるため，取り除かれる可能性があります。
<span lang="en">
The addition of support for @-rules inside of conditional grouping rules is at risk; if interoperable implementations are not found, it may be removed to advance the other features in this specification to Proposed Recommendation.
</span></li>

	<li>
<a>@supports</a> 規則は
リスク下にあります。
相互運用可能な実装が見当たらなければ、この仕様の中の他の特色機能を勧告案の段階に進めるため，取り除かれる可能性があります。
<span lang="en">
The @supports rule is at risk; if interoperable implementations are not found, it may be removed to advance the other features in this specification to Proposed Recommendation.
</span></li>

</ul>
	</section>
  <!--

  Things to go in level 4:

  * Create some way to put these new conditional things on an @import.
  * The @document rule (commented out, down below).

-->

<nav id="contents" class="toc">
<h2 title="Table of contents">目次</h2>
<!--  --></nav>

<main id="MAIN">
	<section id="introduction">
<h2 title="Introduction">1. 序論</h2>


		<section id="context">
<h3 title="Background">1.1. 背景</h3>

<p>
<em>この節は参考である。</em>
<span lang="en">
This section is not normative.
</span></p>


<p>
<a>[CSS21]</a> では、<a>条件付き<!--1-->グループ規則</a>の一種として
<a>@media</a> 規則が定義されており，その内側には（他の at-規則でない）スタイル規則のみが許容されている。
<a>@media</a> 規則は、媒体固有のスタイルシートを持つ機能を提供する。
それは、
<code class="css">@import</code> や
<code class="html">&lt;link&gt;</code>
などの，スタイルシートへリンクする特色機能でも提供されている。
しかしながら， <a>@media</a> 規則の内容に課せられている制約のため、媒体固有のスタイルシートの中で at-規則を孕む CSS 特色機能の利用が望まれる場合、各­媒体ごとに別々のスタイルシートを利用することを強いられる。
<span lang="en">
[CSS21] defines one type of conditional group rule, the '@media' rule, and allows only style rules (not other @-rules) inside of it. The '@media' rule provides the ability to have media-specific style sheets, which is also provided by style sheet linking features such as '@import' and &lt;link&gt;. The restrictions on the contents of '@media' rules made them less useful; they have forced authors using CSS features involving @-rules in media-specific style sheets to use separate style sheets for each medium.
</span></p>

<p>
この仕様は、<a>条件付き<!--1-->グループ規則</a>を，その内容として 他の at-規則も許容するように拡張する。
これにより，作者は、単独のスタイルシートの中で， at-規則を孕む CSS 特色機能と, 媒体固有のスタイルシートとを組み合わせれるようになる。
<span lang="en">
This specification extends the rules for the contents of conditional group rules to allow other @-rules, which enables authors to combine CSS features involving @-rules with media specific style sheets within a single style sheet.
</span></p>

<p>
この仕様は、作者と利用者からの要求を解決するための，別の種類の<a>条件付き<!--1-->グループ規則</a>
— <a>@supports</a> —
も定義する。
<span lang="en">
This specification also defines an additional type of conditional group rule, '@supports', to address author and user requirements.
</span></p>

<p>
<a>@supports</a>
規則により，
CSS プロパティとその値に対する実装サポートの有無についての条件が加味された CSS が可能になる。
この規則は、新たな CSS 特色機能を 作者にとり格段に利用し易くし，それらの特色機能をサポートしない実装のための良好なフォールバックを提供する。
これは特に、新たなレイアウトの仕組みを提供する CSS 特色機能，あるいは
関係するスタイルの集合がプロパティのサポートの有無に基づいて条件付けられる必要があるような状況において、重要になる。
<span lang="en">
The '@supports' rule allows CSS to be conditioned on implementation support for CSS properties and values. This rule makes it much easier for authors to use new CSS features and provide good fallback for implementations that do not support those features. This is particularly important for CSS features that provide new layout mechanisms, and for other cases where a set of related styles needs to be conditioned on property support.
</span></p>
		</section>
		<section id="placement">
<h3 title="Module Interactions">1.2. モジュール間の相互作用</h3>

<p>
このモジュールは、
<a>[CSS21]</a> 7.2.1 節にて定義される
<a>@media</a>
規則の特色機能を置き換え，それを拡張する。
また、以前に <a>[MEDIAQ]</a> 1 節にて非公式に加えられていた変更を統合する。
<span lang="en">
This module replaces and extends the '@media' rule feature defined in [CSS21] section 7.2.1 and incorporates the modifications previously made non-normatively by [MEDIAQ] section 1.
</span></p>

<p>
現在の定義は
<a>[CSS3-FONTS]</a> および <a>[CSS3-ANIMATIONS]</a>
にて定義されている at-規則に依存しているが、この依存関係は，これらのモジュールの策定がこの仕様よりも速やかに進行することが前提にある。
このモジュールの策定がより速やかに進行した場合、この依存関係は逆になる。
<span lang="en">
Its current definition depends on @-rules defined in [CSS3-FONTS] and [CSS3-ANIMATIONS], but that dependency is only on the assumption that those modules will advance ahead of this one. If this module advances faster, then the dependency will be reversed.
</span></p>

<p>
CSS スタイルシートの中で
これらの新たな at-規則が許容されるようにするため、
この仕様は
<a>[CSS21]</a> の
<a href="http://www.w3.org/TR/CSS21/grammar.html">付録 G</a>
の
<span class="production">stylesheet</span> 生成規則に変更を加える。
<a>[CSS21]</a> にて定義される
<span class="production">media</span>
生成規則をこの仕様に定義される
<a>media</a> 生成規則に置き換えた上で，
"<code class="production">ruleset | media | page</code>"
の後に
"<code class="production"> | supports_rule</code>"
を付加する。
<span lang="en">
In order to allow these new @-rules in CSS style sheets, this specification modifies the stylesheet production in the Appendix G grammar of [CSS21] by replacing the media production defined in [CSS21] with the media production defined in this one, and additionally inserting | supports_rule alongside ruleset | media | page.
</span></p>

		</section>
	</section>
	<section id="processing">
<h2 title="Processing of conditional group rules">2. 条件付き<!--1-->グループ規則の処理</h2>

<p>
この仕様は、
<dfn id="conditional-group-rules">条件付き<!--1-->グループ規則</dfn>
と呼ばれる CSS at-規則を定義する。
それは、いくつかの CSS 規則からなるグループとしての規則に，条件を結び付けたものである。
テスト条件には様々な種類のものがあり得るが、条件の真偽に基づく内容の利用され方についてのふるまいは，共通する。
<span lang="en">
This specification defines some CSS @-rules, called conditional group rules, that associate a condition with a group of other CSS rules. These different rules allow testing different types of conditions, but share common behavior for how their contents are used when the condition is true and when the condition is false.
</span></p>

<div class="example">
<p>
例えば次の規則：
<span lang="en">
For example, this rule:
</span></p>

<pre>
@media print {
  /* <span class="comment"
	title="hide navigation controls when printing"
  >印刷­時には navigation コントロールを隠す</span> */
  #navigation { display: none }
}</pre>

<p>
では、ある特定の CSS 規則が，スタイルシートが印刷­媒体に利用されるときにのみ，適用されるようにする（ここでは ID "<samp>navigation</samp>" の要素を
<code class="css">display:none</code>
にする）。
<span lang="en">
causes a particular CSS rule (making elements with ID “navigation” be display:none) apply only when the style sheet is used for a print medium.
</span></p></div>

<p>
それぞれの<a>条件付き<!--1-->グループ規則</a>は、随時, 真または偽に評価される条件を持つ。
条件が真のとき、 CSS プロセッサは，グループ規則の内側の規則を それらがグループ規則の所に在ったかのように 適用しなければ<strong>ならない</strong>。
条件が偽のとき、 CSS プロセッサは，グループ規則の内側のどの規則も 適用しては<strong>ならない</strong>。
条件の真偽は CSS オブジェクトモデルには影響しない — グループ規則の内容は常にグループ規則の中に残り続ける。
<span lang="en">
Each conditional group rule has a condition, which at any time evaluates to true or false. When the condition is true, CSS processors must apply the rules inside the group rule as though they were at the group rule’s location; when the condition is false, CSS processors must not apply any of rules inside the group rule. The current state of the condition does not affect the CSS object model, in which the contents of the group rule always remain within the group rule.
</span></p>

<p>
これは，<a>条件付き<!--1-->グループ規則</a>が複数段に渡って入れ子にされているときは、その末端の内側の規則が，それらのグループ規則の条件すべてが真であるときにのみ 適用されることを意味する。
<span lang="en">
This means that when multiple conditional group rules are nested, a rule inside of both of them applies only when all of the rules' conditions are true.
</span></p>

<div class="example"><p>
例えば，規則の集合が 次の様に入れ子にされている場合：
<span lang="en">
For example, with this set of nested rules:
</span></p>

<pre>
@media print { // 規則 (1)
  /* <span class="comment"
	title="hide navigation controls when printing"
  >印刷­時には navigation コントロールを隠す</span> */
  #navigation { display: none }
  @media (max-width: 12cm) { // 規則 (2)
    /* <span class="comment"
	title="keep notes in flow when printing to narrow pages"
    >狭いページに印刷するときの note は，通常のフロー</span> */
    .note { float: none }
  }
}</pre>

<p>
規則 (1) の条件は印刷­媒体に対しては真であり，
規則 (2) の条件は表示­区域（印刷­媒体の場合はページボックス）の幅が 12 cm 以下のときに真になる。
したがって、規則
<samp class="css">#navigation { <code class="property">display</code>: <code class="value">none</code> }</samp>
は，このスタイルシートが印刷­媒体に適用されているときに適用され、規則
<samp class="css">.note { <code class="property">float:</code>: <code class="value">none</code> }</samp>
は，スタイルシートが印刷­媒体に適用されていて, <em>かつ</em> ページボックスの幅が 12 cm 以下のときにのみ適用される。
<span lang="en">
the condition of the rule marked (1) is true for print media, and the condition of the rule marked (2) is true when the width of the display area (which for print media is the page box) is less than or equal to 12cm. Thus the rule #navigation { display: none } applies whenever this style sheet is applied to print media, and the rule .note { float: none } is applied only when the style sheet is applied to print media and the width of the page box is less than or equal to 12 centimeters.
</span></p></div>

<p>
<a>条件付き<!--1-->グループ規則</a>の条件が変更されたときは、
CSS プロセッサは、その真偽に応じて，その規則の適用の可否を反映しなければ<strong>ならない</strong>。
ただし、そのプロパティが，その算出値の効果がその値の存続期間を過ぎても維持されるものと定義されている場合は除く（例えば
<a>[CSS3-TRANSITIONS]</a> や <a>[CSS3-ANIMATIONS]</a>
の一部のプロパティ）。
<span lang="en">
When the condition for a conditional group rule changes, CSS processors must reflect that the rules now apply or no longer apply, except for properties whose definitions define effects of computed values that persist past the lifetime of that value (such as for some properties in [CSS3-TRANSITIONS] and [CSS3-ANIMATIONS]).
</span></p>
	</section>
	<section id="contents-of">
<h2 title="Contents of conditional group rules">3. 条件付き<!--1-->グループ規則の内容</h2>

<div class="p">
<p>
それぞれの<a>条件付き<!--1-->グループ規則</a>の構文は、次の並びからなる：
</p>

<ol>
	<li>
規則の型に固有の，何らかの構文, および
</li>
	<li>
規則の並びを含んでいるブロック（括弧に括られた部分）を成す，
<dfn id="group-rule-body">グループ規則の本体</dfn>
</li>
</ol>

<span lang="en">
The syntax of each conditional group rule consists of some syntax specific to the type of rule followed by a group rule body, which is a block (pair of braces) containing a sequence of rules.
</span>
</div>


<p>
<a>グループ規則の本体</a>には、任意のスタイル規則, および［
スタイルシートのトップレベルにてスタイル規則の前後いずれの側にも許容されるような，任意の at-規則
］を含ませれる。
すなわち，スタイルシートの開始部分に存在しなければならない at-規則（
<code class="css">@charset</code>, 
<code class="css">@import</code>, 
<code class="css">@namespace</code>
規則など）は、<a>条件付き<!--1-->グループ規則</a>の内側には許容されない。
<a>条件付き<!--1-->グループ規則</a>は、入れ子にもできる。
<span lang="en">
A group rule body is allowed to contain style rules and any @-rules that are allowed at the top level of a style sheet before and after a style rule. This means that @-rules that must occur at the beginning of the style sheet (such as '@charset', '@import', and '@namespace' rules) are not allowed inside of conditional group rules. Conditional group rules can be nested.
</span></p>

<p>
文法においては、<a>条件付き<!--1-->グループ規則</a>の文法に利用するための，次の生成規則が定義される。
<span lang="en">
In terms of the grammar, this specification defines the following productions for use in the grammar of conditional group rules:
</span></p>

<p class="note">
注記：
スタイル規則は
<span class="production">ruleset</span>
生成規則の文法の中で定義される。
<span lang="en">
Note: Style rules are defined in grammars by the ruleset production.
</span></p>

<pre class="proddef">
<dfn class="production" id="nested_statement">nested_statement</dfn>
  : ruleset | <a>media</a> | page | font_face_rule | keyframes_rule |
    <a>supports_rule</a>
  ;

<dfn class="production" id="group_rule_body">group_rule_body</dfn>
  : '{' S* <a>nested_statement</a>* '}' S*
  ;</pre>

<p>
<span class="production">font_face_rule</span> は <a>[CSS3-FONTS]</a> にて定義される。
<span class="production">keyframes_rule</span> は <a>[CSS3-ANIMATIONS]</a> にて定義される。
<a>media</a> と
<a>supports_rule</a>
はこの仕様にて定義される。
他の生成規則は CSS21 の文法の中で定義される。
<span lang="en">
in which all the productions are defined in that grammar with the exception of font_face_rule defined in [CSS3-FONTS], keyframes_rule defined in [CSS3-ANIMATIONS], and media and supports_rule defined in this specification.
</span></p>

<p>
一般に、将来の CSS 仕様が，［
何らかの他の種類の規則の後に生じることが禁止されないような，新たな at-規則
］を追加するために，この
<a>nested_statement</a>
生成規則に変更を加えるときは、この文法が正確であり続けられるようにするべきである。
<span lang="en">
In general, future CSS specifications that add new @-rules that are not forbidden to occur after some other types of rules should modify this nested_statement production to keep the grammar accurate.
</span></p>

<p>
スタイルシートは、<a>条件付き<!--1-->グループ規則</a>の内側にて，許容されるもの以外の規則を利用しては<strong>ならない</strong>。
<span lang="en">
Style sheets must not use rules other than the allowed ones inside conditional group rules.
</span></p>

<p>
CSS プロセッサは、条件付き<!--1-->グループ規則の内側にて，許容されない規則があれば、それらを無視しなければ<strong>ならない</strong>。
また，グループ規則の内側の妥当でない規則については、
<a>[CSS21]</a>の
<a href="http://www.w3.org/TR/CSS21/syndata.html#parsing-errors">4.2 節</a>
（構文解析エラーの取り扱い規則）,
<a href="http://www.w3.org/TR/CSS21/syndata.html#at-rules">4.1.5 節</a>
（at-規則）,
<a href="http://www.w3.org/TR/CSS21/syndata.html#rule-sets">4.1.7 節</a>
（規則集合, 宣言ブロック, セレクタ）
の記述に従って，取り扱わなければ<strong>ならない</strong>。
<span lang="en">
CSS processors must ignore rules that are not allowed within a group rule, and must handle invalid rules inside of group rules as described in section 4.2 (Rules for handling parsing errors), section 4.1.5 (At-rules), and section 4.1.7 (Rule sets, declaration blocks, and selectors) of [CSS21].
</span></p>
	</section>
	<section id="use">
<h2 title="Placement of conditional group rules">4. 条件付き<!--1-->グループ規則が許容される場所</h2>

<p>
<a>条件付き<!--1-->グループ規則</a>は、スタイルシートのトップレベル, および
他の<a>条件付き<!--1-->グループ規則</a>の内側にて許容される。
CSS プロセッサは、それらを２節
<a href="#processing">条件付き<!--1-->グループ規則の処理</a>
に従って処理しなければ<strong>ならない</strong>。
<span lang="en">
Conditional group rules are allowed at the top-level of a style sheet, and inside other conditional group rules. CSS processors must process such rules as described above.
</span></p>

<p>
スタイル規則より後の位置には許容されない規則（例えば
<code class="css">@charset</code>, 
<code class="css">@import</code>,
<code class="css">@namespace</code>
規則など）は、<a>条件付き<!--1-->グループ規則</a>の後でも許容されない。
したがって、スタイルシートの中では，そのような規則が<a>条件付き<!--1-->グループ規則</a>の後に置かれては<strong>ならない</strong>。
また、 CSS プロセッサは，そのような規則を無視しなければ<strong>ならない</strong>。
<span lang="en">
Any rules that are not allowed after a style rule (e.g., @charset, @import, or @namespace rules) are also not allowed after a conditional group rule. Therefore, style sheets must not place such rules after a conditional group rules, and CSS processors must ignore such rules.
</span></p>

	</section>
	<section id="at-media">
<h2 title="Media-specific style sheets: the '@media' rule">5. 媒体固有のスタイルシート： <span class="css">@media</span> 規則</h2>

<p>
<dfn id="at-ruledef-media"><code class="css">@media</code></dfn>
規則は、条件が<a>媒体クエリ</a>であるような <a>条件付き<!--1-->グループ規則</a>であり，［
at-キーワード <a>@media</a>,
（空もとり得る）<a>媒体クエリリスト</a>（ <a>[MEDIAQ]</a> にて定義される）,
<a>グループ規則の本体</a>
］の並びからなる。
規則の条件は，<a>媒体クエリ</a>の結果で与えられる。
<span lang="en">
The @media rule is a conditional group rule whose condition is a media query. It consists of the at-keyword '@media' followed by a (possibly empty) media query list (as defined in [MEDIAQ]), followed by a group rule body. The condition of the rule is the result of the media query.
</span></p>

<div class="example">
<p>
次の <a>@media</a> 規則：
<span lang="en">
This '@media' rule:
</span></p>

<pre>
@media screen and (min-width: 35em),
       print and (min-width: 40em) {
  #section_navigation { float: left; width: 10em; }
}</pre>

<p>
は、［
スクリーン表示であって, かつ その表示域の幅が初期フォントサイズの 35 倍以上である
］, または［
印刷­表示であって, かつ その表示域の幅が初期フォントサイズの 40 倍以上である
］ときに、真になる条件
<samp class="css">screen and (<code class="property">min-width</code>: <code class="value">35em</code>), print and (<code class="property">min-width</code>: <code class="value">40em</code>)</samp>
を持つ。
これらのいずれかが成立するとき，規則の条件は真になり、規則
<samp class="css">#section_navigation { <code class="property">float</code>: <code class="value">left</code>; <code class="property">width</code>: <code class="value">10em</code>; }</samp>
が適用される。
<span lang="en">
has the condition screen and (min-width: 35em), print and (min-width: 40em), which is true for screen displays whose viewport is at least 35 times the initial font size and for print displays whose viewport is at least 40 times the initial font size. When either of these is true, the condition of the rule is true, and the rule #section_navigation { float: left; width: 10em; } is applied.
</span></p>

</div>

<p>
文法においては、
<a>CSS 2.1 の文法</a>
（ <a>[CSS21]</a>, 付録 G ）の
<span class="production">media</span> 生成規則が，次の様に拡張される：
<span lang="en">
In terms of the grammar, this specification extends the media production in the Grammar of CSS 2.1 ([CSS21], Appendix G) into:
</span></p>

<pre class="proddef">
<dfn class="production" id="media">media</dfn>
  : MEDIA_SYM S* <a>media_query_list</a> <a>group_rule_body</a>
  ;</pre>

<p>
<a>group_rule_body</a>
生成規則は この仕様にて定義される。
<a>media_query_list</a>
生成規則は <a>[MEDIAQ]</a> にて定義される。
他のものは
<a>CSS 2.1 の文法</a>
にて定義される。
<span class="trans-note">【
参考：
<a href="mediaqueries4-ja.html#typedef-media-query-list">Media Queries Level 4 による構文</a>
】</span>

<span lang="en">
where the group_rule_body production is defined in this specification, the media_query_list production is defined in [MEDIAQ], and the others are defined in the Grammar of CSS 2.1 ([CSS21], Appendix G).
</span></p>

	</section>
	<section id="at-supports">
<h2 title="Feature queries: the '@supports' rule">6. 特色機能クエリ： <span class="css">@supports</span> 規則</h2>

<p>
<dfn id="at-ruledef-supports"><code class="css">@supports</code></dfn>
規則は、 UA が ［ CSS プロパティ: その値 ］の組を<a>サポート</a>するかどうかをテストする，<a>条件付き<!--1-->グループ規則</a>である。
これを，［
新たな特色機能がサポートされていて利用できるときは それを利用し,
そうでないときは 上品に退行する
］ような スタイルシートの記述に、利用できる。
CSS には、未サポートの［
プロパティ／プロパティの値
］を無視するなど，上品な退行のための既存の仕組みも備わっているが、［
新たなレイアウト­システムによる特色機能
］を利用するときなど，［
スタイルの巨大なグループを，一定の特色機能のサポートに拘束させる
］に足るものではない。
<span lang="en">
The @supports rule is a conditional group rule whose condition tests whether the user agent supports CSS property:value pairs. Authors can use it to write style sheets that use new features when available but degrade gracefully when those features are not supported. CSS has existing mechanisms for graceful degradation, such as ignoring unsupported properties or values, but these are not always sufficient when large groups of styles need to be tied to the support for certain features, as is the case for use of new layout system features.
</span></p>

<p>
<a>@supports</a>
規則の中の条件の構文は、（<a>媒体クエリ</a>と多少の類似性はあるが）他の<a>条件付き<!--1-->グループ規則</a>に対するものより少しばかり複雑になる。
何故なら：
<span lang="en">
The syntax of the condition in the '@supports' rule is slightly more complicated than for the other conditional group rules (though has some similarities to media queries) since:
</span></p>

<ul>
	<li>
新たな特色機能によるスタイルと, フォールバックのスタイルを，［
（ at-規則の構文のための前方互換な文法の規則の中で）分離し得るようにする
］ため, および［
互いが相手を上書きしないようにする
］ためには、否定（
negation — <code class="css">not</code>
）が必要になる。
<span lang="en">
negation is needed so that the new-feature styles and the fallback styles can be separated (within the forward-compatible grammar’s rules for the syntax of @-rules), and not required to override each other
</span></li>

	<li>
複数の特色機能が要求されるときに，それをテストするためには、論理積（
conjunction — <code class="css">and</code>
）が必要になる。
<span lang="en">
conjunction (and) is needed so that multiple required features can be tested
</span></li>

	<li>
スタイルの集合のための，代替の特色機能が複数あるときには、論理和（
disjunction — <code class="css">or</code>
）が必要になる。
特に、それらの代替の一部が，ベンダ接頭辞­付きのプロパティ名／値であるとき。
<span lang="en">
disjunction (or) is needed when there are multiple alternative features for a set of styles, particularly when some of those alternatives are vendor-prefixed properties or values
</span></li>

</ul>

<p>
したがって，
<a>@supports</a>
規則の構文では、プロパティの［名前:値］の組, および
それらを［
論理積 (<code class="css">and</code>),
論理和 (<code class="css">or</code>),
否定 (<code class="css">not</code>)
］により任意に組み合わせるテストが許容されている。
<span lang="en">
Therefore, the syntax of the '@supports' rule allows testing for property:value pairs, and arbitrary conjunctions (and), disjunctions (or), and negations (not) of them.
</span></p>

<p>
これは、次の追加により
<a>CSS 2.1 の文法</a>
（ <a>[CSS21]</a>, 付録 G ）の字句スキャナを拡張する：
<span lang="en">
This extends the lexical scanner in the Grammar of CSS 2.1 ([CSS21], Appendix G) by adding:
</span></p>

<pre class="proddef">
@{S}{U}{P}{P}{O}{R}{T}{S} {return <dfn class="production" id="supports_sym">SUPPORTS_SYM</dfn>;}
{O}{R}                    {return <dfn class="production" id="or">OR</dfn>;}
</pre>

<p>
次に、この字句スキャナに［
［
Media Queries 仕様 <a>[MEDIAQ]</a> にて定義される
<a>AND</a> と <a>NOT</a>
トークン
］, ［
上で定義された
<a>OR</a> と <a>SUPPORTS_SYM</a>
トークン
］,
生成規則［
<a>declaration</a>,
<a>any</a>,
<a>unused</a>
］, ［
<a>[CSS21]</a> の
<a href="http://www.w3.org/TR/CSS21/syndata.html#tokenization">4.1.1 節 （トークン化）</a>
にて定義される CSS の中核­構文から採られた
<a>FUNCTION</a> トークン
］
］を追加した上で，次を追加することにより
<a>CSS 2.1 の文法</a>
を拡張する：
<span lang="en">
This then extends the grammar in the Grammar of CSS 2.1, using the lexical scanner there, with the additions of AND and NOT tokens defined in the Media Queries specification [MEDIAQ] and the OR and SUPPORTS_SYM tokens defined above, and with declaration, any, and unused productions and the FUNCTION token taken from the core syntax of CSS defined in section 4.1.1 (Tokenization) of [CSS21], by adding:
</span></p>

<pre class="proddef">
<dfn class="production" id="supports_rule">supports_rule</dfn>
  : <a>SUPPORTS_SYM</a> <a>S</a>* <a>supports_condition</a> <a>S</a>* <a>group_rule_body</a>
  ;

<dfn class="production" id="supports_condition">supports_condition</dfn>
  : <a>supports_negation</a> | <a>supports_conjunction</a> | <a>supports_disjunction</a> |
    <a>supports_condition_in_parens</a>
  ;

<dfn class="production" id="supports_condition_in_parens">supports_condition_in_parens</dfn>
  : ( '(' <a>S</a>* <a>supports_condition</a> <a>S</a>* ')' ) | <a>supports_declaration_condition</a> |
    <a>general_enclosed</a>
  ;

<dfn class="production" id="supports_negation">supports_negation</dfn>
  : <a>NOT</a> <a>S</a>+ <a>supports_condition_in_parens</a>
  ;

<dfn class="production" id="supports_conjunction">supports_conjunction</dfn>
  : <a>supports_condition_in_parens</a> ( <a>S</a>+ <a>AND</a> <a>S</a>+ <a>supports_condition_in_parens</a> )+
  ;

<dfn class="production" id="supports_disjunction">supports_disjunction</dfn>
  : <a>supports_condition_in_parens</a> ( <a>S</a>+ <a>OR</a> <a>S</a>+ <a>supports_condition_in_parens</a> )+
  ;

<dfn class="production" id="supports_declaration_condition">supports_declaration_condition</dfn>
  : '(' <a>S</a>* <a>declaration</a> ')'
  ;

<dfn class="production" id="general_enclosed">general_enclosed</dfn>
  : ( <a>FUNCTION</a> | '(' ) ( <a>any</a> | <a>unused</a> )* ')'
  ;
</pre>


<p>
<dfn class="type" id="typedef-supports-condition">&lt;supports-condition&gt;</dfn>
生成規則は <a>supports_condition</a> 文法に合致するものとして定義される。
<span lang="en">
The &lt;supports-condition&gt; production is defined as matching the supports_condition grammar, defined above.
</span></p>

<p>
実装は、上の文法に基づいて
<a>@supports</a>
規則を構文解析しなければ<strong>ならない</strong>。
上の文法を解釈する際には、演算子 "<code class="css">|</code>" の前に位置する生成規則を，後に位置するものより先に合致させなければ<strong>ならない</strong>。
<span lang="en">
Implementations must parse @supports rules based on the above grammar, and when interpreting the above grammar, must match the production before an | operator in preference to the one after it.
</span></p>

<p>
上の文法は、前方互換性の理由から意図的に緩くされている。
<a>general_enclosed</a> 生成規則が，将来の拡張性のために相応のものを許容しているので。
上の文法に従って構文解析できない <a>@supports</a> 規則（すなわち <a>general_enclosed</a> 生成規則を含みつつ，この緩い文法に合致しない規則）は、妥当でない。
スタイルシートは、そのような規則を用いては<strong>ならない</strong>。
プロセッサは、そのような規則を（そのすべての内容も含め）無視しなければ<strong>ならない</strong>。
<span lang="en">
The above grammar is purposely very loose for forwards-compatibility reasons, since the general_enclosed production allows for substantial future extensibility. Any @supports rule that does not parse according to the grammar above (that is, a rule that does not match this loose grammar which includes the general_enclosed production) is invalid. Style sheets must not use such a rule and processors must ignore such a rule (including all of its contents).
</span></p>

<p>
これらの文法記号のそれぞれが、次の様にして真偽値の結果に結び付けられる：
<span lang="en">
Each of these grammar terms is associated with a boolean result, as follows:
</span></p>

<dl>
	<dt><a>supports_condition</a></dt>
	<dd><p >
結果は、子のいずれかの文法記号の結果になる。
<span lang="en">
The result is the result of the single child term.
</span></p></dd>

	<dt><a>supports_condition_in_parens</a></dt>
	<dd><p >
結果は、子の
<a>supports_condition</a>
または
<a>supports_declaration_condition</a> 
文法記号の結果になる。
<span lang="en">
The result is the result of the single supports_condition or supports_declaration_condition child term.
</span></p></dd>

	<dt><a>supports_negation</a></dt>
	<dd><p >
結果は、子の
<a>supports_condition_in_parens</a>
文法記号の結果の <em>否定</em> になる。
<span lang="en">
The result is the negation of the result of the supports_condition_in_parens child term.
</span></p></dd>

	<dt><a>supports_conjunction</a></dt>
	<dd><p >
結果は、子の <em>すべて</em> の
<a>supports_condition_in_parens</a>
文法記号の結果が真であれば真, 他の場合は偽になる。
<span lang="en">
The result is true if the result of all of the supports_condition_in_parens child terms is true; otherwise it is false.
</span></p></dd>

	<dt><a>supports_disjunction</a></dt>
	<dd><p >
結果は、子の <em>いずれか</em> の
<a>supports_condition_in_parens</a>
文法記号の結果が真であれば真, 他の場合は偽になる。
<span lang="en">
The result is true if the result of any of the supports_condition_in_parens child terms is true; otherwise it is false.
</span></p></dd>

	<dt><a>supports_declaration_condition</a></dt>
	<dd><p >
結果は、 CSS プロセッサが括弧­内の宣言を<a href="#support-definition">サポート</a>するならば真, 他の場合は偽になる。
<span lang="en">
The result is whether the CSS processor supports the declaration within the parentheses.
</span></p></dd>

	<dt><a>general_enclosed</a></dt>
	<dd><p >
結果は常に偽になる。
加えて，スタイルシートには、この文法­生成規則に合致する
<a>@supports</a>
規則が書かれては<strong>ならない</strong>。
（言い換えれば、この生成規則は，将来の拡張性のためのみに存在するものであり、現レベルの仕様の下では，妥当なスタイルシートの記述の一部にはならない）。
<span class="note">
将来のレベルにて、真に評価され得るような，［
関数式, あるいは括弧で括られる他の式
］が、定義され得る。
</span>
<span lang="en">
The result is always false. Additionally, style sheets must not write @supports rules that match this grammar production. (In other words, this production exists only for future extensibility, and is not part of the description of a valid style sheet in this level of the specification.) Note that future levels may define functions or other parenthesized expressions that can evaluate to true.
</span></p></dd>

</dl>

<p>
<a>@supports</a>
規則の条件は
<a>supports_rule</a>
文法記号の子の
<a>supports_condition</a>
文法記号の結果で与えられる。
<span lang="en">
The condition of the '@supports' rule is the result of the supports_condition term that is a child of the supports_rule term.
</span></p>

<div class="example">
<p>
例えば，次の規則：
<span lang="en">
For example, the following rule
</span></p>

<pre>
@supports ( display: flex ) {
  body, #navigation, #content { display: flex; }
  #navigation { background: blue; color: white; }
  #article { background: white; color: black; }
}</pre>

<p>
は、
<samp class="css"><code class="property">display</code>: <code class="value">flex</code></samp>
が<a>サポート</a>されるときにのみ
<a>@supports</a>
規則の内側の規則を適用する。
<span lang="en">
applies the rules inside the '@supports' rule only when display: flex is supported.
</span></p>

</div>

  <div class="example">
<p>
次の例に
<samp class="css"><code class="property">display</code>: <code class="value">flex</code></samp>
が<a>サポート</a>されないときの代替を提供する，追加の 
<a>@supports</a>
規則を示す：
<span lang="en">
The following example shows an additional '@supports' rule that can be used to provide an alternative for when display: flex is not supported:
</span></p>

<pre>
@supports not ( display: flex ) {
  body { width: 100%; height: 100%; background: white; color: black; }
  #navigation { width: 25%; }
  #article { width: 75%; }
}</pre>

<p>
<code class="property">width</code>
宣言は、 flex に基づくレイアウトには害を及ぼし得るので、非 flex スタイルのときにのみ呈示されることが重要であることに注意。
<span lang="en">
Note that the width declarations may be harmful to the flex-based layout, so it is important that they be present only in the non-flex styles.
</span></p>

</div>

  <div class="example">
<p>
次の例は、
<code class="property">box-shadow</code>
プロパティの<a>サポート</a>の有無を，そのベンダ接頭辞­付きバージョンのサポートの有無も含め，検査する。
<a>サポート</a>があれば，（接頭辞­付きのバージョンの）
<code class="property">box-shadow</code>
と
<code class="property">border</code>
を指定し、<a>サポート</a>がないときは，ボックスの影の代わりに境界が見えるようにする。
<!-- invisible -->
<span lang="en">
The following example checks for support for the box-shadow property, including checking for support for vendor-prefixed versions of it. When the support is present, it specifies both box-shadow (with the prefixed versions) and border in a way what would cause the box to become invisible were box-shadow not supported.
</span></p><!-- were where -->

<pre>
.noticebox {
  border: 1px solid black;
  padding: 1px;
}
@supports ( box-shadow: 0 0 2px black inset ) or
          ( -moz-box-shadow: 0 0 2px black inset ) or
          ( -webkit-box-shadow: 0 0 2px black inset ) or
          ( -o-box-shadow: 0 0 2px black inset ) {
  .noticebox {
    -moz-box-shadow: 0 0 2px black inset;
    -webkit-box-shadow: 0 0 2px black inset;
    -o-box-shadow: 0 0 2px black inset;
    box-shadow: 0 0 2px black inset; /* unprefixed last */
    /* <span class="comment"
	title="override the rule above the @supports rule"
    >上の規則を @supports 規則の中で上書きする</span> */
    border: none;
    padding: 2px;
  }
}</pre>

</div>

<p>
構文においては、混同を避けるため，
<code class="css">and</code> と
<a>or</a>
の両者とも，明示的な指定が要求される（カンマやスペースで代用するのではなく）。
同様に、優先順序の混乱を避けるため，
<code class="css">and</code>,
<a>or</a>,
<code class="css">not</code>
演算子が併用される際には括弧の利用が要求される。
<span lang="en">
To avoid confusion between and and or, the syntax requires that both and and or be specified explicitly (rather than, say, using commas or spaces for one of them). Likewise, to avoid confusion caused by precedence rules, the syntax does not allow and, or, and not operators to be mixed without a layer of parentheses.
</span></p>

<div class="example">
<p>
例えば，次の規則は妥当でない：
<span lang="en">
For example, the following rule is not valid:
</span></p>

<pre class="illegal">
@supports (transition-property: color) or
          (animation-name: foo) and
          (transform: rotate(10deg)) {
  // ...
}</pre>

<p>
代わりに，次の様に書かれなければならない：
<span lang="en">
Instead, authors must write one of the following:
</span></p>

<pre>
@supports ((transition-property: color) or
           (animation-name: foo)) and
          (transform: rotate(10deg)) {
  // ...
}</pre>

<p >あるいは</p>

<pre>
@supports (transition-property: color) or
          ((animation-name: foo) and
           (transform: rotate(10deg))) {
  // ...
}</pre>
  </div>

<p>
更に，
<code class="css">not</code>
の後, および
<code class="css">and</code>
や
<a>or</a>
の両側には、空白が要求される。
<span lang="en">
Furthermore, whitespace is required after a not and on both sides of an and or or.
</span></p>

<p>
テストされている宣言が
式の中の唯一の成分であるときは
括弧で括られなければならない。
<span lang="en">
The declaration being tested must always occur within parentheses, when it is the only thing in the expression.
</span></p>

<div class="example">
<p>
例えば，次の規則は妥当でない：
<span lang="en">
For example, the following rule is not valid:
</span></p>

<pre class="illegal">
@supports display: flex {
  // ...
}</pre>

<p>
代わりに次の様に書かれなければならない：
<span lang="en">
Instead, authors must write:
</span></p>

<pre>
@supports (display: flex) {
  // ...
}</pre>
  </div>

<p>
構文では、必須でない余分な括弧も許容される。
この融通性は，
作者にとりときどき有用になる（例えば，式の一部分をコメントで外すとき）。
また、著作ツールにとっても有用になる。
<span lang="en">
The syntax allows extra parentheses when they are not needed. This flexibility is sometimes useful for authors (for example, when commenting out parts of an expression) and may also be useful for authoring tools.
</span></p>

<div class="example">
<p>
例えば，次の様に書かれてもよい：
<span lang="en">
For example, authors may write:
</span></p>

<pre>
@supports ((display: flex)) {
  // ...
}</pre>
  </div>

<p>
テストされる宣言の末尾の
<code class="css">!important</code>
は許容される。
宣言の妥当性に影響しないが。
<span lang="en">
A trailing !important on a declaration being tested is allowed, though it won’t change the validity of the declaration.
</span></p>

<div class="example">
<p>
例えば，次の規則は妥当である：
<span lang="en">
For example, the following rule is valid:
</span></p>

<pre>
@supports (display: flex !important) {
  // ...
}</pre>
  </div>

  
		<section id="support-definition">
<h3 title="Definition of support">6.1. サポートの定義</h3>

<p>
前方互換性のため、
<a>[CSS21]</a> の
<a href="http://www.w3.org/TR/CSS21/syndata.html#declaration">4.1.8 節</a>
（宣言とプロパティ）には，プロパティや値が妥当でないときの取り扱い規則<!--0-->が規定されている。
仕様を実装しない あるいは部分的に実装する CSS プロセッサは、自身が実装しない, あるいは実用レベルでサポートしない値のどの部分も，この［
プロパティや値が妥当でないときの取り扱い規則<!--0-->
］に従って妥当でないものとして扱わなければ<strong>ならず</strong>，したがって
その宣言を構文解析エラーとして破棄しなければ<strong>ならない</strong>。
<span lang="en">
For forward-compatibility, section 4.1.8 (Declarations and properties) of [CSS21] defines rules for handling invalid properties and values. CSS processors that do not implement or partially implement a specification must treat any part of a value that they do not implement, or do not have a usable level of support for, as invalid according to this rule for handling invalid properties and values, and therefore must discard the declaration as a parse error.
</span></p>

<p>
CSS プロセッサは、（プロパティと値からなる）宣言を（構文解析エラーとして破棄せずに）受理するとき，その宣言を
<dfn id="dfn-support">サポート</dfn>
するとされる。
与えられた値を実装しない, あるいは実用レベルでサポートしないプロセッサは、その宣言を受理したり, それをサポートすると主張しては<strong>ならない</strong>。
<span lang="en">
A CSS processor is considered to support a declaration (consisting of a property and value) if it accepts that declaration (rather than discarding it as a parse error). If a processor does not implement, with a usable level of support, the value given, then it must not accept the declaration or claim support for it.
</span></p>

<p class="note">
注記：
利用者の選好によりサポートが不能化されたプロパティや値は、依然として，この定義の下では<a>サポート</a>するものと見なされることに注意。
例えば利用者が，色を上書きする高コントラストモードを可能化したために
<code class="property">color</code>
プロパティの宣言の効果が失われたとしても、依然として，
CSS プロセッサはそのプロパティを<a>サポート</a>するものと見なされる。
他方、 CSS 特色機能の試験目的でサポートを可能化／不能化するような，開発者による選好は、この<a>サポート</a>の定義に影響する。
<span lang="en">
Note that properties or values whose support is effectively disabled by user preferences are still considered as supported by this definition. For example, if a user has enabled a high-contrast mode that causes colors to be overridden, the CSS processor is still considered to support the color property even though declarations of the color property may have no effect. On the other hand, a developer-facing preference whose purpose is to enable or disable support for an experimental CSS feature does affect this definition of support.
</span></p>

<p>
これらの規則（およびそれらの間の等価性）により、（
先に現れた宣言を後の宣言で上書きする
<a>[CSS1]</a> 宣言の意味においても，あるいは
この仕様の
<a>@supports</a>
規則により提供される新たな能力が伴われている状況においても）実装されている特色機能が正しく機能するような，作者によるフォールバックの利用が可能になる。
これは特に，複合的な値にも適用される — すなわち，［
スタイル規則の内側, あるいは
<a>@supports</a>
規則の宣言­条件の中
］の宣言が<a>サポート</a>されると見なされるためには、その値のすべての部分が実装されていなければならない。
<span lang="en">
These rules (and the equivalence between them) allow authors to use fallback (either in the [CSS1] sense of declarations that are overridden by later declarations or with the new capabilities provided by the @supports rule in this specification) that works correctly for the features implemented. This applies especially to compound values; implementations must implement all parts of the value in order to consider the declaration supported, either inside a style rule or in the declaration condition of an @supports rule.
</span></p>
  <!--
<h2 id="at-document">Document queries: the '@document' rule</h2>

<p>The <dfn>'@document' rule</dfn> is a conditional group
rule whose condition depends on the
<a href="#url-of-doc">URL of the document being styled</a>.
This allows style sheets, particularly user style sheets, to have styles
that only apply to a set of pages rather than to all pages using the
style sheet.</p>

<p class="issue">Given that this @-rule is intended primarily for user
style sheets, what should this specification say about its use in author
style sheets?  Should it be forbidden?  Should use instead be
discouraged?  Or should this specification remain neutral on the
topic, since there are valid uses in author style sheets?</p>

<p id="url-of-doc">The <dfn>URL of the document being styled</dfn> is
the URI at which the document is located, excluding any fragment
identifiers.  (This means, for example, that HTTP redirects have been
followed.)  If the styles are being applied inside a complete document
embedded into the presentation of another (e.g., [[HTML5]]’s <code
class="html">iframe</code>, <code class="html">object</code>, or <code
class="html">img</code> elements), the relevant URI is that of the
frame, not of its container.  However, if content from other documents
is mixed in via mechanisms that mix content from one document into
another (e.g., [[SVG11]]’s <code>use</code> element), then the
address of the container document is used.</p>

<p class="note">Note:  In [[HTML5]], this is the
<a href="http://dev.w3.org/html5/spec/dom.html#documents">document’s address</a>
of a document in a
<a href="http://dev.w3.org/html5/spec/browsers.html#browsing-context">browsing context</a>.</p>

<div class="issue">What form of normalization is done on URLs and domains
before matching?  In particular, this specification needs to describe:
<ul>
<li>what form is used for the <a href="#url-of-doc">URL of the document
being styled</a> (and what has been normalized in that form)</li>
<li>what normalization (if any) happens to the argument of each of the match
functions before the comparison that they describe and</li>
<li>whether the
comparison algorithm used is string comparison or some other URL
comparison algorithm.</li></ul></div>

<p>The '@document' rule’s condition is written as a
comma-separated list of <dfn>URL matching functions</dfn>, and the
condition evaluates to true whenever any one of those functions
evaluates to true.  The following URL matching functions are
permitted:</p>

<dl>
  <dt><dfn id="url-exact" title="url()|URL matching functions::exact">&lt;url&gt;</dfn></dt>

  <dd>
    <p>The 'url()' function is the <dfn>exact url matching
    function</dfn>.  It evaluates to true whenever the <a
    href="#url-of-doc">URL of the document being styled</a> is exactly
    the URL given.</p>

    <p class="Note">The 'url()' function, since it is a core syntax
    element in CSS, is allowed (subject to different character
    limitations and thus escaping requirements) to contain an unquoted
    value (in addition to the string values that are allowed as
    arguments for all four functions).</p>

    <div class="example">
      <p>For example, this rule:</p>
<pre>@document url("http://www.w3.org/Style/CSS/") {
  #summary { background: yellow; color: black}
}</pre>
      <p>styles the <code class="html">summary</code> element on the page
      <code>http://www.w3.org/Style/CSS/</code>, but not on any other
      pages.</p>
    </div>
</dd>

	<dt><dfn id="url-prefix" title="url-prefix()|URL matching functions::prefix">url-prefix(&lt;string&gt;)</dfn></dt>

  <dd>
    <p>The 'url-prefix()' function is the <dfn>url prefix
    matching function</dfn>.  It evaluates to true whenever the
    <a href="#url-of-doc">URL of the document being styled</a>
    has the argument to the function as an
    initial substring (which is true when the two strings are equal).
    When the argument is the empty string, it evaluates to true for all
    documents.</p>
    <div class="example">
      <p>For example, this rule:</p>
<pre>@document url-prefix("http://www.w3.org/Style/CSS/") {
  #summary { background: yellow; color: black}
}</pre>
      <p>styles the <code class="html">summary</code> element on the page
      <code>http://www.w3.org/Style/CSS/</code> and on the page
      <code>http://www.w3.org/Style/CSS/Test</code>, but it does not
      affect the page <code>http://www.w3.org/</code> or the page
      <code>http://www.example.com/Style/CSS/</code>.</p>
    </div>
</dd>

	<dt><dfn id="url-domain" title="domain()|URL matching functions::domain">domain(&lt;string&gt;)</dfn></dt>

  <dd>
    <p>The 'domain()' function is the <dfn>domain
    matching function</dfn>.  It evaluates to true whenever
    the <a href="#url-of-doc">URL of the document being styled</a>
    has a host subcomponent (as defined in [[!URI]])
    and that host subcomponent is exactly the argument to the
    'domain()' function or a final substring of the host
    component is a period (U+002E) immediately followed by the argument
    to the 'domain()' function.</p>
    <div class="example">
      <p>For example, this rule:</p>
<pre>@document domain("w3.org") {
  body { font-size: 16px ! important }
}</pre>
      <p>changes the font size of the body element for pages such as
      <code>http://www.w3.org/Style/CSS/</code> and
      <code>http://w3.org/Style/CSS/</code> and
      <code>http://lists.w3.org/Archives/Public/www-style/</code>
      but it does not affect the page
      <code>http://www.example.com/Style/CSS/</code>.</p>
    </div>
</dd>

	<dt><dfn id="url-regexp" title="regexp()|URL matching functions::regular expression">regexp(&lt;string&gt;)</dfn></dt>

  <dd>
    <p>The contents of the &lt;string&gt; argument <strong>must</strong>
    match the JavaScript <code>Pattern</code> production
    ([[!ECMA-262-5.1]], section 15.10.1).  However,
    failing to do so is not a CSS syntax error and does not trigger any
    error handling for CSS syntax errors.</p>

    <p>The ''regexp()'' function evaluates to true whenever the string
    argument compiled as a JavaScript regular expression with the
    <code>global</code>, <code>ignoreCase</code> and
    <code>multiline</code> flags <em>disabled</em>
    (see [[!ECMA-262-5.1]], sections 15.10.7.2 through 15.10.7.4)
    compiles successfully and the resulting regular expression matches
    the entirety of the
    <a href="#url-of-doc">URL of the document being styled</a>.</p>

    <p class="note">Note that regular expression must match the entire
    URL, not just a part of it.</p>

    <p class="note">Note that this definition intentionally matches the
    behavior of the <a
    href="http://dev.w3.org/html5/spec/common-input-element-attributes.html#attr-input-pattern"><code class="html">pattern</code>
    attribute</a> on the <code class="html">input</code> element
    in [[HTML5]].</p>

    <div class="example">
      <p>For example, this rule:</p>
<pre>@document regexp("http://www.w3.org/TR/\\d{4}/[^/]*-CSS2-\\d{8}/") {
  body { font-size: 20px ! important }
}</pre>
      <p>changes the font size of the body element for pages such as
      <code>http://www.w3.org/TR/2011/PR-CSS2-20110412/</code>.</p>
      <p class="note">Note that the backslashes in the regular
      expression require CSS escaping as ''\\''.</p>
    </div>
</dd>

	</dl>

<p>Implementations <strong>must</strong> treat any unknown URL matching
functions as a syntax error, and thus ignore the '@document' rule.
<span class="issue">Should we instead have more complicated error
handling rules to make forward-compatibility work differently, or is
this rule the best solution for such future expansion anyway?</span></p>

<div class="issue">This syntax doesn’t offer any ability to do negations,
which has been requested in <a
href="https://bugzilla.mozilla.org/show_bug.cgi?id=349813">Mozilla bug
349813</a>.  Use cases that people have wanted negations for
include:
<ul>
  <li>User style sheets that want a particular rule in general, but know
  that that rule does more harm than good on specific sites.</li>
  <li>Authors who have a rule that they want to apply to most of their
  pages, but wish to make a few exceptions for.</li>
</ul>
</div>

<p>This extends the lexical scanner in the
<a href="http://www.w3.org/TR/CSS21/grammar.html">Grammar of CSS 2.1</a>
([[!CSS21]], Appendix G) by adding:
<pre>@{D}{O}{C}{U}{M}{E}{N}{T}	{return DOCUMENT_SYM;}</pre>
<p>and the grammar by adding</p>
<pre><dfn>document_rule</dfn>
  : DOCUMENT_SYM S+ <i>url_match_fn</i> ( "," S* <i>url_match_fn</i> )* <i>group_rule_body</i>
  ;

<dfn>url_match_fn</dfn>
  : (URI | FUNCTION S* STRING S* ')' ) S*
  ;</pre>
-->

		</section>
	</section>
	<section id="apis">
<h2 title="APIs">7. API</h2>

		<section id="extentions-to-cssrule-interface">
<h3 title="Extensions to the CSSRule interface">7.1. <code>CSSRule</code> インタフェースに対する拡張</h3>

<p>
<code>CSSRule</code>
インタフェースは次の様に拡張される：
<span lang="en">
The CSSRule interface is extended as follows:
</span></p>

<pre class="idl">
partial interface CSSRule {
    const unsigned short <dfn id="dom-cssrule-supports_rule">SUPPORTS_RULE</dfn> = 12;
    <!--
    const unsigned short DOCUMENT_RULE = 13;
    -->
};</pre>

  
		</section>
		<section id="the-cssgroupingrule-interface">
<h3 title="The CSSGroupingRule interface">7.2. <code>CSSGroupingRule</code> インタフェース</h3>

<p>
<dfn id="cssgroupingrule"><code>CSSGroupingRule</code></dfn>
インタフェースは、他の規則を自身の内側に入れ子にする at-規則を表現する。
<span lang="en">
The CSSGroupingRule interface represents an at-rule that contains other rules nested inside itself.
</span></p>

<pre class="idl">
interface CSSGroupingRule : CSSRule {
    readonly attribute <a>CSSRuleList</a> cssRules;
    unsigned long insertRule (DOMString rule, unsigned long index);
    void deleteRule (unsigned long index);
};</pre>

<dl class="idl">
	<dt id="#dom-cssgroupingrule-cssrules">readonly attribute <a>CSSRuleList</a> <code>cssRules</code></dt>
	<dd>
この属性は、グループ化­規則の内側に入れ子にされた CSS 規則のリストを表現する
<code>CSSRuleList</code><!-- CSSOM -->
オブジェクトを返さなければならない。
<span lang="en">
The cssRules attribute must return a CSSRuleList object for the list of CSS rules nested inside the grouping rule.
</span></dd>

	<dt id="#dom-cssgroupingrule-insertrule">unsigned long <code>insertRule</code>(DOMString <var >rule</var>, unsigned long <var >index</var>)</dt>
	<dd>
<p >
被呼出時には、 CSS 規則 <var>rule</var> を，
<code>cssRules</code> から返される CSS 規則リストの中の
<var>index</var> の位置に挿入しなければならない。
<var>index</var> 以降の規則は，１つずつ後にずらされることになる。
</p>
		<ul>
			<li>
<var>index</var> が <code>cssRules.length</code> より大きい場合は
<code>IndexSizeError</code><!-- `INDEX_SIZE_ERR -->
が投出されなければならない。
</li>
			<li>
規則に構文エラーがあって構文解析できない場合は
<code >SyntaxError</code><!-- `SYNTAX_ERR -->
が投出されなければならない —
これには、規則の内側の構成子におけるエラー取り扱い規則により取り扱われる構文エラーは含まれないが、与えられた文字列が単独の CSS 規則に構文解析されない場合（例えば文字列が空のとき）や, その単独の CSS 規則の後に 空白でもコメントでもないものが来る場合は含まれる。
</li>
			<li>
指定された場所に規則を挿入できない場合は
<code >HierarchyRequestError</code><!-- `HIERARCHY_REQUEST_ERR -->
が投出されなければならない
— 例えば、
<code class="css">@import</code>
規則がグループ規則の内側に挿入された場合など。
</li>
		</ul>
<span lang="en">
The insertRule operation must insert a CSS rule rule into the CSS rule list returned by cssRules, such that the inserted rule will be at position index, and any rules previously at index or higher will increase their index by one. It must throw INDEX_SIZE_ERR if index is greater than cssRules.length. It must throw SYNTAX_ERR if the rule has a syntax error and is unparseable; this does not include syntax errors handled by error handling rules for constructs inside of the rule, but this does include cases where the string given does not parse into a single CSS rule (such as when the string is empty) or where there is anything other than whitespace or comments after that single CSS rule. It must throw HIERARCHY_REQUEST_ERR if the rule cannot be inserted at the location specified, for example, if an @import rule is inserted inside a group rule.
</span></dd>
	<dd>
返り値は <var>index</var> パラメタ。
<span lang="en">
The return value is the index parameter.
</span></dd>

	<dt id="#dom-cssgroupingrule-deleterule">void <code>deleteRule</code>(unsigned long <var >index</var>)</dt>
	<dd>
<p>
被呼出時には、 <code>cssRules</code> から返される CSS 規則リストから， <var>index</var> に位置する CSS 規則を除去しなければならない。
</p>
		<ul>
			<li>
<var>index</var> が <code>cssRules.length</code> 以上である場合は
<code>IndexSizeError</code><!-- `INDEX_SIZE_ERR -->
が投出されなければならない。
</li>
		</ul>
<span lang="en">
The deleteRule operation must remove a CSS rule from the CSS rule list returned by cssRules at index. It must throw INDEX_SIZE_ERR if index is greater than or equal to cssRules.length.
</span></dd>

	</dl>

  
		</section>
		<section id="the-cssconditionrule-interface">
<h3 title="The CSSConditionRule interface">7.3. <code>CSSConditionRule</code> インタフェース</h3>

<p>
<dfn id="cssconditionrule"><code>CSSConditionRule</code></dfn>
インタフェースは、条件と［文のブロック］からなる，すべての種類の “条件付き<!--1-->” at-規則を表現する<span class="trans-note">【基底インタフェースである】</span>。
<span lang="en">
The CSSConditionRule interface represents all the “conditional” at-rules, which consist of a condition and a statement block.
</span></p>

<pre class="idl">
interface CSSConditionRule : <a>CSSGroupingRule</a> {
    attribute DOMString conditionText;
};</pre>

<dl class="idl">
	<dt id="dom-cssconditionrule-conditiontext">attribute DOMString <code>conditionText</code></dt>
	<dd>
この属性は、規則の条件を表現する。
この条件は
<a><code>CSSConditionRule</code></a>
の派生インタフェースによって様々であり、それらの派生インタフェースはこの属性に対し，異なるふるまいを指定し得る（例えば，下の
<code><a>CSSMediaRule</a></code>
）。
その種の規則­固有のふるまいが不在の下では、次の規則<!--0-->が適用される：
<span lang="en">
The conditionText attribute represents the condition of the rule. Since what this condition does varies between the derived interfaces of CSSConditionRule, those derived interfaces may specify different behavior for this attribute (see, for example, CSSMediaRule below). In the absence of such rule-specific behavior, the following rules apply:
</span></dd>
	<dd>
被取得時には、結び付けられている条件を直列化した結果を返さなければならない。
<span lang="en">
The conditionText attribute, on getting, must return the result of serializing the associated condition.
</span></dd>
	<dd>
<p>
被設定時には、次が実行されなければならない
<span lang="en">
On setting the conditionText attribute these steps must be run:
</span></p>

		<ol>
			<li>
与えられた値の前後の空白 並びを取り除く。
<span lang="en">
Trim the given value of white space.
</span></li>

			<li>
与えられた値が、与えられた規則に対する適切な条件 生成規則の文法に合致する場合、結び付けられている CSS 条件を与えられた値で置換する。
<span lang="en">
If the given value matches the grammar of the appropriate condition production for the given rule, replace the associated CSS condition with the given value.
</span></li>

			<li>
他の場合、何もしない。
<span lang="en">
Otherwise, do nothing.
</span></li>
		</ol>
	</dd>
</dl>

		</section>
		<section id="the-cssmediarule-interface">
<h3 title="The CSSMediaRule interface">7.4. <code>CSSMediaRule</code> インタフェース</h3>

<p>
<dfn id="cssmediarule"><code>CSSMediaRule</code></dfn>
インタフェースは <a>@media</a> 規則を表現する：
<span lang="en">
The CSSMediaRule interface represents a @media rule:
</span></p>

<pre class="idl">
interface CSSMediaRule : <a>CSSConditionRule</a> {
    readonly attribute <a>MediaList</a> media;
};</pre>

<dl class="idl">
	<dt id="#dom-cssmediarule-media">readonly attribute <a>MediaList</a> <a href="#media"><code>media</code></a></dt>
	<dd>
この属性は、 <a>@media</a> 規則により指定された
<a>媒体クエリ</a>のリストに対する
<code>MediaList</code> オブジェクトを返さなければならない。
<span lang="en">
The media attribute must return a MediaList object for the list of media queries specified with the '@media' rule.
</span></dd>

	<dt>attribute DOMString <code>conditionText</code></dt>
<!-- 
(CSSMediaRule-specific definition for attribute on CSSConditionRule) 
-->
	<dd>
基底インタフェース <a><code>CSSConditionRule</code></a> にて定義される，この属性には、このインタフェースにより固有のふるまいが定義される：
</dd>
	<dd>
被取得時には，
<code>media.mediaText</code>
規則­上の値を返さなければならない。
<span lang="en">
The conditionText attribute (defined on the CSSConditionRule parent rule), on getting, must return the value of media.mediaText on the rule.
</span></dd>
	<dd>
被設定時には，規則の <code>media.mediaText</code> 属性を新たな値に設定しなければならない。
<span lang="en">
Setting the conditionText attribute must set the media.mediaText attribute on the rule.
</span></dd>

</dl>

		</section>
		<section id="the-csssupportsrule-interface">
<h3 title="The CSSSupportsRule interface">7.5. <code>CSSSupportsRule</code> インタフェース</h3>

<p>
<dfn id="csssupportsrule"><code>CSSSupportsRule</code></dfn>
インタフェースは
<a>@supports</a>
規則を表現する。
<span lang="en">
The CSSSupportsRule interface represents a @supports rule.
</span></p>

<pre class="idl">
interface CSSSupportsRule : <a>CSSConditionRule</a> {
};</pre>

<dl class="idl">
	<dt>attribute DOMString <code>conditionText</code></dt>
	<dd>
基底インタフェース <a><code>CSSConditionRule</code></a> にて定義される，この属性には、このインタフェースにより固有のふるまいが定義される。
<span lang="en">
↓</span></dd>
	<dd>
被取得時には、指定されている条件を返さなければならない。
指定されている条件が、この仕様に適合するどの実装の下でも同じ結果に評価されるようにするため、返される条件には，いかなる論理的な簡約化も施されてはならない（この仕様の
<a>general_enclosed</a>
拡張性の仕組みにより許容される将来の拡張を実装する実装も含め）。
言い換えれば、トークン­ストリームの簡約化は許容されるが（空白を，１個のスペースに縮約したり, 省略が許容される所で省略するなど）、論理的な簡約化（冗長な括弧の除去や, 評価結果に基づく，簡約化など）は許容されない。
<span lang="en">
The conditionText attribute (defined on the CSSConditionRule parent rule), on getting, must return the condition that was specified, without any logical simplifications, so that the returned condition will evaluate to the same result as the specified condition in any conformant implementation of this specification (including implementations that implement future extensions allowed by the general_enclosed exensibility mechanism in this specification). In other words, token stream simplifications are allowed (such as reducing whitespace to a single space or omitting it in cases where it is known to be optional), but logical simplifications (such as removal of unneeded parentheses, or simplification based on evaluating results) are not allowed.
</span></dd>

	</dl>
  <!--
<h3 id="the-cssdocumentrule-interface">
The <code>CSSDocumentRule</code> interface</h3>

<p>The <dfn><code>CSSDocumentRule</code></dfn> interface represents a @document rule.</p>

<pre class='idl'>interface CSSDocumentRule : CSSConditionRule {
};</pre>
-->

  
		</section>
		<section id="the-css-interface">
<h3 title="The CSS interface, and the supports() function">7.6. <code>CSS</code> インタフェースと <code>supports()</code> 関数</h3>

<p>
<dfn id="CSS-interface"><code>CSS</code></dfn>
インタフェースは、他に属さない有用な CSS に関係する関数を保持する。
<span lang="en">
The CSS interface holds useful CSS-related functions that do not belong elsewhere.
</span></p>

<pre class="idl">
interface CSS {
  static boolean supports(DOMString property, DOMString value);
  static boolean supports(DOMString conditionText);
};</pre>

<dl class="idl">
	<dt id="dom-css-supports">static boolean <code>supports</code>(DOMString <var >property</var>, DOMString <var >value</var>)</dt>
	<dd>
被呼出時には、［
<var>property</var> が UA が<a>サポート</a>する CSS プロパティの名前にリテラルとして合致する, かつ
<var>value</var> がそのプロパティでサポートされる値として成功裡に構文解析される場合は <code>true</code> ／
他の場合は <code>false</code>
］を返さなければならない。
（リテラルとして合致とは、いかなる CSS エスケープ解除も遂行されず, 先頭や末尾の空白も取り去られないことを意味する。
したがって， <var>property</var> の先頭や末尾に空白があったり, CSS エスケープが含まれていれば、 <code>false</code> が返されることになる。）
<span lang="en">
When the supports() method is invoked with two arguments property and value, it must return true if property is a literal match for the name of a CSS property that the UA supports, and value would be successfully parsed as a supported value for that property. (Literal match means that no CSS escape processing is performed, and leading and trailing whitespace are not stripped, so any leading whitespace, trailing whitespace, or CSS escapes equivalent to the name of a property would cause the method to return false.) Otherwise, it must return false.
</span></dd>

	<dt>static boolean <code>supports</code>(DOMString <var >conditionText</var>)</dt>
	<dd>
被呼出時には、［
<var>conditionText</var> が構文解析され, 
<a>supports_condition</a>
として評価されたときに真に評価される場合は <code>true</code> ／
他の場合は <code>false</code>
］を返さなければならない。
<span lang="en">
When invoked with a single conditionText argument, it must return true if conditionText, when parsed and evaluated as a supports_condition, would return true. Otherwise, it must return false.
</span></dd>
</dl>

	</section>
	<section id="changes">
<h2 title="Changes">8. 変更点</h2>

<p>
この仕様に加えられた
<a href="http://www.w3.org/TR/2012/WD-css3-conditional-20121213/">13 December 2012 Working Draft</a>
からの主要な変更点は：
<span lang="en">
The following (non-editorial) changes were made to this specification since the 13 December 2012 Working Draft:
</span></p>

<ul>
	<li>
<code class="css">and</code> や
<a>or</a> の前後, および
<code class="css">not</code> の後に空白を要すること。
<span lang="en">
Require whitespace around and and or and after not.
</span></li>

<li>
利用者の選好によるプロパティの不能化がサポートの定義に影響しないことの説明を追加
<span lang="en">
Add note explaining that user preferences that effectively disable a property (e.g., high-contrast mode disabling colors) do not effect the definition of support.
</span></li>

<li>
<code>CSSSupportsRule</code> インタフェースの <code >conditionText</code> 取得子のための要件の記述。
<span lang="en">
Describe requirements for conditionText getter on CSSSupportsRule.
</span></li>

<li>
<code >CSS</code> インタフェースの <code >supports()</code> メソッドにおける “リテラル合致” の定義の明確化。
<span lang="en">
Clarify the definition of “literal match” in CSS.supports().
</span></li>

<li>
<code >CSSGroupingRule</code> インタフェースの <code >insertRule()</code> において
空­文字列または, 構文として妥当な複数個の規則が与えられたときのふるまいの指定。
<span lang="en">
Specify behavior of CSSGroupingRule.insertRule when given an empty string or more than one syntactically valid rule.
</span></li>

</ul>


		</section>
	</section>
	<section id="acknowledgments">
<h2 title="Acknowledgments">謝辞</h2>

<div>
Thanks to the ideas and feedback from Tab Atkins, Arthur Barstow, Ben
Callahan, <span lang="tr">Tantek Çelik</span>, Alex Danilo, Elika Etemad,
Pascal Germroth, <span lang="de">Björn Höhrmann</span>, Paul Irish, Brad
Kemper, <span lang="nl">Anne van Kesteren</span>, Vitor Menezes, Alex
Mogilevsky, Chris Moschini, James Nurthen, Simon Pieters, <span lang="fr">Florian Rivoal</span>, <span lang="fr">Simon Sapin</span>, Nicholas
Shanks, Ben Ward, Zack Weinberg, Estelle Weyl, Boris Zbarsky, and all the
rest of the <a href="http://lists.w3.org/Archives/Public/www-style/">www-style</a>
community.
</div>
	</section>
	<section id="conformance">
<h2 title="Conformance">適合性</h2>

<p class="trans-note">【
この節の内容は
<a href="css-common-ja.html#conformance">CSS 日本語訳 共通ページ</a>
に委譲
】</p>

	</section>
	<section id="references">
<h2 title="References">参照文献</h2>

		<section id="normative">
<h3 title="Normative References">文献（規範）</h3>


<dl>
	<dt>[CSS21]</dt>
	<dd>Bert Bos; et al. Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification. 7 June 2011. REC.</dd>
	<dd>http://www.w3.org/TR/CSS2</dd>

	<dt>[MEDIAQ]</dt>
	<dd>Florian Rivoal; et al. Media Queries. 19 June 2012. REC.</dd>
	<dd>http://www.w3.org/TR/css3-mediaqueries/</dd>

	<dt>[CSS-BACKGROUNDS-3]</dt>
	<dd>CSS Backgrounds and Borders Module Level 3</dd>
	<dd>http://www.w3.org/TR/css3-background/</dd>

	<dt>[CSS-CASCADE-4]</dt>
	<dd>Elika Etemad; Tab Atkins Jr.. CSS Cascading and Inheritance Level 4. 14 January 2016. WD.</dd>
	<dd>http://www.w3.org/TR/css-cascade-4/</dd>

	<dt>[CSS-COLOR-3]</dt>
	<dd>CSS Color Module Level 3</dd>
	<dd>http://www.w3.org/TR/css3-color/</dd>

	<dt>[CSS-CONDITIONAL-3]</dt>
	<dd>CSS Conditional Rules Module Level 3</dd>
	<dd>http://www.w3.org/TR/css3-conditional/</dd>

	<dt>[CSS-SYNTAX-3]</dt>
	<dd>Tab Atkins Jr.; Simon Sapin. CSS Syntax Module Level 3. 20 February 2014. CR.</dd>
	<dd>http://www.w3.org/TR/css-syntax-3/</dd>

	<dt>[CSS3-ANIMATIONS]</dt>
	<dd>Dean Jackson; et al. CSS Animations. 19 February 2013. WD.</dd>
	<dd>http://www.w3.org/TR/css3-animations/</dd>

	<dt>[CSS3-FONTS]</dt>
	<dd>John Daggett. CSS Fonts Module Level 3. 3 October 2013. CR.</dd>
	<dd>http://www.w3.org/TR/css-fonts-3/</dd>

	<dt>[CSSOM]</dt>
	<dd>Simon Pieters; Glenn Adams. CSS Object Model (CSSOM). 5 December 2013. WD.</dd>
	<dd>http://www.w3.org/TR/cssom/</dd>

	<dt>[MEDIAQUERIES-4]</dt>
	<dd>Florian Rivoal; Tab Atkins Jr.. Media Queries Level 4. 26 January 2016. WD.</dd>
	<dd>http://www.w3.org/TR/mediaqueries-4/</dd>

<!-- 
	<dt>[RFC2119]</dt>
 -->
</dl>

		</section>
		<section id="informative">
<h3 title="Other References">文献（参考）</h3>

<dl>

	<dt>[CSS1]</dt>
	<dd>Håkon Wium Lie; Bert Bos. Cascading Style Sheets (CSS1) Level 1 Specification. 11 April 2008. REC.</dd>
	<dd>http://www.w3.org/TR/CSS1/</dd>

	<dt>[CSS3-TRANSITIONS]</dt>
	<dd>Dean Jackson; et al. CSS Transitions. 19 November 2013. WD.</dd>
	<dd>http://www.w3.org/TR/css3-transitions/</dd>
</dl>

		</section>
	</section>
	<section id="index">
<h2 title="Index">索引</h2>

<p class="trans-note">【
この節の内容は省略（ウィンドウ下端の索引機能を利用されたし）。
】</p>

	</section>

	<section>
<!-- 
<h2 id="property-index" title="Property index" data-cycling=".propdef">プロパティ索引</h2>
 -->
<h2 id="idl-index" title="IDL Index" data-cycling="pre.idl">IDL 索引</h2>
<!-- 
<h2 id="issues-index" title="Issues Index" data-cycling=".issue">課題索引</h2>
 -->

<p class="trans-note">【
この節の内容は省略（見出しクリックで巡回）。
】</p>
	</section>

</main><!-- MAIN -->


<!--% DATA SECTION -->
<div style="display:none;">

<input type="hidden" id="_page_config" value="" />

</div>


<script type="text/plain" id="_link_map">
or:#or
CSSRuleList:http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSRuleList
MediaList:http://www.w3.org/TR/DOM-Level-2-Style/stylesheets.html#StyleSheets-MediaList

CSS 2.1 の文法:http://www.w3.org/TR/CSS21/grammar.html

媒体クエリ:mediaqueries4-ja.html#media-query
媒体クエリリスト:mediaqueries4-ja.html#media-query-list

AND:http://www.w3.org/TR/css3-mediaqueries/#syntax
NOT:http://www.w3.org/TR/css3-mediaqueries/#syntax
media_query_list:http://www.w3.org/TR/css3-mediaqueries/#syntax

	mediaqueries4-ja.html#typedef-media-query-list

any:http://www.w3.org/TR/CSS21/syndata.html#tokenization
declaration:http://www.w3.org/TR/CSS21/syndata.html#tokenization
FUNCTION:http://www.w3.org/TR/CSS21/syndata.html#tokenization
unused:http://www.w3.org/TR/CSS21/syndata.html#tokenization
MEDIA_SYM:http://www.w3.org/TR/CSS21/grammar.html#grammar

S:http://www.w3.org/TR/CSS21/grammar.html#scanner


</script>
<!-- 
CSS2CONFORM:css-common-ja.html


	条件付きグループ規則:#conditional-group-rules
	著作ツール:#conform-authoring-tool
	プロセッサ:#conform-processor
	スタイルシート:#conform-style-sheet
	CSS:#CSS-interface
	CSSConditionRule:#cssconditionrule
	CSSGroupingRule:#cssgroupingrule
	CSSMediaRule:#cssmediarule
	CSSSupportsRule:#csssupportsrule
	general_enclosed:#general_enclosed
	グループ規則の本体:#group-rule-body
	group_rule_body:#group_rule_body
	media:#media
	nested_statement:#nested_statement
	OR:#or
	サポート:#dfn-support
	supports_condition:#supports_condition
	supports_condition_in_parens:#supports_condition_in_parens
	supports_conjunction:#supports_conjunction
	supports_declaration_condition:#supports_declaration_condition
	supports_disjunction:#supports_disjunction
	supports_negation:#supports_negation
	supports_rule:#supports_rule
	SUPPORTS_SYM:#supports_sym
	@media:#at-ruledef-media
	@supports:#at-ruledef-supports



	4.1.1 節 （トークン化）:http://www.w3.org/TR/CSS21/syndata.html#tokenization
	4.1.5 節:http://www.w3.org/TR/CSS21/syndata.html#at-rules
	4.1.7 節:http://www.w3.org/TR/CSS21/syndata.html#rule-sets
	4.1.8 節:http://www.w3.org/TR/CSS21/syndata.html#declaration
	4.2 節:http://www.w3.org/TR/CSS21/syndata.html#parsing-errors
	付録 G:http://www.w3.org/TR/CSS21/grammar.html
	UA:css-common-ja.html#user-agent
	サポート:#support-definition
	条件付きグループ規則の処理:#processing
	接頭辞構文:http://www.w3.org/TR/CSS2/syndata.html#vendor-keywords
	CSS スタイルシート:css-common-ja.html
	http://www.w3.org/TR/CSS21/conform.html#style-sheet

 -->
<script type="text/plain" id="_class_map">
@supports:css
@media:css
or:css
AND:production
NOT:production
any:production
media_query_list:production
declaration:production
FUNCTION:production
unused:production
S:production
MEDIA_SYM:production

</script>

<script>
new function(){
	var link_map = Util.getMapping('_link_map');
	var class_map = Util.getMapping('_class_map');

	repeat('dfn', function(e){
		var id = e.id, text = e.textContent;
		if(id && text) {
			if(!(text in link_map)){
				link_map[text] = '#' + id;
			}
			var classname = e.className;
			if(classname)
				class_map[text] = classname;
		}
	});

	var data = [];
	repeat('a', function(a){
		if(a.href) return;
		var key = a.textContent;
		switch(key.charAt(0)){
		case '[' :
			a.href = '#ref-' + key.slice(1,-1);
			return;
/*		case 'h' :
			if(key.slice(0, 5) === 'http:'){
				a.href = key;
				return;
			}
*/
		}
		var href = link_map[key];
		if(href) {
			a.href = href;
		} else {
//			data.push(key);
		}
		var classname = class_map[key];
		if(classname){
			a.className = classname;
		}
	});
//	Util.dump(data)
}


</script>


<script type="text/plain" id="replace_table">
インタフェース:interface
派生インタフェース:derived interface
エスケープ:escape
エラー:error
オブジェクト:object
キーワード:keyword
クエリ:query
クエリリスト:query list
グループ:group
グループ化:grouping
	グループ規則:group rule
コード:code
コメント:comment
カンマ:comma
サイズ:size
サポート:support
	未サポートの:unsupported
シート:sheet
システム:system
スキャナ:scanner
スクリーン:screen
スタイル:style
ストリーム:stream
スペース:space
ツール:tool
テキスト:text
テスト:test
トークン:token
トークン化:tokenization
バージョン:version
フォールバック:fallback
フォント:font
プロセッサ:processor
ブロック:block
プロパティ:property
ペア:pair
ページ:page
ベンダ:vendor
ボックス:box
マーク:mark
メソッド:method
媒体:media
	:medium
	メディア:media
媒体固有:media-specific
高コントラストモード:high-contrast mode
モジュール:module
リスク:risk
リスト:list
リテラル:literal
リリース:release
リンク:linking
レイアウト:layout
レベル:level
具現化法:rendering

スタイルシート:style sheet
オブジェクトモデル:object model
ページボックス:page box
内容:content
トップレベル:top-level
真偽値:boolean
真:true
偽:false
	真偽:
幅:width

意味論:semantics
演算:operation
印刷:print
拡張:extension
拡張-:extend
拡張性:extensibility
簡約化:simplification
	簡約:simplification
基底:base
検査:check
検証器:validator
構文:syntax
中核:core
構文解析エラー:parse error
構文解析:parse
	構文解析できない:unparseable
構文解析処理:parsing
実用レベル:usable level

条件:condition
条件付き:conditional
条件付けられ:conditioned
生成規則:production
接頭辞:prefix
	接頭辞付き:prefixed
宣言:declaration
投出:throw
属性:attribute
	妥当でない:invalid
妥当:valid
妥当性:validity
代替:alternative
文書:document
文法:grammar
文法記号:terms


論理積:conjunction
論理的:logical
論理和:disjunction
利用者:user
呈示-:present
選好:preference
適合:conforming
適合-:conform
	conformant
適合性:conformance
相互運用可能:interoperable
相互運用性:interoperability
存続期間:lifetime
	試験目的:testing
付録:Appendix
作者:author
著作:authoring
勧告:Recommendation
勧告候補:Candidate Recommendation
勧告案:Proposed Recommendation
部分的:partial
相互作用:interactions

字句:lexical
式:expression
実装:implementation
実装-:implement
規則:rule
空白:whitespace
要件:requirements
無視:ignore
名前:name
名:name
値:value
要素:element
本体:body
特色機能:feature
算出値:computed value
演算子:operator
前方互換性:forwards-compatibility
前方互換:forward-compatible
合致:match
受理-:accept
表示域:viewport

上品:graceful
上品な:graceful
退行:degradation
退行-:degrade
破棄:discard
複合的:compound
内側:inside
挿入-:insert
文字列:string
直列化-:serialize
関数:function
関数式:function
評価-:evaluate
評価結果:evaluating 結果
不能化:disable
可能化:enable
適用:apply
	適用し得る:applicable
許容-:allow
	許容される場所:placement
初期フォントサイズ:initial font size
仕様:spec
	specification
依存:depend
依存関係:dependency
解釈-:interpret
指定:specify
変更点:changes
保持-:hold
適切:appropriate
定義:definition
定義-:define
提供-:provide
等価:equivalent
等価性:equivalence
統合-:incorporate
反映-:reflect
表現-:represent
効果:effect
有用:useful
融通性:flexibility
能力:capabilities
括弧:parentheses
構成子:constructs
将来:future
制約:restriction
成功裡:successful
置換-:replace
順守:obey
除去-:remove
除去:removal
被取得時:被 get 時
被設定時:被 set 時
被呼出時:被 invoke 時
空:empty
処理:processing
処理-:process
規則集合:rule set
セレクタ:selector
分離-:separate
区域:area
表示:display
明示的:explicit
</script>

<!--
目的:purpose
変更:change
加えられていた変更:modifications
変更を加える:modify
省略:omitting
省略-:omit
縮約:reduce

	-:argument
入れ子の:nested
子:child
-:parent
	混同:confusion
	再利用:reuse
	在る:present
	残り続ける:remain
	残る:remain
	仕組み:mechanism
	
	機能:ability
	機能する:works
	機能性:functionality
	記述:description
	結果:result

〜に従って:according

より速い:faster
より大きい:greater
	したがって，:therefore
	ずっと容易に:much easier

	扱われる:treat
	意図的に緩いもの:purposely very loose
	意味する:means
	異なる:different
	維持:persist
	一般:general
影響-:affect／effect

過ぎても:past

開始部分:beginning
開発者による:developer-facing
害を及ぼし:harmful

緩い:loose
関係する:related
関連の:relevant／-related
含む:contain
基づいて:based

逆になる:reversed
共通の:common
共有-:share
強いている:forced
禁止:forbidden

	ときどき:sometimes
	ふるまい:behavior

	型:type
計算:computed
結び付けられ:associated

解決:address
状態:state
色:color
新たな:new
要求され:required

見えない:invisible
見なされる:considered
見なす:consider
現在の:current
言い換えれば:In other word
個々の:individual
呼び出され:invoked
呼応する:respective
公式の:official

拘束`:tied
遂行-:perform

参考の:informative

次の:following

主体:party
主張:claim
取り扱い:handling
取り除く:Trim
足る〜でない:not sufficient
重要:important
述べられ:described
	所:location
書き出:write
除-:except
取り去られ:strip

少しばかり:slightly
上書きされ:overridden
冗長な:unneeded
場所:location


進行:advance
随時:at any time
正しく:correctly
正確:accurate
非公式に:non-normatively
生じる:occur
設定:setting
節:section
先頭:leading

前の:previously
前提にする:assumption
組み合わせ:combine


相当の:substantial
他に:elsewhere
非互換性:incompatibilities
単独の:single
置かれ:placed
築かれ:build
加えて:additionally
追加の:additional

等しい:equal

同じ:same
同様に:Likewise
特に，:especially
特に:particularly
ある特定の:particular
読み取る:read
	含-:including
	含-:include
内容:contents
任意の:arbitrary

避ける:avoid
	必要とされ:needed
否定:negation
不在:absence
不便:less
部分:part
複雑:complicated
複数の:multiple
併用:mixed
並び:sequence
返され:returned

末尾の:trailing
満たす 2:meets

明確化:clarify
優先順序の:precedence
余分な:extra
与えられた:given
要する:require

利用:use
利用できる:available


理由:reasons

類似性:similarities
例:example
例証:demonstrate
論を交わす:discussion
孕む:involving

	add: 2
	adding: 2
	addition: 3.001
	advance: 5.001
	agent: 4.001
	alternative: 3.001
	apart: 2
	authoring: 2
	body: 2
	cases: 5.002
	cause: 4.002
	claim: 3
	conjunction: 2.001
	consists: 3.001
	contrast: 2
	disjunction: 2.001
	draft: 4.001
	effectively: 2
	false: 6
	followed: 3
	follows: 2
	forward: 5.001
	found: 2
	getting: 3
	high: 2
	important: 2
	inclusion: 2
	index: 3
	instead: 2
	least:少なくとも
	less: 3
	like: 3
	location: 2
	loose: 2
	made: 5
	make: 4.001
	medium: 2
	month: 2.001
	need: 2.001
	negation: 2.001
	non: 7
	normative: 5
	note: 9.002
	order: 3
	particular: 2
	particularly: 2
	present: 2
	produced: 2
	product: 4.001
	proposed: 3
	public: 3
	publicly: 2
	rather: 2
	return: 12
	shipping: 2
	space: 3.001
	specific:特定の／固有の／特有の
	still: 2
	suite: 3
	times: 3.001
	token: 4.002
	top: 3
	true: 14
	two: 2
	under: 2
	use: 12
	way: 2
	work: 2.001
	working: 3

	write: 7.002


language: 1
describing: 1
structured: 1
paper: 1
speech: 1
copy: 1
editors: 1
moment: 1
publication: 1
imply: 1
endorsement: 1
don: 1
cite: 1
progress: 1
mailing: 1
preferred: 1
sending: 1
mail: 1
please: 1
put: 1
subject: 1
preferably: 1
operating: 1
maintains: 1
connection: 1
deliverables: 1
instructions: 1
disclosing: 1
actual: 1
knowledge: 1
believes: 1
disclose: 1
information: 1
accordance: 1
details: 1
advancing: 1
until: 1
october: 1
development: 1
last: 1
relative: 1
rates: 1
advancement: 1
move: 1
ability: 1
linking: 1
restrictions: 1
forced: 1
separate: 1
combine: 1
address: 1
much: 1
easier: 1
good: 1
incorporates: 1
modifications: 1
normatively: 1
depends: 1
assumption: 1
ahead: 1
reversed: 1
expressed: 1
combination: 1
descriptive: 1
assertions: 1
terminology: 1
key: 1
readability: 1
appear: 1
uppercase: 1
letters: 1
introduced: 1
begin: 1
called: 1
associate: 1
common: 1
how: 1
making: 1
elements: 1
navigation: 1
none: 1
state: 1
model: 1
area: 1
12cm: 1
whenever: 1
centimeters: 1
reflect: 1
now: 1
longer: 1
computed: 1
persist: 1
past: 1
lifetime: 1
braces: 1
containing: 1
sequence: 1
beginning: 1
exception: 1
forbidden: 1
modify: 1
keep: 1
accurate: 1
ones: 1
handle: 1
process: 1
place: 1
possibly: 1
others: 1
degrade:退行 1
gracefully: 1
existing: 1
graceful: 1
degradation: 1
ignoring: 1
sufficient: 1
large: 1
tied: 1
certain: 1
system: 1
slightly: 1
complicated: 1
similarities: 1
separated: 1
override: 1
arbitrary: 1
taken: 1
core: 1
interpreting: 1
purposely: 1
very: 1
reasons: 1
substantial: 1
boolean: 1
exists: 1
description: 1
shows: 1
harmful: 1
checking: 1
specifies: 1
become: 1
invisible: 1
say: 1
commas: 1
likewise: 1
caused: 1
precedence: 1
mixed: 1
layer: 1
furthermore: 1
sides: 1
thing: 1
extra: 1
flexibility: 1
sometimes: 1
commenting: 1
won: 1
partially: 1
discard: 1
consisting: 1
hand: 1
developer: 1
facing: 1
equivalence: 1
sense: 1
later: 1
especially: 1
compound: 1
extended: 1
itself: 1
insert: 1
position: 1
higher: 1
increase: 1
syntax_err: 1
unparseable: 1
handled: 1
anything: 1
comments: 1
parameter: 1
remove: 1
statement: 1
varies: 1
absence: 1
serializing: 1
steps: 1
run: 1
trim: 1
white: 1
matches: 1
appropriate: 1
nothing: 1
exensibility: 1
stream: 1
reducing: 1
omitting: 1
known: 1
optional: 1
removal: 1
unneeded: 1
evaluating: 1
holds: 1
functions: 1
belong: 1
elsewhere: 1
successfully: 1
processing: 1
stripped: 1
evaluated: 1
modifies: 1
replacing: 1
inserting: 1
alongside: 1
incorporated: 1
presented: 1
obey: 1
added: 1
increased:増補
failure: 1
three: 1
classes: 1
interprets: 1
semantics: 1
concerning: 1
inability: 1
due: 1
limitations: 1
device: 1
monochrome: 1
monitor: 1
conform: 1
exploit: 1
assign: 1
syntactic: 1
selectively: 1
component: 1
multi: 1
entire: 1
ignored: 1
clashes: 1
reserve: 1
proprietary: 1
recommends: 1
once: 1
reaches: 1
stage: 1
implementors: 1
spec: 1
advanced: 1
independent: 1
developed: 1
party: 1
reuse: 1
derive: 1
another: 1
bearing: 1
respective: 1
official: 1
web: 1
browser: 1
relevant: 1
created: 1
uas: 1
peer: 1
review: 1
beta: 1
preview: 1
nightly: 1
period: 1
demonstrate: 1
stability: 1
specifically: 1
designed: 1
intended: 1
normal: 1
usage: 1
going: 1
six: 1
editorial: 1
around: 1
explaining: 1
disabling: 1
describe: 1
conditiontext: 1
getter: 1
syntactically: 1
feedback: 1
tab: 1
rest: 1
community: 1


 -->

</html>
