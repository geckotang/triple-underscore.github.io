<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<title>CSS Timing Functions Level 1 （日本語訳）</title>

<link rel="stylesheet" href="common.css" type="text/css" />
<link rel="stylesheet" href="common-css.css" type="text/css" />
<script src="common0.js" ></script>
<script src="common1.js" async></script>

<script >
var source_data;

COMMON_DATA.page_state_key = '___CSS';
COMMON_DATA.init = function(expanded){
	var options = {
		original_url: 'https://drafts.csswg.org/css-timing/',
		spec_status: 'ED',
		main: 'MAIN',
		fill_text_link: '#_versions > dd',
		ref_data: '.ref_data',
		ref_id_prefix: 'biblio-',
		ref_id_lowercase: true,
	};


	if(expanded) return options;

	source_data = {
		html: E('MAIN').innerHTML,
		link_map: Util.getMapping('_link_map'),
		toc_main: 'MAIN0',
		levels: '英語主体:英語寄り:漢字主体:カナ主体',
		level: 2,
		generate: expand
	};
	Util.switchWordsInit(source_data);

//	Util.del_j(); //checked 160612 spec

	return options;
}

function expand(mapping1){
	var link_map = this.link_map;
	var context_prop = '';
	var class_map = {
		p: 'property', // prop
		css: 'css',
		f: 'func',
		e: 'element',
		v: 'value',
		t: 'type',
		NOTE: 'trans-note'
	};
	var tag_map = {
		p: 'code',
		t: 'var',
		vt: 'var',
		css: 'code',
		e: 'code',
		v: 'code',
		f: 'code',
		c: 'code',
		V: 'var',
		NOTE: 'span'
	}

	var nesting = '';

	E('MAIN').innerHTML = Util.replaceWords1(
		this.html.replace(
			/⇒|◎[^`<◎]*|【.*?】|%[\w~一-鿆]+|`(.*?)([$@^])(\w*)/g,
			create_html
		),
		mapping1
	);

	function create_html(match, key, indicator, klass){

if(!key) {
	switch(match[0]) {
	case '%':
		return '<var>' + match.slice(1) + '</var>'
	case '【':
		return '<span class="trans-note">' + match + '</span>'
	case '⇒':
		nesting += '</span>';
		return '：<span class="block">';
	}//◎
	result = nesting + '<span lang="en">' + match.slice(1).trim() + '</span>';
	nesting = '';
	return result;
}

var text = key;
var href = '';
var classname = class_map[klass];
var tag = tag_map[klass];

switch(klass){
case '': // plain
	if(indicator === '^') return mapping1[key];// remap
	break;
case 'r': // ref
	text = '[' + key + ']';
	href = '#biblio-' + key.toLowerCase();
	break;
case 't':
	text = '&lt;' + key + '&gt;';
	break;
default:
}


if(tag) {
	text = '<' + tag + (
		classname ? ' class="' + classname + '"' : ''
	) + '>' + text + '</' + tag + '>';
}


if(indicator !== '^'){
	href = link_map[klass ? (klass + '.' + key) : key] || href;
	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '$':
		text = '<a href="' + href + '">' + text + '</a>';
		break;
	case '@':
		text = '<dfn id="' + href.slice(1) + '">' + text + '</dfn>';
		break;
	default:
		console.log(match);
		return match;
	}
}

return text;

	}
}
</script>

<!--% 訳文 id → 原文 id -->
<script type="text/plain" id="_original_id_map">
</script>

<!--%links -->
<!--% リンク置換データ -->
<script type="text/plain" id="_link_map">

p.animation-delay:~CSSANIM#propdef-animation-delay
p.animation-fill-mode:~CSSANIM#propdef-animation-fill-mode
	p.animation-timing-function:~CSSANIM#propdef-animation-timing-function

f.cubic-bezier:#funcdef-cubic-bezier-timing-function-cubic-bezier
f.cubic-bezier():#funcdef-cubic-bezier-timing-function-cubic-bezier
f.steps:#funcdef-step-timing-function-steps
f.steps():#funcdef-step-timing-function-steps
f.frames:#funcdef-frames

t.cubic-bezier-timing-function:#typedef-cubic-bezier-timing-function
t.integer:~CSSVAL#integer-value
t.number:~CSSVAL#number-value
t.step-timing-function:#typedef-step-timing-function
t.frames-timing-function:#typedef-frames-timing-function
t.single-timing-function:#typedef-single-timing-function

v.ease-in-out:#valdef-cubic-bezier-timing-function-ease-in-out
v.ease-in:#valdef-cubic-bezier-timing-function-ease-in
v.ease-out:#valdef-cubic-bezier-timing-function-ease-out
v.ease:#valdef-cubic-bezier-timing-function-ease
v.linear:#valdef-single-timing-function-linear
v.step-end:#valdef-step-timing-function-step-end
v.step-start:#valdef-step-timing-function-step-start

v.start:#valdef-steps-start
v.end:#valdef-steps-end

~timing関数:#timing-function
線型~timing関数:#linear-timing-function
~cubic~Bezier~timing関数:#cubic-bzier-timing-function
階段~timing関数:#step-timing-function
~frame数~timing関数:#frames-timing-function

入力~進捗~値:#input-progress-value
出力~進捗~値:#output-progress-value
段数:#steps
段~位置:#step-position
直前~flag:#before-flag
~frame数:#frames

</script>


<script type="text/plain" id="words_table1">

</script>

<!--%語彙 -->
<script type="text/plain" id="words_table">

	●仕様
module:::モジュール
提供-:provide:~
共通の:common な:~
事例:case:~
仕方:way:~
仕様:spec:~
作者:author:~
利用者:user:~
制約-:restrict:~
定義-:define:~
定義:definition:~
影響-:affect:~
意味:meaning:~
所与の:given:与えられた
手段:means:~
指定-:specify:~
挙動:behavior:ふるまい
挙動する:behave:ふるまう
概して:typical に:~
概念的:conceptual:~
決定-:determine:~
要件:requirements:~
	述べ:describe:~
	資料:source:~
遂行-:perform:~
適用-:apply:~
効果:effect:~
指示-:indicate:~
	対応する:associated
相応しく:suitable に:~
確保-:ensure:~
数学的:mathematical:~
状況:situation:~
期待-:expect:~
直感的:intuitive:~

	似たような:similar
	生じる:arise
	例で示す:example 〜 illustrate
	~~論じられ:covered
	欲されるdesirable:::
	例:example
	依然として:still
	後述する:subsequently
	従う:follow
	用いて:using
	等々:etc
	考える:consider する
	述べる:describe
	追加の:additional
	ことも ときにはalternatively, it is sometimes

	●CSS
CSS:
UI:
keyword:::キーワード
prop:property::プロパティ
描画:rendering:~
文書:document:~
無効:invalid:~

	●
文字列:string:~
構文:syntax:~
生成規則:production:~
直列化-:serialize:~::シリアル化
直列化:serialization:~::シリアル化
直感的:intuitive:~
	-:boolean:~
記法:notation:~

	●timing
Bezier:Bézier::ベジェ
cubic:::3 次
timing:::タイミング
frame:::フレーム
	境目の直後:top:~
	境目の直前:bottom:~
位置:position:~
値:value:~
入力:input:~
出力:output:~
制御:control:~
制御点:control point:~
固定的な:fixed:~
変形-:transform:変換
変形:transformation:変換
変換-:convert:~
対応付け:mapping:~
座標:coordinate:~
恒等:identity::~
接線:tangent:~
時区間:interval:~
曲線:curve:~
段数:steps:~
点:point:~
率:rate:~
直線:straight line:~
端点:endpoint:~
範囲:range:~
等価:equivalent:~
純粋:pure:~
線型:linear:~
進捗:progress:~
階段:step:~
段数:step 数:~
段:step:~
関数:function:~
	に入らない:outside:~
無限:infinite:~
所在:location:~
	伸ばされ:extend され:~
	瞬間:moment:~
	段階:phase:
	時間的／時間軸:time
	等分-:divide 〜 that are equal in duration
	通る:pass-through
 	数:number
	実数:real number
	整数:integer
	整数:integral
	最も近い:closest
	正の:positive
	-:mod
連鎖:chain:~

	●animation
animation:::アニメーション
loop:::ループ
延伸-:fill:~
遅延:delay:~
遷移:transition:~

回転-:rotate:~
動き:movement:~
動く:move する:~
勢い:momentum:~
慣性:momentum:~
cartoon-props:cartoon props::アニメ
robot:::ロボット
感覚:sense:~
	加速-:increasing the speed
形状:shape:~
模倣-:mimic::~
生産-:produce:~
物理的:physical:~
現象:phenomena:~
重さ:weight:~
カクカク:discrete steps で:~
	本物らしく:convincing 〜 counterparts
	次第に／徐々に:gradual
	飛び飛びに動くmove forwards in distinct steps
	低速:slow
	早く:quickに
	歯:segment
	歯車:segmented wheel

	●未分類
flag:::フラグ
parameter:::パラメタ
pattern:::パタン
正確:exact:~
評価法:evaluation:~
表現-:represent:~
要素:element:~
計算-:calculate:~
表示-:display:~
相違:difference:~

	during
	増えていく:increasing
	個:one／two／three／four
	個目:second
	-:reach:~
	-:forwards:~
	-:start
	-:scale:~
	-:condition
	最初の:first
	種:type
	-:end
	結果:result
	-:language
	-:set
	-:gather
	-:list
	-:true:::
	UI:interface
	横軸:domain
	corresponding
	hence:::
	i:::
	index:::
	non-zero:::
	real:::
	~~働く:serve
	time:::
	-:whilst

	この:this
	しかしながら，:however
	すべての:all
	その:that
	そのような:such
	それら:they
	それらの:their
	上:above
	下:below
	下段／上段:row
	とも:both
	他の場合:otherwise
	各:each
	同じ:same
	多い:often
	多くの:many
	与-:give
	の様な-like
	利用-:use
	単に:simply:
	-:fill

	始-:begin
	常に:always
	対応-:correspond
	渡-:pass
	現れ:appear
	生-:occur
	示す:show
	等し:equal
	-:backward

</script>


</head>
<body >


<div style="display:none;">
<input type="hidden" id="_page_config" value="" />
</div>


<aside class="trans-meta">
<h1>CSS Timing Functions Level 1 日本語訳</h1>
<p>
<a id="_THIS_PAGE">このページ</a>
は、
<a href="http://www.w3.org/">W3C</a> により，副題の日付にて<strong >編集者草案</strong>として公開された
<a id="_SPEC_URL">CSS Timing Functions Level 1</a>
を日本語に翻訳したものです。
<strong >この翻訳の正確性は保証されません。</strong>
この仕様の公式な文書は英語版であり、この日本語版は公式のものではありません。
【 と 】で囲まれた部分は<span class="trans-note">【訳者による注釈】</span>です。
（<a href="index.html">他のウェブ関連仕様の一覧と共通機能の詳細</a>）
</p>

<p >
更新：<time>2017-03-09</time>
（公開：<time>2017-01-20</time> ）
</p>

<p>
このページの大部分はスクリプトにより生成されています（
古いブラウザなど，一部のブラウザには対応していません：
<span id="_GENERATING"></span>）。
</p>

<p>
本文ダブルクリックで当該箇所の原文が表示されます（左下隅に各種 表示切替ボタン — CSS や DOM の対応が古いブラウザでは、一部機能しないことがあります）。
</p>

<address id="_CONTACT">　</address>

</aside>


<header>

	<hgroup>
<h1>CSS Timing Functions Level 1</h1>
<h2>2017 年 3 月 8 日付 編集者草案</h2>
	</hgroup>

<dl id="_versions">
	<dt title="This version:">このバージョン</dt>
	<dt title="Editor’s Draft:">編集者草案</dt>
	<dd>https://drafts.csswg.org/css-timing/</dd>

	<dt title="Latest published version:">最新発行バージョン</dt>
	<dd>https://www.w3.org/TR/css-timing-1/</dd>

	<dt title="Editors:">編集</dt>
	<dd><a href="mailto:bbirtles@mozilla.com">Brian Birtles</a> (Mozilla)</dd>
	<dd><a href="mailto:dino@apple.com">Dean Jackson</a> (Apple Inc)</dd>
	<dd> (Microsoft)</dd>
	<dd><a href="mailto:shans@google.com">Shane Stephens</a> (Google Inc)</dd>

	<dt title="Issue Tracking:">最新の課題</dt>
	<dd><a href="https://github.com/w3c/csswg-drafts/labels/css-timing-1">GitHub</a></dd>
</dl>


<small class="copyright">
<a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2017 <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">permissive document license</a> rules apply.
</small>
</header>


<div id="MAIN" style="display:none;">

	<section id="abstract">
<h2 title="Abstract">要約</h2>

<p>
この~CSS~moduleは、作者が，~animationに対する時間的な変形を定義する仕方を述べる。
これを利用すれば、慣性などの物理的な現象を模倣したり, ~robotの様にカクカク動く~animationを生産できる。
◎
This CSS module describes a way for authors to define a transformation to be applied to the time of an animation. This can be used to produce animations that mimic physical phenomena such as momentum or to cause the animation to move in discrete steps producing robot-like movement.
</p>

~CSSisaLANG

	</section>
	<section id="status">
<h2 title="Status of this document">この文書の位置付け</h2>

<p>
この節では、発行時点における…
<!-- 
これは編集者草案の公開の複製です…
 -->
<span class="trans-note">【
以下，この節の内容は
<a href="css-common-ja.html#status" >CSS 日本語訳 共通ページ</a>
に委譲
】</span></p>

	</section>

<main id="MAIN0">

	<section id="introduction">
<h2 title="Introduction">1. 序論</h2>

~INFORMATIVE

<p>
~animationの進捗~率を制御したいと欲されることは多い。
例えば、動きが加速され，次第に勢いが増す要素には、重さがあるような感覚を与えれる。
これを用いれば、利用者に直感的な~UI要素や，物理的に本物らしく挙動する~cartoon-propsを生産できる。
また、歯が常に同じ位置に現れるように回転する歯車など，飛び飛びに動く~animationが欲されることも ときにはある。
◎
It is often desirable to control the rate at which an animation progresses. For example, gradually increasing the speed at which an element moves can give the element a sense of weight as it appears to gather momentum. This can be used to produce user intuitive interface elements or convincing cartoon props that behave like their physical counterparts. Alternatively, it is sometimes desirable for animation to move forwards in distinct steps such as a segmented wheel that rotates such that the segments always appear in the same position.
</p>

<p>
`~timing関数$は、入力~進捗~値から対応する出力~進捗~値を生産することにより，~animationを時間的に変形する手段を提供する。
◎
Timing functions provide a means to transform animation time by taking an input progress value and producing a corresponding transformed output progress value.
</p>

<figure>
<img
	src="css-timing/timing-function-example.svg"
	width="350"
	height="333"
	alt="Example of a timing function that produces an ease-in effect."
>

<figcaption>
`ease-in^v 効果を生産する~timing関数の例。
この~timing関数は、入力~進捗~値 0.7 に対しては，出力~進捗 0.52 を生産する。
この~timing関数を適用することにより、~animationは，最初は低速に, 徐々に早く進捗するようになる。
◎
Example of a timing function that produces an ease-in effect. Given an input progress of 0.7, the timing function scales the value to produce an output progress of 0.52. By applying this timing function, the animation will progress more slowly at first but then gradually progress more quickly.
</figcaption></figure>


	</section>
	<section id="timing-functions">
<h2 title="Timing functions">2. ~timing関数</h2>

<p>
`~timing関数@
は、`入力~進捗~値$から`出力~進捗~値$を生産する。
◎
A timing function takes an input progress value and produces an output progress value.
</p>

<p>
`~timing関数$は、純粋な関数で~MUST
— すなわち、同じ入力に対しては，常に同じ`出力~進捗~値$を生産する。
◎
A timing function must be a pure function meaning that for a given set of inputs, it always produces the same output progress value.
</p>


<p>
`入力~進捗~値@
は，範囲 [-∞, ∞] に入る実数であり。
その範囲は概して [0, 1] になるが、複数の`~timing関数$が連鎖される事例ではそうなるとは限らない。
◎
The input progress value is a real number in the range [-∞, ∞]. Typically, the input progress value is in the range [0, 1] but this may not be the case when timing functions are chained together.
</p>


<p>
`出力~進捗~値@
は，範囲 [-∞, ∞] に入る実数である。
◎
The output progress value is a real number in the range [-∞, ∞].
</p>

<p>
一部の種の~timing関数は、後述する追加の `直前~flag$も入力にとる。
◎
Some types of timing function also take an additional boolean before flag input which is defined subsequently.
</p>

<p>
この仕様は、以下に述べる 4 種~timing関数を定義する。
◎
This specification defines four types of timing functions whose definitions follow.
</p>



		<section id="linear-timing-function-section">
<h3 title="The linear timing function">2.1. 線型~timing関数</h3>

<p>
`線型~timing関数@
は、恒等~関数である
— すなわち、どの入力に対しても，`入力~進捗~値$と`出力~進捗~値$は等しくなる。
◎
The linear timing function is an identity function meaning that its output progress value is equal to the input progress value for all inputs.
</p>

<p>
`線型~timing関数$の構文は、単に
`linear@v
~keywordである。
◎
The syntax for the linear timing function is simply the linear keyword.
</p>


		</section>
		<section id="cubic-bezier-timing-functions">
<h3 title="Cubic Bézier timing functions">2.2. ~cubic~Bezier~timing関数</h3>


<p>
`~cubic~Bezier~timing関数@
は、`~timing関数$の一種であり，~cubic~Bezier曲線の
2 個の制御点 %P1, %P2  を指定する 4 個の実数で定義される。
曲線の端点 %P0, %P3 は、順に固定的な点
( 0, 0 ), ( 1, 1 )
で与えられる。
%P1, %P2 の %x 座標は、範囲 [0, 1] に制約される。
◎
A cubic Bézier timing function is a type of timing function defined by four real numbers that specify the two control points, P1 and P2, of a cubic Bézier curve whose end points P0 and P3 are fixed at (0, 0) and (1, 1) respectively. The x coordinates of P1 and P2 are restricted to the range [0, 1].
</p>

<p>
入力~進捗から出力~進捗への対応付けは、所与の`入力~進捗~値$ %x に対し，対応する`出力~進捗~値$ %y を決定することにより遂行される。
この曲線の評価法は、 `FUND-COMP-GRAPHICS$r などの多くの資料で~~論じられている。
◎
The mapping from input progress to output progress is performed by determining the corresponding y value (output progress value) for a given x value (input progress value). The evaluation of this curve is covered in many sources such as [FUND-COMP-GRAPHICS].
</p>

<figure>
<img
	src="css-timing/cubic-bezier-timing-curve.svg"
	width="500"
	height="477"
	alt="A cubic Bezier curve used as a timing function."
>

<figcaption>
~timing関数として利用される~cubic~Bezier曲線。
曲線の形状は、制御点 %P1, %P2 の所在により決定される。
入力~進捗~値／出力~進捗~値
は、曲線の
%x 値 ／ %y 値
として~~働く。
◎
A cubic Bézier curve used as a timing function. The shape of the curve is determined by the location of the control points P1 and P2. Input progress values serve as x values of the curve, whilst the y values are the output progress values.
</figcaption></figure>


<p>
範囲 [0, 1] に入らない`入力~進捗~値$に対しては、次に従って得られる 最も近い曲線の端点における接線を用いて無限に伸ばされる：
◎
For input progress values outside the range [0, 1], the curve is extended infinitely using tangent of the curve at the closest endpoint as follows:
</p>

<ul>
	<li>
<p>
0 未満の`入力~進捗~値$に対しては：
◎
For input progress values less than zero,
</p>

		<ol>
			<li>
%P1 の %x  値 ~GT 0 ならば：
%P1, %P0 を通る直線を接線に利用する。
◎
If the x value of P1 is greater than zero, use a straight line that passes through P1 and P0 as the tangent.
</li>
			<li>
他の場合， %P2 の %x 値 ~GT 0 ならば：
%P2, %P0 を通る直線を接線に利用する。
◎
Otherwise, if the x value of P2 is greater than zero, use a straight line that passes through P2 and P0 as the tangent.
</li>
			<li>
他の場合、範囲 [-∞, 0) 内のすべての`入力~進捗~値$に対し，`出力~進捗~値$は 0 になる。
◎
Otherwise, let the output progress value be zero for all input progress values in the range [-∞, 0).
</li>
		</ol>
	</li>
	<li>
<p>
1 を超える`入力~進捗~値$に対しては：
◎
For input progress values greater than one,
</p>
		<ol>
			<li>
%P2 の %x 値 ~LT 1 ならば：
%P2, %P3 を通る直線を接線に利用する。
◎
If the x value of P2 is less than one, use a straight line that passes through P2 and P3 as the tangent.
</li>
	<li>
他の場合， %P1 の %x 値 ~LT 1 ならば：
%P1, %P3 を通る直線を接線に利用する
◎
Otherwise, if the x value of P1 is less than one, use a straight line that passes through P1 and P3 as the tangent.
</li>
	<li>
他の場合、範囲 (1, ∞] 内のすべての`入力~進捗~値$に対し，`出力~進捗~値$は 1 とする。
◎
Otherwise, let the output progress value be one for all input progress values in the range (1, ∞].
</li>
		</ol>
	</li>
</ul>

<p>
`~cubic~Bezier~timing関数$は、次の構文による文字列として指定できる（ `CSS3VAL$r による記法を用いる）：
◎
A cubic Bézier timing function may be specified as a string using the following syntax (using notation from [CSS3VAL]):
</p>

<pre class="prod">
`cubic-bezier-timing-function@t
    = `ease$v
    | `ease-in$v
    | `ease-out$v
    | `ease-in-out$v
    | `cubic-bezier$f(`number$t, `number$t, `number$t, `number$t)
</pre>


<p>
各種 値の意味は、次に従う：
◎
The meaning of each value is as follows:
</p>

<dl>
	<dt>`ease@v</dt>
	<dd>
`cubic-bezier(0.25, 0.1, 0.25, 1)^v
に等価。
◎
Equivalent to cubic-bezier(0.25, 0.1, 0.25, 1).
</dd>

	<dt>`ease-in@v</dt>
	<dd>
`cubic-bezier(0.42, 0, 1, 1)^v
に等価。
◎
Equivalent to cubic-bezier(0.42, 0, 1, 1).
</dd>

	<dt>`ease-out@v</dt>
	<dd>
`cubic-bezier(0, 0, 0.58, 1)^v
に等価。
◎
Equivalent to cubic-bezier(0, 0, 0.58, 1).
</dd>

	<dt>`ease-in-out@v</dt>
	<dd>
`cubic-bezier(0.42, 0, 0.58, 1)^v
に等価。
◎
Equivalent to cubic-bezier(0.42, 0, 0.58, 1).
</dd>

	<dt><code class="value">`cubic-bezier@f(`number$t, `number$t, `number$t, `number$t) </code></dt>
	<dd>
`~cubic~Bezier~timing関数$を指定する。
4 個の実数は、順に
( %x1, %y1, %x2, %y2 )
として、曲線の点 %P1, %P2  を指定する。
%x1, %x2 とも範囲 [0, 1] に入ってい~MUST
— さもなければ定義は無効になる。
◎
Specifies a cubic Bézier timing function. The four numbers specify points P1 and P2 of the curve as (x1, y1, x2, y2). Both x values must be in the range [0, 1] or the definition is invalid.
</dd>
</dl>

<p>
上に挙げた~keyword値を下の例で示す：
◎
The keyword values listed above are illustrated below.
</p>

<figure>
<img
	src="css-timing/curve-keywords.svg"
	width="500"
	height="539"
	alt="The timing functions produced by keyword values."
>

<figcaption>
各 ~cubic~Bezier~timing関数~keyword値により生産される，~timing関数。
◎
The timing functions produced by each of cubic Bézier timing function keyword values.
</figcaption></figure>


		</section>
		<section id="step-timing-functions">
<h3 title="Step timing functions">2.3. 階段~timing関数</h3>


<p>
`階段~timing関数@
は、`~timing関数$の一種であり，入力~時間軸を指定された個数の時区間に等分する。
◎
A step timing function is a type of timing function that divides the input time into a specified number of intervals that are equal in length.
</p>

<p>
階段~timing関数を下の例で示す：
◎
Some example step timing functions are illustrated below.
</p>

<figure>
<img
	src="css-timing/step-timing-func-examples.svg"
	width="500"
	height="613"
	alt="Example step timing functions."
>

<figcaption>
階段~timing関数の例。
各~事例における
横軸は入力~進捗，縦軸は階段~関数が生産する出力~進捗を表現する。
上段の図は段数 1， 下段の図は段数 3 
が指定されたときの，各~遷移~点に対する関数を示している。
◎
Example step timing functions. In each case the domain is the input progress whilst the range represents the output progress produced by the step function. The first row shows the function for each transition point when only one step is specified whilst the second row shows the same for three steps.
</figcaption></figure>

<div class="p">
<p>
`階段~timing関数$は、次の~parameterで定義される：
</p>

<dl class="def-list">
	<dt>`段数@</dt>
	<dd>
正~整数。
</dd>

	<dt>`段~位置@</dt>
	<dd>
`start$v または `end$v 。
</dd>

	<dt>`直前~flag@</dt>
	<dd>
省略時は ~OFF 。
段の境目における関数の結果は，概念的には 境目の直後の段に対応するが、この~flagが
~ON にされて渡された場合の結果は，境目の直前の段に対応する。
</dd>
</dl>

◎
A step timing function is defined by a non-zero positive number of steps, and a step position property that may be either start or end.
◎
At the exact point where a step occurs the result of the function is conceptually the top of the step. However, an additional before flag passed as input to the step timing function, if true, will cause the result of the function to correspond to the bottom of the step at the step point.
</div>


<p>
`出力~進捗~値$は、これらの~parameterから次に従って計算した結果で与えられる：
◎
The output progress value is calculated from the input progress value and before flag as follows:
</p>

<ol>
	<li>
%V ~LET `入力~進捗~値$ × `段数$
◎
↓</li>
	<li>
%段 ~LET  floor( %V )
◎
Calculate the current step as floor(input progress value × steps).
</li>
	<li>
~IF［
`段~位置$ ~EQ `start$v
］
⇒
%段 ~INCBY 1
◎
If the step position property is start, increment current step by one.
</li>
	<li>
~IF［
`直前~flag$ ~EQ ~ON
］~AND［
%V は整数である
］
⇒
%段 ~DECBY 1
◎
If both of the following conditions are true:
◎
the before flag is set, and
◎
input progress value × steps mod 1 equals zero (that is, if input progress value × steps is integral), then
◎
decrement current step by one.
</li>
	<li>
%出力~進捗~値 ~LET %段 ÷ `段数$
◎
↓</li>
	<li>
~IF［
`入力~進捗~値$ ~GTE 0
］~AND［
%出力~進捗~値 ~LT 0
］
⇒
~RET 0
◎
If input progress value ≥ 0 and current step &lt; 0, let current step be zero.
</li>
	<li>
<p>
~IF［
`入力~進捗~値$ ~LTE 1
］~AND［
%出力~進捗~値 ~GT 1
］
⇒
~RET 1
◎
If input progress value ≤ 1 and current step &gt; steps, let current step be steps.
</p>

<div class="note">

<p>注記：
手続きのこの段と前の段は、所与の［
範囲 [0, 1] に入る`入力~進捗~値$
］に対し，階段~timing関数が［
範囲 [0, 1] に入らない`出力~進捗~値$
］を生産しないこと確保する。
◎
Steps 4 and 5 in this procedure ensure that given an input progress value in the range [0, 1], a step timing function does not produce an output progress value outside that range.
</p>

<p>
例えば，`段~位置$が `start$v にされた階段~timing関数は、数学的には［
`入力~進捗~値$ ~EQ 1
］のときにも 境目の直後の段に上がると直感的に期待できようが、そのような~timing関数は，~animationが前方へ延伸するとき（ `animation-fill-mode$p は `forwards^v ）には、`出力~進捗~値$として 1 を生産することが期待される。
◎
For example, although mathematically we might expect that a step timing function with a step position of start would step up when the input progress value is 1, intuitively, when we apply such a timing function to a forwards-filling animation, we expect it to produce an output progress value of 1 as the animation fills forwards.
</p>

<p>
似たような状況は、`段~位置$が `end$v にされた階段~timing関数が，~animationの遅延~段階（ `animation-delay$p ）に適用されたときにも生じる。
◎
A similar situation arises for a step timing function with a step position of end when applied to an animation during its delay phase.
</p>

</div>

	</li>
	<li>
~RET %出力~進捗~値
◎
The output progress value is current step / steps.
</li>
</ol>

<div class="example">

<div class="p">
<p>
`直前~flag$が この関数の挙動にどう影響するかの例として、次のようにされた~animationを考える：
</p>

<ul><li>`段~位置$は `start$v にされた`階段~timing関数$を利用する
</li><li>`animation-fill-mode$p は `backwards^v
</li><li>`animation-delay$p は正の値
</li></ul>

◎
As an example of how the before flag affects the behavior of this function, consider an animation with a step timing function whose step position is start and which has a positive delay and backwards fill.
</div>


<p>
例えば次の~CSS~animationを用いた場合：
◎
For example, using CSS animation:
</p>

<pre class="lang-css">
animation: moveRight 5s 1s steps(5, start);
</pre>


<p>
遅延~段階における`入力~進捗~値$は 0 になるが、~animation時区間にまだ達していないことを指示するため，`直前~flag$は ~ON にされ†、~timing関数が生産する`出力~進捗~値$は，最初の境目の直前に対応する 0 になる。
◎
During the delay phase, the input progress value will be zero but if the before flag is set to indicate that the animation has yet to reach its animation interval, the timing function will produce zero as its output progress value, i.e. the bottom of the first step.
</p>

<p>
~animationの時区間が始まる正確な瞬間における`入力~進捗~値$も，依然として 0 になるが、`直前~flag$は ~OFF にされる†ので，~timing関数の結果は 最初の境目の直後に対応することになる。
【† どこでそのように規定されている？】
◎
At the exact moment when the animation interval begins, the input progress value will still be zero, but the before flag will not be set and hence the result of the timing function will correspond to the top of the first step.
</p>

</div>


<p>
階段~timing関数を指定するための構文は、次に従う：
◎
The syntax for specifying a step timing function is as follows:
</p>

<pre class="prod">
`step-timing-function@t
    = `step-start$v
    | `step-end$v
    | `steps$f(`integer$t[, [ `start$v | `end$v ] ]?)
</pre>


<p>
各種 値の意味は、次に従う：
◎
The meaning of each value is as follows:
</p>

<dl>
	<dt>`step-start@v</dt>
	<dd>
`steps(1, start)^v
に等価。
◎
Equivalent to steps(1, start);
</dd>

	<dt>`step-end@v</dt>
	<dd>
`steps(1, end)^v
に等価。
◎
Equivalent to steps(1, end);
</dd>

	<dt><code class="value">`steps@f(`integer$t[, [ `start$v | `end$v ] ]?)</code></dt>
	<dd>
`階段~timing関数$を指定する。
1 個目の~parameterは、関数における時区間の個数を指定する。
値は正の整数で~MUST。
2 個目の~parameterは、値［
`start@v,
`end@v
］のいずれかをとり，`段~位置$を指定する
— 省略時は `end$v が与えられる。
◎
Specifies a step timing function. The first parameter specifies the number of intervals in the function. It must be a positive integer greater than 0. The second parameter, which is optional, is either the value start or end, and specifies the step position. If the second parameter is omitted, it is given the value end.
</dd>
</dl>


		</section>
		<section id="frames-timing-functions">
<h3 title="Frames timing functions">2.4. ~frame数~timing関数</h3>


<p>
`~frame数~timing関数@
は、`~timing関数$の一種であり，入力~時間軸を指定された個数の時区間に等分する。
`階段~timing関数$と同じく、各~時区間には，等差で増えていく`出力~進捗~値$対応する。
`階段~timing関数$からの相違は、`~frame数~timing関数$においては，
最初, 最後の時区間に入る`入力~進捗~値$に対し、順に，`出力~進捗~値$ 0, 1 を返す点にある。
これは，例えば、~animation~loopの最初と最後の~frameを，各~loopごとに他の~frameと等しい時間だけ表示するべきときに相応しくなる。
◎
A frames timing function is a type of timing function that divides the input time into a specified number of intervals of equal length, each of which is associated with an output progress value of increasing value. The difference between a frames timing function and a step timing function is that a frames timing function returns the output progress values 0 and 1 for an equal portion of the input progress values in the range [0, 1]. This makes it suitable, for example, for using in animation loops where the animation should display the first and last frame of the animation for an equal amount of time as each other frame during each loop.
</p>

<p>
~frame数~timing関数を下の例で示す：
◎
Some example frames timing functions are illustrated below.
</p>

<figure>
<img
	alt="Example frames timing functions."
	src="css-timing/frames-timing-func-examples.svg"
	width="500"
>

<figcaption>
~frame数~timing関数の例。
各~事例における
横軸は入力~進捗，縦軸は関数が生産する出力~進捗を表現する。
◎
Example frames timing functions. In each case the domain is the input progress whilst the range represents the output progress produced by the function.
</figcaption></figure>

<p>
`~frame数~timing関数$は、 2 以上の整数をとる
`~frame数@
で定義される。
◎
A frames timing function is defined by an integral number of frames greater than one.
</p>

<p>
`階段~timing関数$と同様に、段の境目における関数の結果は，概念的には 境目の直後の段に対応する。
◎
As with step timing functions, at the exact point where a step occurs the result of the function is conceptually the top of the step.
</p>

<p>
`出力~進捗~値$は、`入力~進捗~値$から次に従って計算した結果になる：
◎
The output progress value is calculated from the input progress value and before flag as follows:
</p>

<ol>
	<li>
%V ~LET `入力~進捗~値$ × `~frame数$
◎
↓</li>
	<li>
%現~frame ~LET  floor( %V )
◎
Calculate the current frame as floor(input progress value × frames).
</li>
	<li>
%出力~進捗~値 ~LET ( %現~frame ÷ ( `~frame数$ − 1 ) )
◎
Let the initial output progress value be current frame / (frames - 1).
</li>
	<li>
~IF［
`入力~進捗~値$ ~LTE 1
］~AND［
%出力~進捗~値 ~GT 1
］
⇒
~RET 1
◎
If input progress value ≤ 1 and output progress value &gt; 1, let output progress value be 1.
</li>
	<li>
~RET %出力~進捗~値
◎
↑</li>
</ol>

<p>
~frame数~timing関数を指定する構文は、次に従う：
◎
The syntax for specifying a frames timing function is as follows:
</p>

<pre class="prod">
`frames-timing-function@t = `frames@f(`integer$t)
</pre>

<p>
関数への~parameterは、`~frame数$を指定し， 2 以上の整数で~MUST。
◎
The parameter to the function specifies the number of frames. It must be a positive integer greater than 1.
</p>
		</section>
	</section>
	<section id="single-timing-function-production">
<h2 title="The &lt;single-timing-function&gt; production">3. `timing-function^t 生成規則</h2>

<p>
`~timing関数$を指定するための構文は、次に従う：
◎
The syntax for specifying a timing function is as follows:
</p>

<pre class="prod">
`single-timing-function@t
    = `linear$v
    | `cubic-bezier-timing-function$t
    | `step-timing-function$t
    | `frames-timing-function$t
</pre>

		<section id="serializing-a-timing-function">
<h3 title="Serialization">3.1. 直列化</h3>


<p>
~timing関数は
`CSSOM$r に定義される
共通の直列化~patternに加えて，次の追加の要件を用いて直列化される：
◎
Timing functions are serialized using the common serialization patterns defined in [CSSOM] with the following additional requirements:
</p>

<ul>
	<li>
~keyword値［
`ease$v, `linear$v, `ease-in$v, `ease-out$v, `ease-in-out$v
］は、同じ文字列に直列化する
— 等価な `cubic-bezier()$f 関数には<em>変換されない</em>。
◎
The keyword values ease, linear, ease-in, ease-out, and ease-in-out are serialized as-is, that is, they are not converted to the equivalent cubic-bezier() function before serializing.
</li>
	<li>
<p>
階段~timing関数［
`steps()$f 関数 ／ `step-start$v ／ `step-end$v
］は、`段~位置$に応じて，次の形に直列化する：
</p>

<dl class="switch">
	<dt>`end$v</dt>
	<dd><code class="value">`steps$f(`integer$t)</code></dd>

	<dt>`start$v</dt>
	<dd><code class="value">`steps$f(`integer$t, `start$v)</code></dd>
</dl>
◎
Step timing functions, whether they are specified using the steps() function or either of the step-start or step-end keywords, are serialized as follows:
◎
If the step position is end, serialize as steps(&lt;integer&gt;).
◎
Otherwise, serialize as steps(&lt;integer&gt;, start).
</li>
</ul>

		</section>
	</section>
	<section id="acknowledgments">
<h2 title="Acknowledgments">謝辞</h2>

<p>
この仕様は、
L.  David Baron, Dean Jackson, David Hyatt, Chris Marrin.
各氏により編集された
<a href="https://www.w3.org/TR/css3-transitions/">CSS Transitions</a> 
仕様に基づいている。
次の方々からのフィードバックと協力にも感謝する：
◎
This specification is based on the CSS Transitions specification edited by L. David Baron, Dean Jackson, David Hyatt, and Chris Marrin.
</p>

<p lang="en-x-a0">
The editors would also like to thank 

Douglas Stockwell,
Steve Block,
Tab Atkins,
Rachel Nabors,
Martin Pitt,
<a href="https://damp-lake-50659.herokuapp.com/">Animation at Work</a> slack
community

for their feedback and contributions.
</p>

	</section>
</main></div>



	<section id="conformance">

<h2 title="Conformance">適合性</h2>
<p class="trans-note">【
この節の内容は
<a href="css-common-ja.html#conformance">CSS 日本語訳 共通ページ</a>
に委譲
】</p>

	</section>
	<section id="references">
<h2 title="References">参照文献</h2>

		<section id="normative">
<h3 title="Normative References">文献（規範）</h3>

<script type="text/plain" class="ref_data">
[CSS3VAL]
    Tab Atkins Jr.; Elika Etemad. CSS Values and Units Module Level 3. URL: https://www.w3.org/TR/css-values-3/ 
[RFC2119]
    S. Bradner. Key words for use in RFCs to Indicate Requirement Levels. March 1997. Best Current Practice. URL: https://tools.ietf.org/html/rfc2119 
</script>


		</section>
		<section id="informative">
<h3 title="Informative References">文献（参考）</h3>

<script type="text/plain" class="ref_data">
[CSSOM]
    Simon Pieters; Glenn Adams. CSS Object Model (CSSOM). URL: https://www.w3.org/TR/cssom-1/ 
[FUND-COMP-GRAPHICS]
    Peter Shirley; Michael Ashikhmin; Steve Marschner. Fundamentals of Computer Graphics. 2009. 
</script>


		</section>
	</section>
	<section id="index">
<h2 title="Index">索引</h2>

<p class="trans-note">【
この節の内容は省略（ウィンドウ下端の索引機能を利用されたし）。
】</p>

	</section>
