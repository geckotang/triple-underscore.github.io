<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<title>CSS Inline Layout Module Level 3</title>

<link rel="stylesheet" href="common.css" type="text/css" />
<link rel="stylesheet" href="common-css.css" type="text/css" />
<script src="common0.js" ></script>
<script src="common1.js" async></script>

<script >
var source_data;

COMMON_DATA.page_state_key = '___CSS';
COMMON_DATA.init = function(expanded){
	var options = {
		original_url: 'https://drafts.csswg.org/css-inline/',
		spec_status: 'ED',
		main: 'MAIN',
		fill_text_link: '#_versions > dd, #references dd',
		alt_refs: 'references',
		ref_id_prefix: 'biblio-',
		ref_id_lowercase: true,
	};


	if(expanded) return options;

	source_data = {
		html: E('MAIN').innerHTML,
		link_map: Util.getMapping('_link_map'),
		collectParts: Util.collectParts,
		toc_main: 'MAIN0',
		levels: '英語主体:英語寄り:漢字主体:カナ主体',
		level: 2,
		generate: expand
	};
	Util.switchWordsInit(source_data);

//	Util.del_j(); //checked 161120 spec

	return options;
}

function expand(mapping1){
	var link_map = this.link_map;
	var context_prop = '';
	var class_map = {
		p: 'property', // prop
		css: 'css',
		pe: 'pseudo',
		ps: 'pseudo',
		e: 'element',
		v: 'value',
		vt: 'type',
		t: 'type',
		NOTE: 'trans-note'
	};
	var tag_map = {
		p: 'code',
		t: 'var',
		vt: 'var',
		css: 'code',
		pe: 'code',
		ps: 'code',
		e: 'code',
		v: 'code',
		c: 'code',
		V: 'var',
		NOTE: 'span'
	}


	E('MAIN').innerHTML = Util.replaceWords1(
		this.html.replace(
			/◎[^`<◎]*|【.*?】|`(.*?)([$@^])(\w*)/g,
			create_html
		),
		mapping1
	);


	function create_html(match, key, indicator, klass){
if(!indicator) {
	switch(match.charAt(0)){
	case '【':
		return '<span class="trans-note">' + match + '</span>'
	case '◎':
	default:
	}
	return '<span lang="en">' + match.slice(1) + '</span>';
}

var text = key;
var href = '';
//var href = link_map[klass ? (klass + '.' + key) : key] || '';
var classname = class_map[klass];
var tag = tag_map[klass];

switch(klass){
case '': // plain
	if(indicator === '^') return mapping1[key];// remap
	break;
case 'r': // ref
	text = '[' + key + ']';
	href = '#biblio-' + key.toLowerCase();
	break;
case 'p': // property
	if( indicator === '@') {
		context_prop = '#valdef-' + key + '-';
	}
	href = '#propdef-' + key;
	break;
case 'ps': 
	text = ':' + key;
	break;
case 'pe': 
	text = '::' + key;
	break;
case 't': // typedef
	text = '&lt;' + key + '&gt;';
	break;
case 'vt': // css value type
	text = '&lt;' + key + '&gt;';
	href = context_prop + key;
	break;
case 'v': // css values
	href = context_prop + key;
	break;
case 'dgm':
	return '<a id="_dgm-' + key + '"></a>';
}


if(tag) {
	text = '<' + tag + (
		classname ? ' class="' + classname + '"' : ''
	) + '>' + text + '</' + tag + '>';
}


if(indicator !== '^'){
	href = link_map[klass ? (klass + '.' + key) : key] || href;
	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '$':
		text = '<a href="' + href + '">' + text + '</a>';
		break;
	case '@':
		text = '<dfn id="' + href.slice(1) + '">' + text + '</dfn>';
		break;
	default:
		console.log(match);
		return match;
	}
}

return text;

	}
}
</script>

<!--% 訳文 id → 原文 id -->
<script type="text/plain" id="_original_id_map">
valdef-baseline-shift-baseline:baseline-shift-baseline
</script>

<!--%links -->
<script type="text/plain" id="_link_map">

支配的~基底線:#dominant-baseline
基底線:#baseline
	支配的~基底線:~CSSWM#dominant-baseline
基底線:~CSSWM#baseline
根~行内~box:#root-inline-box


埋没~頭字:#dropped-initial
沈込~頭字:#sunken-initial
持上~頭字:#raised-initial
先頭字:#initial-letter

塊~軸:~CSSWM#block-axis
行内~軸:~CSSWM#inline-axis
行内~基底~方向:~CSSWM#inline-base-direction
塊~flow方向:~CSSWM#block-flow-direction
塊終端:~CSSWM#block-end
塊始端:~CSSWM#block-start
横組:~CSSWM#horizontal-writing-mode
縦組:~CSSWM#vertical-writing-mode
始端:~CSSWM#start
行上面:~CSSWM#line-over
行下面:~CSSWM#line-under
上面:~CSSWM#over
下面:~CSSWM#under
論理~横幅:~CSSWM#logical-width

p.text-orientation:~CSSWM#propdef-text-orientation
	v.sideways:~CSSWM#valdef-text-orientation-sideways
	v.sideways-right:~CSSWM#valdef-text-orientation-sideways-right
p.color:~CSSCOLOR#propdef-opacity
p.opacity:~CSSCOLOR#propdef-opacity
p.width:~CSS2VISUDET#propdef-width
p.height:~CSS2VISUDET#propdef-height

p.justify-self:~CSSALIGN#propdef-justify-self

p.hanging-punctuation:~CSSTEXT#propdef-hanging-punctuation
p.letter-spacing:~CSSTEXT#propdef-letter-spacing
p.text-indent:~CSSTEXT#propdef-text-indent

p.line-height:~CSS2VISUDET#propdef-line-height
p.font-size:~CSSFONT#propdef-font-size

p.clear:~CSS22/visuren.html#propdef-clear

~typographic文字~単位:~CSSTEXT#typographic-character-unit
~cap-height:#_cap-height

t.length:~CSSVAL#length-value
t.percentage:~CSSVAL#percentage-value
t.number:~CSSVAL#number-value
t.integer:~CSSVAL#integer-value
	p.vertical-align:~CSS2VISUDET#propdef-vertical-align

ps.lang():~SELECTORS#lang-pseudo

css.em:~CSSVAL#em

整列済み部分木:#_aligned-subtree
	~CSS2VISUDET#_aligned-subtree
	baseline@
	css22-visudet-ja.html#_aligned-subtree

~Unicode一般~字種:~CSSTEXT#unicode-general-category
~Unicode用字系:~CSSTEXT#unicode-script
内容~言語:~CSSTEXT#content-language

基底線~grid:~CSSLINEGRID#line-grid

行内~box:~CSSDISP#inline
不可分な行内:~CSSDISP#atomic-inline
不可分な:~CSSDISP#atomic-inline
不可分でない行内:~CSSDISP#inline
不可分でない:~CSSDISP#inline
内容~辺:~CSS2BOX#content-edge
~margin辺:~CSS2BOX#margin-edge
内容~区画:~CSS2BOX#box-content-area
塊~容器:~CSSDISP#block-container
行内level:~CSSDISP#inline-level
~CSSWM#alphabetic-baseline
~CSSWM#central-baseline
mathematical
合成-:~CSSALIGN#synthesized-baseline

~ruby:~CSSWG/css-ruby-1/#ruby
</script>

<!--%置換語
-->
<script type="text/plain" id="words_table1">
CSSLINEGRID:https://drafts.csswg.org/css-line-grid/
</script>


<!--%語彙 -->
<script type="text/plain" id="words_table">
	●text layout
span:
grid:
cap:
em:

Arabic::アラビア語
Devanagari:::デヴァーナーガリー
Bengali::ベンガル語
Gurmukhi::グルムキー文字
Tibetan::チベット語
Indic:::インド系
	＊日中韓:CJK:~
Farsi::ペルシャ語
Hebrew::ヘブライ語
西欧:Western:~
日本語:Japanese:~

cap-height::cap 高
x-height:
font:::フォント
glyph:::グリフ
ruby:::ルビ

ink:
字詰:kern::字詰め
字詰法:kerning::字詰め法
descender:::ディセンダ
descent:::ディセント
ascender:::アセンダ
ascent:::アセント
bearing:::ベアリング
	はみ出る~leak
Unicode:

accent:::アクセント記号
alphabetic:
hebrew:
hanging:
吊下げ:hanging:~
	mark:mark:~
mathematical:
raise:
shift:::シフト
アキ:spacing::~
typographic:::タイポグラフィック
	zero-width non-joiner
central:
clear:
bounding:
	~glyphを囲う~box glyph bounding boxes
横組:horizontal writing mode::~
縦組:vertical writing mode::~
慣行:tradition:~
約物:punctuation:~
隔離形:isolated-form::~

並替え:reordering::~
中央:center::~
中央寄せに:center::~
中点:midpoint:~
先頭字:initial-letter::~
分断法:breaking::~
分断:break:~
半分:half:~
区画:area:~
単語:word:~

収まる:fit する:~
収まり:fit し:~
占める:occupy する:~

回込む:wrap around する::~
回込ませ:wrap around させ::~
回込み:wrapping:~

折返-:wrap::~
折返す:wrap する::~
折返し:wrapping::~

埋没:dropped::~
埋没-:drop::~
埋没cap:drop cap::埋没 cap
持上:raised::持上げ
持上され:raise::持上げられ
沈込:sunken::沈込み
沈込-:sink::沈込み
沈込しつ:sink しつ::沈込みつ
沈込しな:sink しな::沈込まな
沈込する:sink する::沈込む

行0:line::行
行box:line-box::行ボックス
行上面:line-over::~
行下面:line-under::~
上面:over::~
下面:under::~

複行:multi-line::複数行
行分:-lines::~
一行分:1-line::1 行分
二行分:2-lines::2 行分
三行分:3-lines::3 行分
行高:line height::~
用字系:script::~
高さ:height:~
深さ:depth:~
	deep
縦方向:vertical:~
横方向:horizontal:~

上付文字:superscript::~
下付文字:subscript::~
字下げ:indentation::~
小文字:lowercase:~
文字:character:~
大文字:uppercase:~
	~~大文字:capital／

表語的:ideographic::~
表語文字:ideograph::~
装飾的:decorative::~
装飾:decoration::~

字0:letter::字
字種:category::~
双向性:bidi::~
合成-:synthesize:~
合成法:synthesizing:~
	合致-:match:~
揃える:match させる:~
	~~揃える:land on／align
合間:between:~
基底線:baseline::~
table:::テーブル
境界:boundaries:~
bounding
形状付け:shaping:~
形状:shape:~
拡幅-:extend::~
支配的:dominant::~
整列-:align::~
整列:alignment::~
整列点:alignment point::~
整列済み:aligned::~
整形-:format:~
整形:formatting:~
方向:direction:~
書字:writing::~
書記体系:writing system::~
排他-:exclude:~
排他:exclusion:~
頭字:initial::~
段落:paragraph::~

移動-:move:~
変動:variation:~
直交方向の:transverse:~
基底:base::~
間隙:gap:~
	輪郭:contour／ink:~
外形線:outline:~
face:
測定-:measure:~
計量:metric:~
植字:typesetting:~
	原点:origin point:~

減算-:subtract:~
	最高点:highest point:~
	交点:intersection:~
	周を成す:face
	下回る:descends below
中間:halfway:~
供与-:contribute:~
	突き当る:impinge


	●layout

text:::テキスト
flow:::フロー

文脈:context:~
位置:position:~
位置決め:positioning:~
	位置d:positioned:~
単位:unit:~
子:child:~

prop:property::プロパティ
下位prop:sub-properties:下位 properties:下位プロパティ
	longhand

box:::ボックス
border:::ボーダー
margin:::マージン
padding:::パディング

容器:container::コンテナ
行内:inline::~:インライン
行内level:inline-level::行内レベル:インラインレベル
行内levelの:inline-level::行内レベルの::インラインレベル
行内軸:inline-axis::~:インライン軸
塊:block::ブロック
塊始端:block-start::ブロック始端
塊終端:block-end::ブロック終端
始端:start:~
包含塊:containing block::包含ブロック
	行内始端:inline-start::~:インライン始端
	行内終端:inline-end::~:インライン終端

layout:::レイアウト
lay-out:lay out::レイアウト
offset:::オフセット

size:::サイズ
sizing:::サイズ法
上端:top:~
下端:bottom:~
左端:left:~
右端:right:~
内側:inside:~
外側:outside:~

不可分な:atomic:~
不可分:atomic:~

非置換:non-replaced:~
距離:distance:~
軸:axis:~
辺:edge:~
進行:progression:~
部屋:room:~
重なり合う:overlap する:~
浮動体:float::~
浮動-:float::~
置換:replaced::~
置換-:replace::~
optical:
	視覚的？／optimal？
	押下げ~push down
論理:logical::~
断片:fragment::~
調整-:adjust:~
格子:grid:~
	整数倍:integral number
匿名:anonymous:~

寸法:dimension:~
配置-:place:~
相殺-:collapse:~

	●CSS
継承-:inherit:~
初期値:initial value:~
算出値:computed value:~
適用対象:applies to:~
利用不可:N/A:~
媒体:media::~:メディア
animation:::アニメーション
名前:name:~
名:name:~
使用値:used value:~
指定値:specified value:~
視覚的:visual:~
正準的順序:canonical order:~
離散的:discrete:~

stylesheet:::スタイルシート
選択子:selector::~:セレクタ
子孫:descendant:~
根:root::~:ルート
下位tag:subtag::下位タグ:サブタグ
展開-:expand:~
疑似類:pseudo class::疑似クラス
具現化法:rendering:~::レンダリング
無効:invalid:~
略式:shorthand:~

	●仕様
model:::モデル
module:::モジュール
UA:user agent:UA
feedback:::フィードバック
keyword:::キーワード
level:::レベル
optional:optional:~
at-risk:::リスク下
	plus:plus:~
space:::
空間:space:~
support:::サポート
fallback:::フォールバック
	table:::

一般:general:~
一貫性:consistency:~
仕様:spec:~
作者:author:~
依存-:depend:~
共通的:common:~
制御:control:~
拘束:constraints:~
事例:case:~
事実:fact:~

図式:diagram:~
取扱う:handle する:取り扱う
取扱われ:handle され:取り扱われ
可能0:possible:可能
定義-:define:~
定義:definition:~
実装:implementation:~
実際:actual:~
尊守-:honor:~
強制-:force:~
影響-:affect:~
影響0:impact:影響
情報:information:~
意味:meaning:~
指定-:specify:~
指示-:indicate:~
挙動する:behave する:ふるまう
挙動:behavior:ふるまい
提供-:provide:~
見出す:find する:~
規範的:normative:~
視野外:out-of-scope:~
課題:issue:~
適切:appropriate:~
要件:requirement:~
要求-:require:~
	見よ:see:~
許容-:allow:~
適正:proper:~
適用-:apply:~
	追加の:additional:~
	通例の:usual:~
通常通りに:as normal に:通常どおりに
通常の:normal な:~
不正:incorrect:~
正しい:correct な:~

拡張-:extend:~
	~~拡張expand
経験則:heuristic:~
統合-:integrate:~
奨励-:encourage:~
全部的な:full:~
指針:guideline:~
利点:advantages:~
仕方:way:~
	方法:how:~
決定-:determine:~
旧来の:legacy:~
特色機能:feature:~
用語:term:~
	用例:example usage:~
相互作用:interaction:~
	節:section:~
維持-:maintain:~
導出-:derive:~
推測-:infer:~
自動的:automatic:~
検出-:detect:~
	detection
特別な:special:~
	提案:Proposal
	最善:best
	必要:necessary:~
	必要:need:~
	織り込む:account:~
	考慮-:consider:~
	例:example:~
	依然として:still:~
	そぐわない:awkward:~
	与えられ:given:~
	特別に扱われるようになる:triggers the special layout considerations
	類似的:similar:~
	示-:show:~
	示-:mention:~
	最も容易:easiest:~
	望ましい:desirable:~
	概して:typical に:~
	加えて，:additionally:~
	余分の:extra:~
	代わりに:instead:~
	反対:opposite:~
	因り:due:~
	常に:always:~
	特に:specifically:~
	進行中の作業work-in-progress, 
	本当はreally
	見做してassuming
	関連のrelated
	煩わしいもの annoyance
	提出~submit
	方策:strategies
	机上のもの:theoretical:~
	見識:knowledgeable
	目障りな:jarring visual
	改称-:rename
	普通の:ordinary
	要旨を述べる:outline
	込み入っている:tricky
	健全さ〜検査:sanity-check
	はっきり:well
	●未分類
minus:::マイナス
code:::コード
data:::データ
style:::スタイル
zero:::ゼロ

符号:sign:~
保持-:hold:~
固定-:fix:~
作成-:create:~
作成法:creating:~
保全-:preserve:~
充足-:satisfy:~
効果:effect:~
単独の:single:~
単純:simple:~
増大-:increase:~
引数:argument:~
挿入-:insert:~
正確:exact:~
画像:image:~
省略-:omit:~
知覚上の:perceptual:~
短い:short:~

値:value:~
内容:content:~
包含-:contain:~
	包含している:containing:~
	実効:effective:~
疑似:pseudo:~
疑似要素:pseudo-element:~
負の:negative:~
正の:positive:~
百分率:percentage:~
相対的:relative:~
確立-:establish:~

等価:equivalent:~
算出-:compute:~

既定:default:~
既定の:default:~

無視-:ignore:~
精確:precise:~
絶対的:absolute:~
継続-:continue:~
継続性:continuity:~
自前の:own:~
表現-:represent:~
	複数の:multiple:~
言語:language:~
計算:calculation:~
計算法:calculating:~
選定-:select:~
選定:selection:~
選択法:selecting:~

	量:amount:~
長さ:length:~
	長過ぎる:too-long:~
関連の:relevant な:~
要素:element:~
規則:rule:~
親:parent:~
部分木:subtree:~
除去-:remove:~

	生-:occur:~
	点:point:~
	地点 point
	引き寄せる pull in
	集合:set:~
	内容~box:content-box:#1
	~~合致:hit

	ずらされ:moved up
	接する:touchする
	無い:missing
	invention:~
	N 本目の:Nth:~
	across
	alias
	cyan
	一部:part of
	前:before
	上:above
	下:below
	低い:lower:~
	両者:both:~
	他の:other:~
	以前の:previous:~
	側:side:~
	全体:entire:~
	単純に:simply:~
	各:each:~
	同じ:same:~
	含-:include:~
	周囲の:surrounding:~
	呼-:call:~
	埋-:fill:~
	基準:reference:~
	多い:often:~
	始部:beginning:~
	存在すること:presence:~
	対応-:correspond:~
	対応ing:corresponding:~
	後:after:~
	後続の:subsequent:~
	新たな:new:~
	最初の:first:~
	最後の:last:~
	次の:next:~
	緑色:green:~
	赤色:red:~
	高い:high:~
	２個の:two:~
	2 本目の／個目:second:~
	発明-:invent:~
	この:this:~
	その:that:~
	または:or:~
	利用-:use:~
	古い:old:~
	後続する:following:~
	~~後続する:main
	求-:want:~
	述-:describe:~
	これらの:these:~
	しかしながら，:however:~
	したがって:therefore:~
	すべての:all:~
	それら:their:~
	それら:they:~
	それらの:those:~
	ちょうど〜かのように:exactly as if:~
	とりわけ:especially:~
	に則って:according:~
	ぶつかる:crash:~
	べき:should:~
	より早い:earlier:~
	より良く:better:~
</script>

<!--%style -->
<style type="text/css" >

</style>


</head>

<body>


<div style="display:none;">

<input type="hidden" id="_page_config" value="" />

<!--%resource pool -->
	<div id="_persisted_parts">

<img id="_dgm-Dropcap-E-acute-3line"
	src="css-inline/Dropcap-E-acute-3line.png"
	width="480"
	alt="3-line drop cap with E Acute"
>
<img id="_dgm-Dropcap-lines"
	src="css-inline/Dropcap-lines.png"
	width="600"
	alt="drop cap showing alignment"
>
<img id="_dgm-Initial-2line-JapaneseVertical"
	src="css-inline/Initial-2line-JapaneseVertical.png"
	width="480"
	alt="Japanese Vertical Initial"
>
<img id="_dgm-CJK-Initial"
	src="css-inline/CJK-Initial.png"
	width="480"
	alt="Diagram of Japanese initial letter in vertical writing mode"
>
<img id="_dgm-Devangari-Initial"
	src="css-inline/Devangari-Initial.png"
	width="480"
	alt="Devangari initial letter"
>
<img id="_dgm-SunkenCapA"
	src="css-inline/SunkenCapA.png"
	width="480"
	alt="sunken drop initial"
>
<img id="_dgm-RaisedCap"
	src="css-inline/RaisedCap.png"
	width="480"
	alt="raised cap"
>
<img
	id="_dgm-initial-letter-punctuation-quote"
	src="css-inline/initial-letter-punctuation-quote.png"
	width="604"
	alt="Paragraph showing both opening quote and first letter set as three-line drop cap"
>
<img id="_dgm-InitialLetter33"
	src="css-inline/InitialLetter33.png"
	width="360"
	alt="3 lines high, 3 lines deep"
>
<img id="_dgm-InitialLetter32"
	src="css-inline/InitialLetter32.png"
	width="360"
	alt="3 lines high, 2 lines deep"
>
<img id="_dgm-InitialLetter31"
	src="css-inline/InitialLetter31.png"
	width="360"
	alt="3 lines high, 1 line deep"
>
<img id="_dgm-non-integer-initial"
	src="css-inline/non-integer-initial.png"
	width="360"
	alt="Non-integral initial letter that only aligns at base"
>
<img id="_dgm-hebrew-initial-letter"
	src="css-inline/hebrew-initial-letter.png"
	width="480"
	alt="optical kerning in the presence or absence of a space after the initial letter"
>
<img id="_dgm-Multi-line-initial"
	src="css-inline/Multi-line-initial.png"
	width="300"
	alt="multi-line drop cap"
>
<!-- 
<img id="_dgm-InitialCapEquation"
	src="css-inline/InitialCapEquation.png"
	width="604"
	alt="Equation to calcuate drop initial font size"
>
 -->
<img id="_dgm-Dropcap-J-3line-crash"
	src="css-inline/Dropcap-J-3line-crash.png"
	width="480"
	alt="3-line drop cap with J, with descender crashing into fourth line of text"
>
<img id="_dgm-Dropcap-J-3line-exclude"
	src="css-inline/Dropcap-J-3line-exclude.png"
	width="480"
	alt="3-line drop cap with J, but four-line exclusion"
>
<img id="_dgm-OpticalKerning"
	src="css-inline/OpticalKerning.png"
	width="200"
	alt="optical kerning in the presence or absence of a space after the initial letter"
>
<img id="_dgm-initial-letter-drop-para-compare"
	src="css-inline/initial-letter-drop-para-compare.png"
	width="600"
	alt="raised cap para after normal para"
>
<img id="_dgm-initial-letter-short-para"
	src="css-inline/initial-letter-short-para.png"
	width="600"
	alt="short para with initial letter"
>
<img id="_dgm-initial-letter-short-para-initial"
	src="css-inline/initial-letter-short-para-initial.png"
	width="600"
	alt="short para with initial letter followed by para with initial"
>


<img id="_dgm-A-wraparound-none"
	src="css-inline/A-wraparound-none.png"
	width="600"
	alt="regular dropcap A"
>
<img id="_dgm-A-wraparound"
	src="css-inline/A-wraparound.png"
	width="600"
	alt="text wrapping around dropcap A"
>
<img id="_dgm-A-wraparound-first"
	src="css-inline/A-wraparound-first.png"
	width="600"
	alt="text wrapping around dropcap A but only on first line"
>
<img id="_dgm-V-wraparound"
	src="css-inline/V-wraparound.png"
	width="600"
	alt=""
>
<img id="_dgm-P-wraparound"
	src="css-inline/P-wraparound.png"
	width="600"
	alt=""
>
<img id="_dgm-W-wraparound"
	src="css-inline/W-wraparound.png"
	width="600"
	alt=""
>
<img id="_dgm-measuring-x-height-o"
	src="css-inline/measuring-x-height-o.png"
	width="320"
	alt="measuring the x height of the letter o"
>
<img id="_dgm-measuring-hanging-baseline-ka"
	src="css-inline/measuring-hanging-baseline-ka.png"
	width="320"
	alt="finding the position of the hanging baseline of the letter ka"
>

</div>
</div>

<aside class="trans-meta">
<h1>CSS Inline Layout Module Level 3 日本語訳</h1>
<p>
<a id="_THIS_PAGE">このページ</a>
は、
<a href="http://www.w3.org/">W3C</a> により，副題の日付にて<strong >編集者草案</strong>として公開された
<a id="_SPEC_URL">CSS Inline Layout Module Level 3</a>
を日本語に翻訳したものです。
<strong >この翻訳の正確性は保証されません。</strong>
この仕様の公式な文書は英語版であり、この日本語版は公式のものではありません。
【 と 】で囲まれた部分は<span class="trans-note">【訳者による注釈】</span>です。
（<a href="index.html">他のウェブ関連仕様の一覧と共通機能の詳細</a>）
</p>

<p >
更新：<time>2017-01-06</time>
（公開：<time>2015-07-11</time> ）
</p>

<p>
このページの大部分はスクリプトにより生成されています（
古いブラウザなど，一部のブラウザには対応していません：
<span id="_GENERATING"></span>）。
</p>

<p>
本文ダブルクリックで当該箇所の原文が表示されます（左下隅に各種 表示切替ボタン — CSS や DOM の対応が古いブラウザでは、一部機能しないことがあります）。
</p>

<address id="_CONTACT">　</address>

</aside>



<header>
<a href="https://www.w3.org/" id="_W3C">W3C</a>
	<hgroup>
<h1 id="title">CSS による行内レイアウト — CSS Inline Layout Module Level 3</h1>
<h2>2017 年 1 月 5 日付 編集者草案</h2>
	</hgroup>

<dl id="_versions">
	<dt title="This version:">このバージョン</dt>
	<dt title="Editor’s Draft:">編集者草案</dt>
	<dd>https://drafts.csswg.org/css-inline/</dd>

	<dt title="Latest published version:">最新発行バージョン</dt>
	<dd>https://www.w3.org/TR/css-inline/</dd>

	<dt title="Previous versions:">以前のバージョン</dt>
	<dd>https://www.w3.org/TR/2016/WD-css-inline-3-20160524/</dd>
	<dd>https://www.w3.org/TR/2015/WD-css-inline-3-20150917/</dd>
	<dd>https://www.w3.org/TR/2014/WD-css-inline-3-20141218</dd>
	<dd>https://www.w3.org/TR/2002/WD-css3-linebox-20020515/</dd>

	<dt title="Issue Tracking:">最新の課題</dt>
	<dd><a href="#issues-index">仕様内</a></dd>
	<dd><a href="https://github.com/w3c/csswg-drafts/labels/css-inline-3">GitHub Issues</a></dd>

	<dt title="Editors:">編集</dt>
	<dd><a href="mailto:dauwhe@gmail.com">Dave Cramer</a> (Hachette Livre)</dd>
	<dd><a href="http://fantasai.inkedblade.net/contact">Elika J. Etemad / fantasai</a> (Invited Expert)</dd>
	<dd><a href="mailto:szilles@adobe.com">Steve Zilles</a> (Adobe)</dd>

	<dt title="Issues List:">課題一覧</dt>
	<dd><a href="https://www.w3.org/Bugs/Public/buglist.cgi?query_format=advanced&amp;product=CSS&amp;component=Linebox&amp;bug_status=NEW&amp;bug_status=ASSIGNED&amp;bug_status=REOPENED">CSS3 Line Layout issues in Bugzilla</a>
</dd>

</dl>

<small class="copyright">
<a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2016 <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.
</small>

</header>

<div id="MAIN" style="display:none;">

	<section id="abstract">
<h2 title="Abstract">要約</h2>

<p>
CSS 整形~modelは、［
容器の内側に~flowされる要素や~text
］を，何~行0かに折返すようにする整形を提供する。
そのうち、［
行0の中での要素や~textの整形 ／
その`行内~基底~方向$における位置決め
<!-- 行内~進行~方向 -->／
行0の分断法
］は、
`CSS3TEXT$r
にて述べられる。
この~moduleは、［
行0の中の要素や~text／ 行0たち
］に対する，`塊~flow方向$における位置決めについて述べる。
<!-- 塊~進行~方向 -->
この位置決めは、`基底線$に相対的になることが多い。
また、最初の行0や埋没capを整形するための，特別な特色機能についても述べる。
これは `CSS2$r における~modelを拡張する。
◎
The CSS formatting model provides for a flow of elements and text inside of a container to be wrapped into lines. The formatting of elements and text within a line, its positioning in the inline progression direction, and the breaking of lines are described in [CSS3TEXT]. This module describes the positioning in the block progression direction both of elements and text within lines and of the lines themselves. This positioning is often relative to a baseline. It also describes special features for formatting of first lines and drop caps. It extends on the model in [CSS2].
</p>

<p>
<a href="http://www.w3.org/TR/CSS/">CSS</a>
は、（ HTML や XML などの）構造を備える文書から，
スクリーン, 紙, スピーチ, 等々
の媒体への具現化法を記述するための言語である。
<span lang="en">
CSS is a language for describing the rendering of structured documents (such as HTML and XML) on screen, on paper, in speech, etc.
</span></p>


	</section>
	<section id="status">
<h2 title="Status of this document">この文書の位置付け</h2>

<p>
<!-- 
この節では、発行時点における…
 -->
これは編集者草案の公開の複製です…
<span class="trans-note">【
以下，この節の他の内容は
<a href="css-common-ja.html#status">CSS 日本語訳 共通ページ</a>
に委譲
】</span></p>

<!-- 
 This is a public copy of the editors’ draft. It is provided for discussion only and may change at any moment. Its publication here does not imply endorsement of its contents by W3C. Don’t cite this document other than as work in progress.

The (archived) public mailing list www-style@w3.org (see instructions) is preferred for discussion of this specification. When sending e-mail, please put the text “css-inline” in the subject, preferably like this: “[css-inline] …summary of comment…”

This document was produced by the CSS Working Group (part of the Style Activity).

This document was produced by a group operating under the 5 February 2004 W3C Patent Policy. W3C maintains a public list of any patent disclosures made in connection with the deliverables of the group; that page also includes instructions for disclosing a patent. An individual who has actual knowledge of a patent which the individual believes contains Essential Claim(s) must disclose the information in accordance with section 6 of the W3C Patent Policy.

This document is governed by the 1 August 2014 W3C Process Document. 

-->

<p>
次の特色機能は
<a href="css-common-ja.html#at-risk">~at-risk</a>
にあり、勧告候補の期間内に取下げられるかもしれません：
◎
The following features are at-risk, and may be dropped during the CR period:
</p>

<ul>
	<li>
`initial-letter-wrap$p ~prop
◎
the initial-letter-wrap property
</li>
</ul>

	</section>

<main id="MAIN0">
	<section id="intro">

<h2 title="Introduction">1. 序論</h2>

<p>
この~moduleは、
CSS Inline Layout （行内~layout）~modelを定義する。
それは、 CSS2.1 に定義される~modelを置換し, 拡張する。
これは、まだまだ進行中の作業なので、実装者は CSS2.1 を~~参照するべきである。
◎
This module defines the CSS Inline Layout model, replacing and extending the model as defined in CSS2.1. It is very much a work-in-progress, and implementers should reference CSS2.1 for now.
</p>

<p>
`根~行内~box@
とは、`塊~容器$の中の`行内level$の内容（もしあれば）すべてを保持するために自動的に生成される，匿名~行内~boxである。
それにあてがえる~styleは、親の`塊~容器$から継承し得るものに限られる。
◎
The root inline box is an anonymous inline box which is automatically generated to hold all of the inline-level contents of a block container (if it has any). It inherits from its parent block container, but is otherwise unstyleable.
</p>

	</section>

	<section id="line-height">
<h2 title="Line Heights and Baseline Alignment">2. 行高と基底線~整列</h2>


<p class="issue">
この節は、書き直し中にある。
pretty pictures を求むなら、規範的な CSS 定義については
`CSS2$r の
<a href="~CSS2VISUDET#line-height">10.8 節</a>
または
<a href="https://www.w3.org/TR/2002/WD-css3-linebox-20020515/">2002 年 草案</a>
を~~参照のこと。
（ただし、古い~textは無視するように。
“その半分” は間違っている。
どの半分かを指定していないが、それが，これから決定するものである。）
<strong>CSS2 仕様が実装の指針とされるべきである。</strong>
◎
This section is being rewritten. Refer to section 10.8 of [CSS2] for the normative CSS definition or the 2002 Working Draft if you want pretty pictures. (But ignore the old text, half of it’s wrong. We’re not specifying which half, that’s to be determined.) The CSS2 specification should be used as the guideline for implementation.
</p>

<p class="issue">
どの基底線が必要とされるのか
CSSWG まで意見を寄せられたし
— 不要なもの，追加する必要のあるもの。
◎
The CSSWG would like to know which baseline values are necessary: if any can be dropped, or any need to be added.
</p>


		<section id="dominant-baseline-property">
<h3 title="Dominant Baselines: the dominant-baseline property">2.1. 支配的~基底線： `dominant-baseline^p ~prop</h3>


`●名^ `dominant-baseline@p
`●値^
`auto$v
| `text-bottom$v
| `alphabetic$v
| `ideographic$v
| `middle$v
| `central$v
| `mathematical$v
| `hanging$v
| `text-top$v


`●初^ `normal$v
`●適^
`塊~容器$, および
`行内~box$
◎
block containers and inline boxes
`●継^ される
`●百^ 利用不可
`●媒^ 視覚的
`●算^ 指定値
`●順^ 文法に従う
`●ア^ 離散的
`●表終^


<p>
この~propは、~boxの
~text／`行内level$
の内容を整列するために利用される，
`支配的~基底線@
（
<a href="~CSSWM#dominant-baseline">dominant baseline</a>,
`CSS3-WRITING-MODES$r
）を指定する。
各種~値の意味は：
◎
This property specifies the dominant baseline, which is the baseline used to align the box’s text and inline-level contents. Values have the following meanings:
</p>

<dl>
	<dt>`auto@v</dt>
	<dd>
<p >
`横組$においては
`alphabetic$v
に等価になる。
`縦組$においては、 `text-orientation$p 値に応じて：
</p>
		<ul>
			<li>
［
`sideways^v ／ `sideways-right^v ／ `sideways-left^v
］ならば `alphabetic$v に等価になる。
</li>
			<li>
［
`mixed$v ／ `upright$v
］ならば `central$v に等価になる。
</li>
		</ul>

◎
Equivalent to alphabetic in horizontal writing modes and in vertical writing modes when text-orientation is sideways, sideways-right, or sideways-left. Equivalent to central in vertical writing modes when text-orientation is mixed or upright.
</dd>
	<dd>
ただし， SVG ~textにおいては、~glyphの原点（座標に基づく~glyphの位置決めに利用される）は常に，`縦組$における `central$v に対するときと同じに取扱われる。
◎
However, in SVG text, the origin point of glyphs (used for coordinate-based glyph positioning) is always handled as for central in vertical writing modes.
</dd>

	<dt>`text-bottom@v</dt>
	<dd>
~em~boxの下端を基底線として利用する。
◎
Use the bottom of the em box as the baseline.
</dd>

	<dt>`alphabetic@v</dt>
	<dd>
~alphabetic基底線を利用する。
◎
Use the alphabetic baseline.
</dd>

	<dt>`ideographic@v</dt>
	<dd>
~boxの［
ideographic character face under-side
【“~~表語的文字の~~字体下面側”】
］基底線を，親~boxのそれに揃える。
◎
Match the box’s ideographic character face under-side baseline to that of its parent.
</dd>

	<dt>`middle@v</dt>
	<dd>
“middle” 基底線
— ~boxの~alphabetic基底線と ex-height 【~x-height？】の中間 —
を利用する。
◎
Use the “middle” baseline: halfway between the alphabetic baseline and the ex-height.
</dd>


	<dt>`central@v</dt>
	<dd>
~central基底線を利用する（~ascentと~descentの中間）。
◎
Use the central baseline (halfway between the ascent and descent).
</dd>

	<dt>`mathematical@v</dt>
	<dd>
~mathematical基底線を利用する。
◎
Use the mathematical baseline.
</dd>

	<dt>`hanging@v</dt>
	<dd>
~hanging（吊下げ）基底線を利用する。
◎
Use the hanging baseline.
</dd>

	<dt>`text-top@v</dt>
	<dd>
~em~boxの上端を基底線として利用する。
◎
Use the top of the em box as the baseline.
</dd>
</dl>

<p class="trans-note">【†
上における “〜 基底線” は、~fontの基底線~tableのそれを指すと見られる。
】</p>


<p>
<!-- 
支配的~基底線については
CSS3-WRITING-MODES$r
を見よ（
<a href="~CSSWM#dominant-baseline">dominant baseline</a>
）。
 -->
◎
See [CSS3-WRITING-MODES] for an introduction to dominant baselines.
</p>


<p class="issue">
`text-top^v ／ `text-bottom^v
の代わりに
`text-over^v ／ `text-under^v
【 “上面”, “下面” 】
にするべきか？
旧来の `vertical-align$p と一貫性をとるためには、これらの用語は避けた方がよいが。
◎
Should be text-over and text-under instead of text-top and text-bottom, but maybe it’s better not to use those terms for consistency with legacy vertical-align.
</p>

<p class="issue">
`first^v, `last^v 値を追加する。
この~propにおいては、これらの値を他と組み合わせれるが、
`align/justify-self/content^p ~prop `CSS-ALIGN-3$r
では，そうできないことに注意。
hyphen vs. space か何かに関して構文を~~揃えることは求められているのか？
◎
Add first and last values. Note, in this property, these are combinatorial, whereas in the align/justify-self/content properties, it’s singular. Do we want to align the syntaxes wrt hyphens vs. spaces or what?
</p>



		</section>
		<section id="transverse-alignment">
<h3 title="Transverse Box Alignment: the vertical-align property">2.2. 直交方向の~box整列： `vertical-align^p ~prop</h3>


`●名^ `vertical-align@p
`●値^
<code class="type">&lt;‘`baseline-shift$p’&gt;</code>
|| <code class="type">&lt;‘`alignment-baseline$p’&gt;</code>
`●初^ `baseline$v
`●適^
`行内level$の~box
◎
inline-level boxes
`●継^ されない
`●百^ 利用不可
`●媒^ 視覚的
`●算^ 指定値
`●順^ 文法に従う
`●ア^ 離散的
`●表終^


<p>
この略式~propは、行0の中で`行内level$の~boxが整列される方法を指定する。
値の意味は、後述するこの~propの下位propと同じである。
◎
This shorthand property specifies how an inline-level box is aligned within the line. Values are the same as for its longhand properties, see below.
</p>

<p class="advisement">
作者は、下位propの代わりに この `vertical-align$p ~propを利用するべきである。
◎
Authors should use this property (vertical-align) instead of its longhands.
</p>
   


			<section id="alignment-baseline-property">
<h4 title="Alignment Point: alignment-baseline longhand">2.2.1. 整列点： `alignment-baseline^p 下位prop</h4>


`●名^ `alignment-baseline@p
`●値^
`baseline$v
| `text-bottom$v
| `alphabetic$v
| `ideographic$v
| `middle$v
| `central$v
| `mathematical$v
| `text-top$v
| `bottom$v
| `center$v
| `top$v

`●初^ `baseline$v
`●適^
`行内level$の~box
◎
inline-level boxes
`●継^ されない
`●百^ 利用不可
`●媒^ 視覚的
`●算^ 指定値
`●順^ 文法に従う
`●ア^ 離散的
`●表終^


<p>
`行内level$の~boxのどの点が，親におけるどの点に整列されるかを指定する。
各種~値は以下の様に定義される：
◎
Specifies what point of an inline-level box is aligned to what point in the parent. Values are defined below:
</p>

<p>
以下の定義における~boxは、［
`不可分な行内$に対しては ~margin~box ／
非置換~行内に対しては先頭の（ leading ）~box
］を指すとする。
また、行boxの行内~軸に基底線が無い場合は，`合成-$されるそれを~boxの基底線に利用するものとする。
◎
For the following definitions, the margin box is used for atomic inlines, the leading box for non-replaced inlines, and the baselines of the box are synthesized if missing in the line-box’s inline axis:
</p>


<dl>
	<dt>`baseline@v</dt>
	<dd>
~boxにおける［
親~boxの`支配的~基底線$と同じ種類の基底線
］を，親~boxの`支配的~基底線$に揃える。
◎
Use the dominant baseline choice of the parent. Match the box’s corresponding baseline to that of its parent.
</dd>

	<dt>`text-bottom@v</dt>
	<dd>
~boxの下端を，親~boxの`内容~区画$の下端に揃える。
◎
Match the bottom of the box to the bottom of the parent’s content area.
</dd>

	<dt>`alphabetic@v</dt>
	<dd>
~boxの~alphabetic基底線を，親~boxのそれに揃える。
◎
Match the box’s alphabetic baseline to that of its parent.
</dd>

	<dt>`ideographic@v</dt>
	<dd>
~boxの［
ideographic character face under-side
【“~~表語的文字の~~字体下面側”】
］基底線を，親~boxのそれに揃える。
◎
Match the box’s ideographic character face under-side baseline to that of its parent.
</dd>

	<dt>`middle@v</dt>
	<dd>
~boxの縦方向の中点を，［
親~boxの基底線から上方へ，親の~x-heightの半分の所
］に揃える。
【その中点と親~boxの小文字 x の中心が揃う】
<!-- 
<span style="border:solid red 1px;">aBcxg<span style="vertical-align:middle;outline:solid blue 1px;">aBcxg</span></span>
 -->
◎
Align the vertical midpoint of the box with the baseline of the parent box plus half the x-height of the parent.
</dd>

	<dt>`central@v</dt>
	<dd>
~boxの~central基底線を，親~boxの~central基底線に揃える。
◎
Match the box’s central baseline to the central baseline of its parent.
</dd>

	<dt>`mathematical@v</dt>
	<dd>
~boxの~mathematical基底線を，親~boxのそれに揃える。
◎
Match the box’s mathematical baseline to that of its parent.
</dd>

	<dt>`text-top@v</dt>
	<dd>
~boxの上端を，親~boxの`内容~区画$の上端に揃える。
◎
Match the top of the box to the top of the parent’s content area.
</dd>

</dl>

<p>
以下における`整列済み部分木$は、
<del>`CSS2$r</del>
<ins>下にて</ins>定義される。
◎
For the following definitions, the alignment subtree is as defined in [CSS2].
</p>


<dl>
	<dt>`top@v</dt>
	<dd>
`整列済み部分木$の上端と行0~boxの上端とを整列する。
◎
Align the top of the aligned subtree with the top of the line box.
</dd>

	<dt>`center@v</dt>
	<dd>
`整列済み部分木$の中央と行0~boxの中央とを整列する。
◎
Align the center of the aligned subtree with the center of the line box.
</dd>

	<dt>`bottom@v</dt>
	<dd>
`整列済み部分木$の下端と行0~boxの下端とを整列する。
◎
Align the bottom of the aligned subtree with the bottom of the line box.
</dd>

</dl>

<p>
行内~要素の
`整列済み部分木@
とは、要素~自身, および［
要素のすべての子~行内~要素のうち［
`alignment-baseline$p の算出値が［
`top$v ／ `center$v† ／ `bottom$v
］でないもの
］それぞれの`整列済み部分木$
］からなる部分木として（再帰的に）定義される。
`整列済み部分木$の［
上端／下端
］は、その部分木に属する要素たちが生成する~boxのうちの，最も［
高い上端／低い下端
］として定義される。
</p>

<p class="trans-note">【†
この
“整列済み部分木（ aligned subtree ）”
の定義は、 CSS2.2 の
<a href="~CSS2VISUDET#propdef-vertical-align">`vertical-align^p</a>
に述べられている定義に，新たな値 `center$v も織り込んだものである。
】</p>

<p>
SVG 実装は、旧来の内容を~supportするためとして，次の別名も~supportしてよい：
◎
SVG implementations may support the following aliases in order to support legacy content:
</p>

<pre>
`text-before-edge@v = `text-top$v
`text-after-edge@v = `text-bottom$v
</pre>

<p>
これらの値は、 `vertical-align$p 略式~propにおいては許容されない。
◎
These values are not allowed in the vertical-align shorthand.
</p>

			</section>
			<section id="baseline-shift-property">
<h4 title="Alignment Shift: baseline-shift longhand">2.2.2. 整列の~shift： `baseline-shift^p 下位prop</h4>


`●名^ `baseline-shift@p
`●値^
`length$vt | `percentage$vt | `sub$v | `super$v
`●初^ `0^v
`●適^
`行内level$の~box
◎
inline-level boxes
`●継^ されない
`●百^
`line-height$p の使用値を基準にする
◎
refer to the used value of line-height
`●媒^ 視覚的
`●算^ 
絶対的~長さ,
百分率,
または
指定された~keyword
◎
absolute length, percentage, or keyword specified
`●順^ 文法に従う
`●ア^ 離散的
`●表終^

<p>
この~propは、~boxが自身の整列点から上方へ~shiftされる量を指定する。
`alignment-baseline$p 値が
`top$v ／ `bottom$v
のときは適用されない。
◎
This property specifies by how much the box is shifted up from its alignment point. It does not apply when alignment-baseline is top or bottom.
</p>

<p class="advisement">
作者は、この~propの代わりに `vertical-align$p 略式~propを利用するべきである。
◎
Authors should use the vertical-align shorthand instead of this property.
</p>

<p>
各種~値の意味は：
◎
Values have the following meanings:
</p>

	
<dl>
	<dt id="valdef-baseline-shift-length">`length$t</dt>
	<dd>
指定された長さだけ，上げる（正の値の場合）か下げる（負の値の場合）。
◎
Raise (positive value) or lower (negative value) by the specified length.
</dd>

	<dt id="valdef-baseline-shift-percentage">`percentage$t</dt>
	<dd>
指定された［
`line-height$p に対する百分率
］だけ，上げる（正の値の場合）か下げる（負の値の場合）
◎
Raise (positive value) or lower (negative value) by the specified percentage of the line-height.
</dd>

	<dt>`sub@v</dt>
	<dd>
親の~boxの下付文字に適切な~offsetだけ下げる。
（~UAは、可能0なら，親の~font~dataを利用して この~offsetを見出すべきである）。
◎
Lower by the offset appropriate for subscripts of the parent’s box. (The UA should use the parent’s font data to find this offset whenever possible.)
</dd>

	<dt>`super@v</dt>
	<dd>
親の~boxの上付文字に適切な~offsetだけ上げる。
（~UAは、可能0なら，親の~font~dataを利用して この~offsetを見出すべきである）。
◎
Raise by the offset appropriate for superscripts of the parent’s box. (The UA should use the parent’s font data to find this offset whenever possible.)
</dd>

</dl>

<p>
~UAは、旧来の SVG 内容を~supportするために必要とされる場合には，追加で
~keyword
`baseline@v
を~supportしてよい
— これは `0^v に算出される。
<span class="issue">
これは除去したいと考えられている
— それが必要とされるかどうか
SVG ~UAからの~feedbackを請う。
</span>
◎
User agents may additionally support the keyword baseline as computing to 0 if is necessary for them to support legacy SVG content. Issue: We would prefer to remove this, and are looking for feedback from SVG user agents as to whether it’s necessary.
</p>
   


			</section>
		</section>
	</section>
	<section id="initial-letter-styling">
<h2 title="Initial Letters">3. 先頭字</h2>


<p class="issue">
非~西欧~用字系における埋没-頭字の例を寄せていただけるとありがたい
— とりわけ ~Arabicと~Indic用字系における。
◎
The editors would appreciate any examples of drop initials in non-western scripts, especially Arabic and Indic scripts.
</p>


		<section id="initial-letter-intro">
<h3 title="An Introduction to Initial Letters">3.1. 先頭字 序論</h3>


<p>
~textの新たな節を開始する，大きい装飾的な字0は、印刷が発明される前から利用されてきた。
事実、それらの利用は，全面的に小文字~字0をpredate する【？】。
◎
Large, decorative letters have been used to start new sections of text since before the invention of printing. In fact, their use predates lowercase letters entirely.
</p>


			<section id="drop-initial">
<h4 title="Drop Initial">3.1.1. 埋没-先頭字</h4>


<p>
`埋没~頭字@
（ dropped initial — “drop initial”, “drop cap” とも呼ばれる）とは、［
その`基底線$が，段落の最初の`基底線$より何~行0~分か低い
］ような，［
段落の開始における，通例より大きい字0
］【であって, その~cap-heightが後続する文字たちの~cap-heightに揃えられるもの】
である。
埋没-頭字の~sizeは、通例的にはそれが占める行0~数により指示される。
二行分／三行分
を占める埋没-頭字はごく共通的にある。
◎
A dropped initial (or “drop cap”) is a larger-than-usual letter at the start of a paragraph, with a baseline at least one line lower than the first baseline of the paragraph. The size of the drop initial is usually indicated by how many lines it occupies. Two- and three-line drop initials are very common.
</p>


<figure>`Dropcap-E-acute-3line^dgm
<figcaption>図 1.
E acute による三行分の埋没-頭字。
埋没-頭字の`~cap-height$と，~~後続する~textの~cap-heightとが整列するので、~accentは段落の上へ拡幅される。
◎
Three-line drop initial with E acute. Since the cap-height of the drop initial aligns with the cap-height of the main text, the accent extends above the paragraph.
</figcaption></figure>

<p>
`埋没~頭字$の正確な~size／位置は，その~glyphの整列に依存する。
埋没cap上の基準~点は、~text内の基準~点と精確に整列され~MUST。
西欧~用字系においては、上端~基準~点は［
先頭字／
~textの最初の行0
］の`~cap-height$になる。
下端~基準~点は［
先頭字の~alphabetic基底線／
~textの N 本目の行0の`基底線$
］になる。
次の図に，単純な二行分の埋没capを示す。
◎
The exact size and position of a dropped initial depends on the alignment of its glyph. Reference points on the drop cap must align precisely with reference points in the text. In Western scripts, the top reference points are the cap height of the initial letter and of the first line of text. The bottom reference points are the alphabetic baseline of the initial letter and the baseline of the Nth line of text. Figure 2 shows a simple two-line drop cap, with the relevant reference lines marked.
</p>

<figure id="f2">`Dropcap-lines^dgm

<figcaption>図 2.
二行分の埋没cap。
緑色~線は `基底線$／
赤色~線は ~cap-height ／
水色~線は ~ascender。
◎
Two-line drop cap showing baselines (green lines), cap-height (red line), and ascender (cyan line).
</figcaption></figure>


<p>
埋没-頭字に対する整列の拘束は、書記体系に依存する。
表語的（ ideographic ）用字系においては、先頭字は最初の行0の`塊始端$辺から
N 本目の行0の`塊終端$辺まで拡幅される。
◎
The alignment constraints for drop initials depend on the writing system. In ideographic scripts, the initial letter extends from the block-start edge of the first line to the block-end edge of the Nth line.
</p>


<figure id="f3">`Initial-2line-JapaneseVertical^dgm

<figcaption>図 3.
縦組における二行分の埋没-頭字
◎
Two-line drop initial in vertical writing mode
</figcaption></figure>


<p>
一部の~Indic用字系においては、上端~整列点は吊下げ基底線になり,
下端~整列点は text-after-edge になる。
◎
In some Indic scripts, the top alignment point is the hanging baseline, and the bottom alignment point is the text-after-edge.
</p>


<figure>`Devangari-Initial^dgm
<figcaption>図 4.
吊下げ基底線に整列された~Devanagari`先頭字$。
整列点は赤色で示されている。
<!-- Devangari -->
◎
Devangari initial letter aligned with hanging baseline. Alignment points shown in red.
</figcaption></figure>


			</section>
			<section id="sunk-initial">
<h4 title="Sunken Initial Letters">3.1.2. 沈込~先頭字</h4>


<p>
~textの最初の行0に整列しない~styleによる埋没-頭字もある。
`沈込~頭字@
（ sunken initial — “sunken cap” とも呼ばれる）
は、最初の`基底線$の下へ沈込しつつ, ~textの最初の行0から上へ拡幅する。
◎
Some styles of drop initials do not align with the first line of text. A sunken initial (or “sunken cap”) both sinks below the first baseline, and extends above the first line of text.
</p>


<figure>`SunkenCapA^dgm
<figcaption>
沈込~cap。
字0は二行分~埋没するが、その~sizeは三行分になる。
◎
Sunken cap. The letter drops two lines, but is the size of a three-line initial letter.
</figcaption></figure>


			</section>
			<section id="raise-initial">
<h4 title="Raised Initial Letters">3.1.3. 持上~先頭字</h4>


<p>
`持上~頭字@
（ raised initial — “raised cap”, “stick-up cap” とも呼ばれる）は、最初の~text`基底線$まで
“沈込する” 。
◎
A raised initial (often called a “raised cap” or “stick-up cap”) “sinks” to the first text baseline.
</p>

<p class="note">注記：
適正に持上された頭字には、単に最初の字0の~font~sizeを増やす以上にいくつか利点がある。
まず、段落の残りの部分における行0アキは 改められないまま，~textは大きな~descenderの周りに排他されることになる。
また、持上~頭字の~sizeが行0の整数倍として定義された場合，暗黙的な基底線~格子も維持される。
◎
Note: A proper raised initial has several advantages over simply increasing the font size of a first letter. The line spacing in the rest of the paragraph will not be altered, but text will still be excluded around large descenders. And if the size of raised initial is defined to be an integral number of lines, implicit baseline grids can be maintained.
</p>


<figure>`RaisedCap^dgm
<figcaption>
持上~cap。
先頭字は、三行分~頭字の~sizeであるが、沈込しない。
<!-- 埋没しない -->
◎
Raised cap. The initial letter is the size of a 3-line initial, but does not drop.
</figcaption></figure>

			</section>
		</section>
		<section id="selecting-drop-initials">
<h3 title="Selecting Initial Letters">3.2. 先頭字の選択法</h3>

<p>
先頭字は、概して単独の字0である
— 利用者からは単独の~typographic単位に見える，約物や文字~並びも含まれるが。
`SELECT$r にて定義される `first-letter^pe 疑似要素を利用すれば、先頭字を選択できる。
◎
Initial letters are typically a single letter, although they may include punctuation or a sequence of characters which are perceived by the user to be a single typographic unit. The ::first-letter pseudo-element, as defined in [SELECT], can be used to select an initial letter.
</p>


<p>
作者は、先頭字に含ませる文字について更なる制御が必要なとき, あるいは
先頭字の整形を［
置換~要素／複数の単語
］にも適用したいと求めるならば、`塊~容器$の最初の`行内level$の子に対し
`initial-letter$p ~propを適用できる。
◎
Authors who need more control over which characters are included in an initial letter, or who want to apply initial-letter formatting to replaced elements or multiple words can also apply the initial-letter property to the first inline-level child of a block container.
</p>



<div class="example">
<pre class="lang-ml">
&lt;p&gt;<mark>当</mark>段落には 埋没される “当” がある。
&lt;p&gt;&lt;img alt="<mark>ここ</mark>" src="illuminated-h.svg"&gt;には 飾り付けられる “ここ” がある。
&lt;p&gt;&lt;span&gt;<mark>段落~始めの単語たち</mark>&lt;/span&gt;にも先頭字~styleをあてがうことができる。
◎
&lt;p&gt;This paragraph has a dropped “T”.
&lt;p&gt;&lt;img alt="H" src="illuminated-h.svg"&gt;ere we have an illuminated “H”.
&lt;p&gt;&lt;span&gt;Words may also&lt;/span&gt; be given initial letter styling at the beginning of a paragraph.
</pre>

<pre class="lang-css">
::first-letter, /* <span class="comment">
最初の段落の “<mark>当</mark>” に~styleをあてがう
◎
style first paragraph’s T
</span> */
img, /* <span class="comment">
飾り付けられた “<mark>ここ</mark>” に~styleをあてがう
◎
style illuminated H
</span> */
span /* <span class="comment">
<mark>span の~~内容</mark>に~styleをあてがう
◎
style phrase inside span
</span> */
{ initial-letter: 2; }
</pre>

</div>


			<section id="initial-letter-punctuation">
<h4 title="Initial Letter Punctuation">3.2.1. 先頭字~約物</h4>


<p>
`first-letter^pe 疑似要素は，最初の字0の前後の約物も選択するので、これらの文字は先頭字に含まれる。
◎
Since ::first-letter selects punctuation before or after the first letter, these characters are included in the initial-letter.
</p>

<figure>
`initial-letter-punctuation-quote^dgm
<figcaption>
`first-letter^pe 疑似要素は、 "M" に加えて引用符も選択する。
◎
The ::first-letter pseudo-element selects the quotation mark as well as the “M.”
</figcaption></figure>


<p class="issue">
この挙動を opt out する仕方もあるべきか？
<a href="https://github.com/w3c/csswg-drafts/issues/310">Github Issue 310</a>
を見よ。
◎
Should there be a way to opt out of this behavior? See Github Issue 310.
</p>

			</section>
		</section>
		<section id="sizing-drop-initials">
<h3 title="Creating Initial Letters: the initial-letter property">3.3. 先頭字の作成法： `initial-letter^p ~prop</h3>

`●名^ `initial-letter@p
`●値^
`normal$v | [`number$vt `integer$vt?]
`●初^ `normal$v
`●適^
`first-letter^pe 疑似要素, および
`塊~容器$内の最初の, `行内level$の子
◎
::first-letter pseudo-elements and inline-level first child of a block container
`●継^ されない
`●百^ 利用不可
`●媒^ 視覚的
`●算^ 指定値
`●順^ 文法に従う
`●ア^ 離散的
`●表終^


<p>
この~propは、［
埋没／持上／沈込
］先頭字に対する~style付けを指定する。
各種~値の意味は：
◎
This property specifies styling for dropped, raised, and sunken initial letters. It takes the following values:
</p>


<dl>
	<dt>`normal@v</dt>
	<dd>
特別な先頭字~効果はなし。
~textは通常通りに挙動する。
◎
No special initial-letter effect. Text behaves as normal.
</dd>

	<dt id="valdef-initial-letter-number">`number$t</dt>
	<dd>
この最初の引数は、先頭字の~sizeを それが占める行0数により定義する。
1 より小さい値は無効。
◎
This first argument defines the size of the initial letter in terms of how many lines it occupies. Values less than one are invalid.
</dd>

	<dt id="valdef-initial-letter-integer">`integer$t</dt>
	<dd>
この省略可能な 2 個目の引数は、先頭字が沈込するべき行0数を定義する。
1 より小さい値は無効。
省略された場合、最初の引数を超えない最大の正~整数になる。
◎
This optional second argument argument defines the number of lines the initial letter should sink. Values less than one are invalid. If omitted, it duplicates the first argument, floored to the nearest positive whole number.
</dd>

</dl>

<p class="issue">
この~propの名前は、元々の~~案の `initial-letters^p
（複数形）にすべきか？
これは、複数~字0からなるものにも適用し得るので。
◎
Should this be initial-letters (plural) as originally discussed? Since it can apply to multiple letters.
</p>


<p>
`先頭字@
とは、値が `normal$v でない `initial-letter$p が適用される~boxである。
それは、以下に述べるように，~layoutの際に特別に扱われるようになる。
◎
An initial letter is a box to which initial-letter applies and is not normal: this triggers the special layout considerations described below.
</p>

<div class="example"><p>
`initial-letter$p
の用例をいくつか示す：
◎
Here are some examples of initial-letter usage:
</p>


<dl>
 	<dt class="css">`initial-letter$p: `3^v</dt>
	<dd>
（ `3 3^v に等価。）
高さ三行分, 深さ三行分を表現する
`埋没~頭字$：
<figure>`InitialLetter33^dgm
</figure>
◎
(initial-letter: 3 3)
◎
Represents a dropped initial 3 lines high, 3 lines deep.
</dd>

	<dt class="css">`initial-letter$p: `3 2^v</dt>
	<dd>
高さ三行分, 深さ二行分を表現する
`沈込~頭字$：
<figure>`InitialLetter32^dgm
</figure>
◎
Represents a sunken initial 3 lines high, 2 lines deep.
</dd>

	<dt class="css">`initial-letter$p: `3 1^v</dt>
	<dd>
高さ三行分, 深さ一行分を表現する
`持上~頭字$：
<figure>`InitialLetter31^dgm
</figure>
◎
Represents a raised initial 3 lines high, 1 line deep.
</dd>

	<dt class="css">`initial-letter$p: `2.51 3^v</dt>
	<dd>
先頭字の~sizeは、一行分の整数倍でない。
この事例では、下端のみが整列される。
<figure>`non-integer-initial^dgm
</figure>
◎
The size of the initial letter does not have to be an integral number of lines. In this case only the bottom aligns.
</dd>

</dl>

</div>


<div class="example"><p>
次の~codeは、各~段落の始めに
二行分の埋没~先頭字を作成することになる：
◎
The following code will create a 2-line dropped initial letter at the beginning of each paragraph:
</p>

<pre class="lang-css">
p::first-letter { initial-letter: 2; }
</pre>
</div>

<p>
`initial-letter$p ~propは、［
双向性 並替えに因り，行0の`始端$に位置されない
］ような~boxには，適用されない。
◎
The initial-letter property does not apply to boxes that are not positioned at the start of the line due to bidi reordering.
</p>

<p>
`initial-letter$p ~propは、［
`~ruby$基底~容器~boxの子 ／
`~ruby$容器~box
］に対しては未定義である。
◎
The initial-letter property is undefined on children of ruby base container boxes and on ruby container boxes.
</p>

			<section id="initial-letter-properties">
<h4 title="Properties">3.3.1. 先頭字の各種~prop</h4>

<p>
以下のものが、`先頭字$に適用し得る~propである：
◎
The following properties apply to an initial letter:
</p>


<ul>
	<li>
すべての~font~prop（`CSS3-FONTS$r ）
◎
all font properties (see [CSS3-FONTS])
</li>
	<li>
`color$p, `opacity$p
~prop（ `CSS3COLOR$r ）
◎
the color and opacity properties (see [CSS3COLOR])
</li>
	<li>
すべての背景~prop （ `CSS3BG$r ） 
◎
all background properties (see [CSS3BG])
</li>
	<li>
行内~要素に適用し得るすべての植字~prop（ `CSS3TEXT$r ）
◎
any typesetting properties that apply to inline elements (see [CSS3TEXT])
</li>
	<li>
すべての~text装飾~prop（ `CSS3-TEXT-DECOR$r ） 
◎
all text decoration properties (see [CSS3-TEXT-DECOR])
</li>
	<li>
すべての［
~margin, ~border, ~padding
］~prop（ `CSS2$r `CSS3BG$r ） 
◎
all margin, border and padding properties (see [CSS2] and [CSS3BG]) 
</li>
</ul>

<p class="note">注記：
`先頭字$にどの~propを適用し得るかは、それが
`行内~box$, `先頭字$~box
のいずれであるかに依存する。
`先頭字$は表示型の一種なので。
【<a href="~CSSDISP#display-type">表示型</a>（ display type ）】
◎
Note: Which properties apply to initial letter depend on whether it is an inline box or an initial letter box, as initial letter is a display type.
</p>


<p class="issue">
`width$p ／ `height$p
も追加する（ Tantek 氏による~~案）
— ~modelに統合する必要がある。
◎
Add width/height as requested by Tantek... need to integrate with model.
</p>


			</section>
			<section id="processing-model">
<h4 title="Layout Model">3.3.2. 先頭字の~layout~model</h4>


<p>
`先頭字$は、以下に要旨を述べる手続きに従って~lay-outされる：
◎
An initial letter is laid out following the steps outlined below:
</p>


<ol>
	<li>
［
`initial-letter$p による~size,
`initial-letter-align$p による整列~点,
~font計量
］に基づいて，~font~sizeの使用値を見出す。
この段には，~layoutは要求されないことに注意。
`先頭字$内容の~sizingに利用される~font~sizeは、その `font-size$p ~propの算出値には<em>影響しない</em>（したがって、 `em$css 単位の長さ値, 等々の算出にも効果は及ばない）。
◎
Find the used font size based on its initial-letter size, initial-letter-align alignment points, and font metrics. Note that no layout is required in this step. The font size used for sizing the initial letter contents does not affect its computed font-size property (and therefore has no effect on the computation of em length values, etc.).
</li>
	<li>
`先頭字$の内容~boxを~sizeする：
不可分でない行内~先頭字の内容~boxは、その~glyphたち全体, および
先頭字が不可分な行内も包含するならば その~margin~boxも含めるのに要する，~~最小の矩形である。
◎
Size the initial letter’s content box. The content box of a non-atomic inline initial letter is the smallest rectangle required to include the entirety of its glyphs as well as the margin boxes of any atomic inlines it contains.
</li>
	<li>
先頭字の~margin~boxは、その行0の辺【どの？】に配置される。
~padding／~borderを~~無視するならば、~boxは，内容~boxの始端~辺から［
`initial-letter$p が `none^v 【 normal ？】
であったとするときに，包含塊の始端~辺の所に配置される内容~内の点
］までの距離で負に~offsetされる。
【何が何を指すのか不明瞭でよくわからない】
◎
The initial letter’s margin box is placed at the edge of the line. If it has no padding or borders, it is negatively offset by the distance from the start edge of its content box to the point in the content that would have been placed at the start edge of the containing block if it had initial-letter: none.
</li>
	<li>
`initial-letter-wrap$p に則って，行内~字0の~margin~boxの中の内容は排他する
【先頭字の内容に後続する~textを先頭字の~margin~boxの周囲に回り込ませる？】。
◎
Exclude content within the inline letter’s margin box according to initial-letter-wrap.
</li></ol>

			</section>
			<section id="initial-letter-box">

<h4 title="Content-box Size, Margins, Borders, and Padding">3.3.3. 先頭字の内容~boxの［ ~size, ~margin, ~border, ~padding ］</h4>

<p>
他の~boxと同様に、先頭字にも［
~margin, ~padding, ~border
］~styleはあてがわれ得る。
`initial-letter-align$p が `border-box^v でない限り，その縦方向の
整列／~sizing
には影響されない一方、実効~排他~区画（および対応する~margin区画）は影響される。
◎
Initial letters can be styled with margins, padding, and borders just like any other box. Unless initial-letter-align is border-box, its vertical alignment and sizing are not affected; however the effective exclusion area is (and corresponds to the margin area).
</p>


<p>
~borderも~paddingも~zeroの場合、先頭字は字詰され得る（後述）。
◎
When padding and borders are zero, the initial letter may be kerned; see below.
</p>

			</section>
		</section>
		<section id="aligning-initial-letter">
<h3 title="Alignment of Initial Letters: the initial-letter-align property">3.4. 先頭字の整列： `initial-letter-align^p ~prop</h3>


<p>
先に示したように、先頭字の整列は，利用される用字系に依存する。
`initial-letter-align$p
~propは、適正な整列を指定するときに利用できる。
◎
As mentioned earlier, the alignment of initial letters depends on the script used. The initial-letter-align property can be used to specify the proper alignment.
</p>


`●名^ `initial-letter-align@p
`●値^
`border-box$v?
[ `alphabetic$v | `ideographic$v | `hebrew$v | `hanging$v ]
| `border-box$v
`●初^ `alphabetic$v
`●適^
`first-letter^pe 疑似要素, および
`塊~容器$内の最初の, `行内level$の子
◎
::first-letter pseudo elements and inline level first child of a block container
`●継^ される
`●百^ 利用不可
`●媒^ 視覚的
`●算^ 指定値
`●順^ 文法に従う
`●ア^ 離散的
`●表終^


<p>
この~propは、`先頭字$を
~sizeする／位置する
ために利用される整列点を指定する。
整列点の集合が二つ必要とされる：
`先頭字$の
( `上面$, `下面$ )
整列点は、周囲の~textの対応する
( `上面$, `下面$ )
点に合致される。
◎
This property specifies the alignment points used to size and position an initial letter. Two sets of alignment points are necessary: the over and under alignment points of the initial letter are matched to corresponding over and under points of the surrounding text.
</p>


<p>
各種~値の意味は：
◎
Values have the following meanings:
</p>

<dl>
	<dt>`alphabetic@v</dt>
	<dd>
周囲の~textの
( ~alphabetic, ~cap-height )
基底線を利用して，`先頭字$を整列する。
◎
Use the alphabetic and cap-height baselines of the surrounding text to align the initial letter.
</dd>

	<dt>`ideographic@v</dt>
	<dd>
周囲の~textの
表語的~文字~faceの
( 下端~辺, 上端~辺 )
基底線を利用して，`先頭字$を整列する。
◎
Use the ideographic character face bottom and top edge baselines of the surrounding text to align the initial letter.
</dd>

	<dt>`hebrew@v</dt>
	<dd>
周囲の~textの
( ~alphabetic, （まだ机上のものでしかない）~hebrew~hanging )
基底線を利用して，`先頭字$を整列する。
◎
Use the alphabetic and (as yet theoretical) hebrew hanging baseline of the surrounding text to align the initial letter.
</dd>

	<dt>`hanging@v</dt>
	<dd>
周囲の~textの
( ~alphabetic, ~hanging )
基底線を利用して，`先頭字$を整列する。
◎
Use the alphabetic and hanging baselines of the surrounding text to align the initial letter.
</dd>

	<dt>`border-box@v</dt>
	<dd>
`先頭字$~boxの
( `行上面$, `行下面$ )
~border辺を，
( `上面$, `下面$ )
整列点として利用する。
◎
Use the initial letter box’s line-over and line-under border edges as the over and under alignment points, respectively.
</dd>

</dl>

<p class="issue">
~hebrewの “~hanging” 基底線に適正な~typographic用語は，何かある？
◎
Is there proper a typographic term for the hebrew “hanging” baseline?
</p>


<div class="example"><p>
縦組における二行分の埋没~頭字（<a href="#f3">図 3</a> の縦組の例）は、次の~codeで可能になるであろう：
◎
The vertical writing mode example from Figure 2 could be coded as:
</p>

<pre class="lang-css">
span.initial {
  initial-letter: 2;
  initial-letter-align: ideographic;
}
</pre>
</div>

<div class="example">

<p>
~Hebrewにおける先頭字：
◎
Initial letter in Hebrew
</p>

<pre class="lang-css">
span.initial {
  initial-letter: 2;
  initial-letter-align: hebrew;
}
</pre>

<figure>`hebrew-initial-letter^dgm
</figure>

</div>

<p>
`border-box$v が指定された場合を除いて、`先頭字$の各 整列点は、その内容から自動的に決定される：
◎
Except when border-box is specified, the alignment points of the initial letter are automatically determined from its contents:
</p>

<ol>

	<li>
`先頭字$が`不可分な行内$ならば、内容~boxの
( `上面$, `下面$ )
辺を利用する。
◎
If the initial letter is an atomic inline, use its over and under content-box edges.
</li>
	<li>
他の場合，`先頭字$が［
Han, Hangul, Kana, Yi
］いずれかの`~Unicode用字系$に属する文字を包含するならば、表語的~文字~faceの
( 下端~辺, 上端~辺 )
基底線を利用する。
◎
Else if the initial letter contains any character from the Han, Hangul, Kana, or Yi Unicode scripts, use the ideographic character face bottom and top edge baselines.
</li>
	<li>
他の場合，`先頭字$が
Devanagari, Bengali, Gurmukhi
`~Unicode用字系$に属する文字を包含するならば、［
~hangingと~alphabetic
］基底線を利用する。
◎
Else if the initial letter contains any character from the Devanagari, Bengali, and Gurmukhi Unicode scripts, use the hanging and alphabetic baselines.
</li>
	<li>
他の場合，`先頭字$が
~Hebrew `~Unicode用字系$に属する文字を包含するならば、表語的~文字~faceの
( 下端~辺, 上端~辺 )
基底線を利用する。
◎
Else if the initial letter contains any character from the Hebrew Unicode scripts, use the ideographic character face bottom and top edge baselines.
</li>
	<li>
他の場合、
( ~alphabetic, ~cap-height )
基底線を利用する。
◎
Else use the alphabetic and cap-height baselines.
</li>
</ol>

<p class="issue">
Tamil や Telugu など，明示的な~hanging基底線を持たない
South Asian 用字系に適正な整列は何か？
◎
What is the proper alignment for South Asian scripts that do not have the explicit hanging baseline, such as Tamil or Telugu?
</p>


<p class="note">注記：
この~propにおける各~keywordの順序付けは、`先頭字$の整列点を明示的に指定できるようにするため，
`border-box$v が
<span class="prod">[ border-box | alphabetic | ideographic | hebrew | hanging ]</span>
に展開される事例においては，固定される。
【？】
◎
Note: The ordering of keywords in this property is fixed in case border-box is expanded to [ border-box | alphabetic | ideographic | hebrew | hanging ] to allow explicitly specifying the initial letter’s alignment points.
</p>


			<section id="initial-letter-align-defaults">
<h4 title="UA Default Stylesheet for initial-letter-align">3.4.1. `initial-letter-align^p に対する ~UAの既定の~stylesheet</h4>

<p>
より良い既定の挙動を提供するため、~UAは，自身の既定の~UA~stylesheetに 次の規則を含め~MUST：
◎
In order to provide the better behavior by default, UAs must include in their default UA style sheet the following rules:
</p>


<pre class="css">
[lang=zh],
[lang=ja],
[lang=ko],
[lang=ii] {
  initial-letter-align: ideographic;
}
[lang|=iw],
[lang|=yi],
[lang|=lad],
[lang|=jrb] {
  initial-letter-align: hebrew;
}
[lang|=hi],
[lang|=mr],
[lang|=ne],
[lang|=pi],
[lang|=kok],
[lang|=brx],
[lang|=mai],
[lang|=sd],
[lang|=sa] {
  initial-letter-align: hanging;
}
</pre>


<p class="issue">
属性~選択子で【自然言語】下位tagを選択する仕方がまだない（ Selectors 4 には，それに該当する `lang()$ps 特色機能があるが、ここでは，子孫~要素すべてではなく，言語~根のみに~~合致させることが求められているので、適さない）。
これらの選択子は、関連の用字系に対応する下位tagも含むべきである。
◎
We don’t have a way to do subtag selection with attr selectors. (It’s a feature of :lang() in Selectors 4, but we don’t want to use that because we want to hit the language root, not all of the descendant elements.) These selectors should also include the relevant script subtags.
</p>

			</section>
		</section>
		<section id="sizing-initial-letters">
<h3 title="Sizing Initial Letters">3.5. 先頭字の~sizing</h3>


<p>
埋没-頭字の~sizeは、要求される整列を充足する必要により，決定される。
西欧~用字系における N 行分の埋没-頭字に対しては、字0の~cap-height†は［
( N – 1 ) × 行高 + 周囲の~textの~cap-height
］だけ必要になる。
この高さは、埋没-頭字の~font~sizeではないことに注意。
◎
The size of a drop initial is determined by the need to satisfy the required alignment. For an N-line drop initial in a Western script, the cap-height of the letter needs to be (N – 1) times the line-height, plus the cap-height of the surrounding text. Note this height is not the font size of the drop initial.
</p>

<p class="trans-note">【†
`~cap-height@
（ cap-height ）とは、大文字の高さ（~alphabetic基底線から大文字の頭頂までの高さ（
<a href="https://en.wikipedia.org/wiki/Cap_height">Wikipedia</a>
））, または（この仕様では）大文字の頭頂の位置を指す（一般に，~ascentを超えない）。
<a href="#_dgm-Dropcap-lines">3.1.1 節の図を参照</a>
】</p>

<p>
この~font~sizeの計算法は実際に込み入っている。
`N^V 行分の埋没-頭字に対して見出される埋没-頭字~font~sizeは、次の式で与えられる：
◎
Actually calculating this font size is tricky. For an N-line drop initial, we find the drop initial font size to be:
</p>


<blockquote>
埋没capの~font~size
= (
	( `N^V − 1 ) × 行高 +
	( 段落の~cap-height比率† ) × ( 段落の~font~size )
 )
÷ ( 埋没-頭字~fontの~cap-height比率 )
◎
Font size of drop cap = ((N-1) * line-height + [cap-height of para] * [font size of paragraph])/[cap-height ratio of drop initial font]
</blockquote>
<!-- 

 -->

<!-- InitialCapEquation^dgm -->

<p class="trans-note">【†
何に対する比率？
`~cap-height$ ÷ ~font~size（あるいは em-box ）？
】</p>

<div class="example"><p>
Adobe Minion Pro における三行分の埋没-頭字は、［
~font~size 12pt,
行高 16pt ,
~cap-height 651/1000
］の~textが与えられた下では，約 61.2pt になる（~fontの OS/2 ~tableによる）。
【 61.2pt = ( ( 3 − 1 ) × 16pt + 0.651 × 12pt ) ÷ 0.651 = 32pt ÷ 0.651 + 12pt 】
◎
A three-line drop initial in Adobe Minion Pro would have a font size of 61.2pt given 12pt text, 16pt line-height, and a cap-height of 651/1000 (from the font’s OS/2 table).
</p></div>


<p>
この計算に利用される行高は、包含塊の `line-height$p である（
または、`基底線~grid$ `CSS3-LINE-GRID$r が利用されている所では，基底線~gridにより要求される［
基底線から次の【行0の】基底線まで
］のアキになる）。
行0の内容による~span
— それらの高さや位置における変動 —
は、織り込まれない。
◎
The line height used in this calculation is the line-height of the containing block (or, in the case where a baseline grid is in use, the baseline-to-baseline spacing required by the baseline grid [CSS3-LINE-GRID]). The contents of the lines spanned, and therefore any variation in their heights and positions, is not accounted for.
</p>

			<section id="initial-letter-shaping">
<h4 title="Shaping and Glyph Selection">3.5.1. 形状付けと~glyphの選定</h4>


<p>
`initial-letter$p が `normal$v でないときには、~boxの境界をまたがる~glyph形状付けは生じない
— `先頭字$の前／後に
ゼロ幅非接合子（ zero-width non-joiner, U+200C ）が挿入されていたかのように。
例えば、二つの字0からなる~Farsiの単語
“&#x067E;&#x0633;”
の最初の字0の~styleが
<samp class="css">`initial-letter$p: `2 1^v</samp>
ならば、それぞれの字0が隔離形で~styleされ，先頭字は
“&#x067E;”
になり，通常のように~styleされる
“&#x0633;”
が後続する。
◎
When initial-letter is not normal, shaping does not occur across the box’s boundaries, as if the zero-width non-joiner (U+200C) were inserted before/after the initial letter. For example, if the first letter of the Farsi word “پس” were styled with initial-letter: 2 1, both letters would be styled in their isolated forms, with “پ” as the initial letter, followed by the normally-styled “س”.
</p>


<p class="issue">
他にここで考慮する必要があるものは？
◎
Are there other things we need to consider here?
</p>


			</section>
		</section>
		<section id="initial-letter-exclusions">
<h3 title="Space Around Initial Letters">3.6. 先頭字の周囲の空間</h3>


<p>
先頭字の~glyph（たち）は、常に，指定された沈込-量の中に収まるとは限らない。
例えば、先頭字の~descenderは，~textの N + 1 行0~目にもぶつかることがある。
これは，望ましくない。
◎
The glyph(s) of an initial letter do not always fit within the specified sink. For example, if an initial letter has a descender, it could crash into the (n+1)th line of text. This is not desirable.
</p>


<figure>`Dropcap-J-3line-crash^dgm
<figcaption>
不正な例：~descenderを伴う三行分の先頭字。
この~fontでは、~~大文字 “J” が基底線（図の赤線）から下へ はっきり拡幅している。
◎
Incorrect: three-line initial letter with descender. In this font, the capital “J” extends well below the baseline (shown in red).
</figcaption></figure>

<p>
~textはしたがって，先頭字の各［
~glyph~bounding~box
］たちの周囲に排他される。
◎
Text is therefore excluded around the glyph bounding boxes of the initial letters.
</p>


<p>
特に、`不可分でない$先頭字に対しては、要素の内容~boxは，収まるように~sizeされる：
◎
Specifically, for non-atomic initial letters, the content box of the element is sized to fit:
</p>


<ul>
	<li>
指定された沈込-量（すなわち，上端~整列点から下端~整列点までの距離）。
◎
The specified amount of sink (i.e the distance from the top alignment point to the bottom alignment point).
</li>
	<li>
先頭字が包含する すべての~glyphの実際の［
~ascent＆~descent, および両側の~bearing
］は、先頭字の行内~整形~文脈の一部になる
— ~glyphが~em~boxの外側に はみ出るときでも。
◎
The actual ascent and descent and side bearings of all the glyphs it contains that are part of its inline formatting context, even if they leak outside their em boxes.
</li>
	<li>
先頭字が包含する すべての`不可分な行内$の~margin~boxは、先頭字の行内~整形~文脈の一部になる
— ~boxが先頭字の自前の行高の外側に はみ出るときでも。
◎
The margin boxes of all the atomic inlines it contains that are part of its inline formatting context, even if they leak outside its own line-height.
</li></ul>


<p>
しかる後、先頭字の~margin~boxは，後続の~textに対する排他~区画を成す。
◎
The margin box of the initial letter is then made an exclusion area for subsequent text.
</p>


<figure>`Dropcap-J-3line-exclude^dgm
<figcaption>
正しい例：
~textは、~glyph~bounding~boxの周囲に排他される
◎
Correct: text excluded around glyph bounding box
</figcaption></figure>


		</section>
		<section id="initial-letter-position">
<h3 title="Positioning and Kerning Initial Letters">3.7. 先頭字の位置決めと字詰法</h3>


<p>
`塊~軸$においては、`先頭字$は その整列~要件を充足するように位置される（ `initial-letter-align$p を見よ）。
◎
In the block axis, the initial letter is positioned to satisfy its alignment requirements. (See initial-letter-align.)
</p>


<p>
`行内~軸$においては、行内~字0は，その`始端$`~margin辺$が包含塊の`始端$辺に整列するように位置される。
◎
In the inline axis, the position of the inline letter is given by aligning its start margin edge to the start edge of the containing block.
</p>


<p>
しかしながら，`先頭字$が［
~borderも~paddingも~zeroにされた`不可分でない行内$
］である場合、~UAは，［
通常の~textのときように，最初の~glyphを包含塊~辺に~optical【optimum（最適）？】に整列する
］に必要な量だけ，`始端$側に追加の負の~offsetを適用し~MUST。
◎
However, if the initial letter is a non-atomic inline with zero padding and borders, the UA must apply an additional negative offset on the start side of the amount necessary to optically align the first glyph to the containing block edge as it would be in normal text.
</p>

		</section>
		<section id="initial-letter-wrapping">
<h3 title="Initial Letter Wrapping: the initial-letter-wrap property">3.8. 先頭字の回込み： `initial-letter-wrap^p ~prop</h3>

<p class="note">注記：
`initial-letter-wrap$p は~at-riskにある。
◎
Note: initial-letter-wrap is at risk.
</p>


`●名^ `initial-letter-wrap@p
`●値^
`none$v | `first$v | `all$v | `grid$v | `length$vt | `percentage$vt
`●初^ `none$v
`●適^
`first-letter^pe 疑似要素, および
`塊~容器$内の最初の, `行内level$の子
◎
::first-letter pseudo elements and inline level first child of a block container
`●継^ される
`●百^
`先頭字$（の最後の断片）の`論理~横幅$に相対的
◎
relative to logical width of (last fragment of) initial letter
`●媒^ 視覚的
`●算^ 指定値
`●順^ 文法に従う
`●ア^ 離散的
`●表終^

<p>
この~propは、`先頭字$により影響0される行0たちが，先頭字の［
~boxによる矩形,
~glyph外形線による輪郭
］のいずれを沿うように回込むかを指定する。
◎
This property specifies whether lines impacted by an initial letter are shortened to fit the rectangular shape of the initial letter box or follow the contour of its end-edge glyph outline.
</p>


<dl>
	<dt>`none@v</dt>
	<dd>
影響0される各~行0は、輪郭に沿うようには回り込まない。
各~行0は、`先頭字$の終端~margin辺に接合するように整列される。
◎
No contour-fitting is performed: each impacted line is aligned flush to the end margin edge of the initial letter.
</dd>

	<dt>`first@v</dt>
	<dd>
`先頭字$の直後の`~typographic文字~単位$が 
`~Unicode一般~字種$ <code>Zs</code>
【~spaceに類する文字】
に属するならば， `none$v として挙動する。
他の場合、先頭字を包含している塊の［
最初の行0に対しては `all$v  ／
他の行0に対しては `none$v
］として挙動する。
◎
Behaves as none if the first typographic character unit after the initial letter belongs to Unicode General Category Zs. Otherwise behaves as for all on the first line of the block containing the initial letter and as none on the rest.
</dd>

	<dd>
<div class="example">
<p>
最初の行0に対し輪郭に沿う回り込みが必要とされるわけ, および
`先頭字$の直後に~spaceがあるときには そうすべきでないわけを，次の例に示す：
◎
This example shows why contour-fitting the first line is necessary, and why it is dropped when the initial letter is followed by a space:
</p>

<figure>`OpticalKerning^dgm
<figcaption>
上段の段落では，先頭字 "A" の直後に~spaceがあり、
"A" の上端と次の字0との合間の間隙は，必要な単語~分離を提供する。
中段の段落では，先頭字 "A" は最初の単語の一部であり、
"A" の上端と次の字0との合間に間隙が残されると，単語の中に目障りな分断が生じる。
この事例では、~textの最初の行0は，下段の段落に示されているように，先頭字の区画まで字詰されるべきである。
◎
In the top paragraph, the initial letter "A" has a word space after it: the gap between the top of the "A" and the next letter provides the necessary word separation. In the next paragraph, the initial letter "A" is part of the first word, and leaving a gap between the top of the "A" and the next letter would create a jarring visual break within the word. In this case, the first line of text should be kerned into the initial letter’s area, as shown in the bottom paragraph.
</figcaption></figure>

</div>

</dd>

	<dd class="issue">
“無条件の `first^v ”
も必要か？（すなわち、この値を `auto^v に改称して，~spaceの有無を検査しない `first^v 値を追加するべきか？）
◎
Do we need an unconditional first? (I.e. Should we rename this value to auto and add a first value that does not check for spaces?)
</dd>

	<dt>`all@v</dt>
	<dd>
`先頭字$により影響0される~textの各~行0の 行0~boxの始端は、先頭字の輪郭から［
先頭字の終端~側の［
~border + ~padding + ~margin
］の分
］だけ空けた所から開始される。
◎
For each line of text impacted by the initial letter, the line box adjacent to the intial letter starts at the start-most point that touches the ink of the initial letter, plus the amount of the initial letter’s end-side border+padding+margin.
</dd>

	<dd>
この値は~at-riskにある。
◎
Note: This value is at-risk.
</dd>

	<dt>`grid@v</dt>
	<dd>
この値は、［
影響0される行0たちに対する排他~区画の終端~辺が，文字~gridに~~揃えるために必要に応じて増大される
］ことを除いて， `none$v と同じになる。
その上で、
`justify-self$p ~propが，排他~区画の中で先頭字~boxを整列するために利用され得る。
◎
This value is the same as none, except that the exclusion area of the impacted lines is increased as necessary for its end-edge to land on the character grid. The justify-self property can then be used to align the initial letter box within the exclusion area.
</dd>

	<dd>
<div >
<p>
文字~gridに~~揃えるための規則は、次で与えられる：
</p>

<span class="block">
`1ch^v × `n^V + `letter-spacing$p × ( `n^V − 1)
</span>

<p>
ここで `n^V は， `initial-letter$p ~propにより指定される先頭字の~sizeとする。
</p>

◎
The rule for matching the character grid is 1ch × n + letter-spacing × (n - 1), where n is the size of the initial letter as specified by the initial-letter property.
</div>

<figure>`CJK-Initial^dgm

<figcaption>
縦組における日本語~先頭字の図式
◎
Diagram of Japanese initial letter in vertical writing mode
</figcaption></figure>

<p class="note">注記：
この例では、行内軸~整列を保全するため、埋没-頭字に対する排他~区画が，その~glyphより大きくされている。
◎
Note: In this example, the exclusion area for the drop initial is larger than its glyph in order to preserve inline-axis alignment.
</p>

</dd>

	<dd>
この値も~at-riskにある。
◎
Note: This value is also at-risk.
</dd>

	<dt id="valdef-initial-letter-wrap-length">`length$t</dt>
	<dt id="valdef-initial-letter-wrap-percentage">`percentage$t</dt>
	<dd>
この値の挙動は、最初の行0に対する調整を，~glyph形状から推測するのでなく 明示的に与えることを除いて， `first$v と同じである。
◎
This value behaves the same as first except that the adjustment to the first line is given explicitly instead of being inferred from the glyph shape.
</dd>

	<dd class="issue">
これは、本当は，~fontに相対的な長さが 使用~sizeに相対的になる必要がある。
【？】
◎
This really needs font-relative lengths to be relative to the used size.
</dd>

	<dd class="note">注記：
この値が存在するのは、これの方が実装が容易なことによる。
作者には、 `first$v 値を利用することが奨励される
— アキの制御には~marginを設定し、必要なら，~glyph形状を検出できない場合の~fallbackに これを利用して。
◎
Note: This value exists because it is easier to implement. Authors are encouraged to use the first value and to set margins to control spacing, and to use this as a fallback for glyph detection if necessary.
</dd>

	<dd class="example">
<p>
次の例では、
`first$v を~supportする~UAは，~glyph外形線と指定された~marginを利用して 最初の行0を配置することになる一方で、
`length$t ／ `percentage$t
値のみを~supportする~UAは，最初の行0を先頭字の横幅の 40% だけ引き寄せる（その上で，その地点に~marginを追加する）ことになる。
◎
In the following example, UAs that support first will use the glyph outline plus the specified margin in order to place the first line, whereas UAs that only support &lt;length&gt; or &lt;percentage&gt; values will pull in the first line by 40% of the initial letter’s width (and then add the margin to that point).
</p>

<pre class="lang-css">
h1 + p:first-letter {
  initial-letter: 3; /* <span class="comment">
三行分の埋没cap
◎
3-line drop-cap</span> */
  initial-letter-wrap: first;
  margin-right: 0.1em;
}
@supports (not (initial-letter-wrap: first)) {
  /* <span class="comment">
先頭字に合致するように，段落にて自動的に生成される疑似類
◎
Classes auto-generated on paragraphs to match first letter.
</span> */
  p.A:first-letter {
    initial-letter-wrap: -40%; /* <span class="comment">
~glyph外形線の始端
— ~fontは正しいと見做して。
◎
Start of glyph outline, assuming correct font.
</span> */
  }
}
</pre>

	</dd>
</dl>

<p class="issue">
これらの値と関連の煩わしいものは、誰かが Blink 描画エンジンに `first$v を~supportするパッチを提出してくれたなら，不要になるであろう。
◎
These values and related annoyance is likely unnecessary if someone submits a patch to Blink to support first.
</p>


<p class="issue">
様々な文脈にて `auto^v がどう挙動するかを示すように図を編集する必要がある。
【 auto 値は削除されたので、この段落も意味をなしていない】
◎
Edit figure to show how auto behaves in varying contexts
</p>



<div class="example">

<pre class="lang-css">
p::first-letter {
  initial-letter: 3;
  initial-letter-wrap: none;
}
</pre>


<figure>`A-wraparound-none^dgm
<figcaption>
~textは、先頭字の輪郭ではなく，矩形~boxに沿って回り込む。
◎
Ordinary initial letter with no wrapping.
</figcaption></figure>

</div>



<div class="example">

<pre class="lang-css">
p::first-letter {
  initial-letter: 3;
  initial-letter-wrap: all;
}
</pre>

<figure>`A-wraparound^dgm
<figcaption>
先頭字の形状に沿う~text。
各~行0~boxは、ちょうど，字0の輪郭から 少しだけ間（~~灰色~boxで表現される）を空けた所に接するべきである。
◎
Text follows shape of initial letter. Each line box should just touch the ink of the letter, with some offset (represented by the shaded box).
</figcaption></figure>

</div>



<div class="example">

<pre class="lang-css">
p::first-letter {
  initial-letter: 3;
  initial-letter-wrap: first;
}
</pre>


<figure>`A-wraparound-first^dgm
<figcaption>
最初の行0のみが，先頭字の輪郭の方へ~~寄せられる。
◎
Only the first line is moved up against the ink of the initial letter.
</figcaption></figure>

</div>

<div class="example">

<figure>`V-wraparound^dgm
<figcaption>
埋没cap <samp>V</samp> を回込む~text。
◎
text wrapping around dropcap V
</figcaption></figure>


<figure>`P-wraparound^dgm
<figcaption>
埋没cap <samp>P</samp> を回込む~text。
◎
text wrapping around dropcap P
</figcaption></figure>


<figure>`W-wraparound^dgm
<figcaption>
埋没cap <samp>W</samp> を回込む~text。
◎
text wrapping around dropcap W
</figcaption></figure>


</div>


		</section>
		<section id="initial-letter-indentation">
<h3 title="Indentation and Multi-line Effects">3.9. 字下げと複行による効果</h3>


<p>
`text-indent$p ／ `hanging-punctuation$p
は、先頭字が存在する下でも，~textの最初の行0に通常通りに適用される。
排他~区画に影響される行0は、浮動体の存在により，短くされ, 同じ仕方で影響される。
◎
text-indent and hanging-punctuation apply to the first line of text as normal in the presence of initial letters. Lines affected by the exclusion are shortened, as in the presence of floats, and are affected the same way.
</p>

<p>
先頭字が 1 行0に収まるには長過ぎる場合、（通例の~text折返し規則に則って）折返され, 各~行0は、ちょうど［
それが最初の行0であって, 先頭字は 後続の通常の~textに収まるには長過ぎる
］かのように，埋められ, 整形される。
先頭字の最後の行0上で，その後に開始される 通常の~textは、ちょうど［
その行0が最初の行0であった
］かのように影響される。
◎
If an initial letter is too long to fit on one line, it wraps (according to the usual text-wrapping rules), each line filled and formatted exactly as if it were the first line and the initial letter too long to fit any subsequent normal text. Any normal text after the initial letter starts on its last line, affected exactly as if that line were the first line.
</p>

<figure>`Multi-line-initial^dgm
<figcaption>
埋没capは 2 本の行0に拡幅される。
◎
Drop cap extends to two lines.
</figcaption></figure>

		</section>
		<section id="initial-letter-paragraphs">
<h3 title="Clearing Initial Letters">3.10. 先頭字の~clear法</h3>

			<section id="raised-sunken-caps">
<h4 title="Raised and sunken caps">3.10.1. 持上／沈込 ~cap</h4>


<p>
先頭字は、それを包含している要素の~sizeに，~margin~boxを供与する。
~textの最初の行0を超えて拡幅する先頭字は、
“持上~cap”／ “沈込~cap”
とも呼ばれ，前の【直上の】要素の中まで拡幅することはない。
先頭字の内容~boxは，すべての~glyph~inkを含むので、先頭字の~cap-heightを上回る~accentその他の~inkが，前の要素に突き当ることはないことになる。
◎
The margin box of an initial letter contributes to the size of its containing element. Initial letters that extend above the first line of text, known as “raised caps” or “sunken caps,” do not extend up into previous elements. Since the content box for an initial letter includes all glyph ink, this also means that accents or other ink above the cap height of an initial letter will not impinge on previous elements.
</p>


<figure>`initial-letter-drop-para-compare^dgm
<figcaption>
右図は持上~cap（
<samp class="css">`initial-letter^p: `3 1^v</samp>
）。
いずれも “C” の位置は同じになるが、右図では，後続の~textが，先頭字に相対的に下へ移動されることに注意。
◎
Raised cap (initial-letter: 3 1) on right; note that the position of the “C” is the same in both cases, but on the right all text is moved down relative to the initial letter.
</figcaption></figure>


<p class="issue">
~fontの~cap-heightより上側の~glyphの輪郭を取扱う。
提案：
それを行boxと~border~boxに対する排他~区画にする。
先頭字に指定された~marginを，アキを制御するための排他~区画の一部に含める。
◎
Handle glyph ink above cap height of font. Proposal: Make it an exclusion area for line boxes and border boxes. Include margin specified on initial-letter as part of exclusion area in order to control spacing.
</p>

<p>
ここに~box~model図式を描く。
先頭字の~marginは その容器と相殺されるか？
◎
Draw a box model diagram here. Does the margin of the initial letter collapse with its container?
</p>


			</section>
			<section id="short-para-initial-letter">
<h4 title="Short paragraphs with initial letters">3.10.2. 先頭字を伴う短い段落</h4>

<p>
先頭字を伴う段落の~text行0数が，先頭字が占めるそれより少ないこともある。
この場合でも、先頭字の上端~整列は，依然として尊守され、
その排他~区画は、後続の塊の中へ継続する。
これは、後続の`行内level$の内容も先頭字を回込むことを強制する
— ちょうど［
その塊の~textが，先頭字の包含塊の一部であった
］かのように（これは、浮動体が 後続の塊~boxの内容を回込ませるのと類似する）。
◎
A paragraph with an initial letter can have fewer lines of text than the initial letter occupies. In this case, the initial letter’s top alignment is still honored, and its exclusion area continues into any subsequent blocks. This forces the subsequent inline-level content to wrap around the initial letter—exactly as if that block’s text were part of its own containing block. (This is similar to how floats exclude content in subsequent block boxes.)
</p>


<figure>`initial-letter-short-para^dgm
<figcaption>
赤色~textは、先頭字を伴う短い段落。
後続の段落は、先頭字を伴う段落~内の~textと同様に，先頭字を回込むことに注意。
◎
The red text is a short paragraph with an initial letter. Note the subsequent paragraph wraps around the initial letter just as text in the paragraph with the initial letter does.
</figcaption></figure>


<p>
後続の塊が，先頭字で開始されていて,
新たな整形~文脈を確立する場合、
または 先頭字の包含塊の`始端$方向にて
`clear$p を指定する場合、以前の塊の先頭字【に対する回込み】を~clearし~MUST。
◎
If the subsequent block starts with an initial letter, establishes a new formatting context, or specifies clear in the initial letter’s containing block’s start direction, then it must clear the previous block’s initial letter.
</p>


<figure>`initial-letter-short-para-initial^dgm
<figcaption>
赤色~textは、先頭字を伴う短い段落。
後続の段落も先頭字を持つので~clearする。
◎
The red text is a short paragraph with an initial letter. The subsequent paragraph clears because it also has an initial letter.
</figcaption></figure>



			</section>
			<section id="initial-letter-floats">
<h4 title="Interaction with floats">3.10.3. 浮動体との相互作用</h4>


<p>
先頭字と同じ側に浮動する浮動体は、常に先頭字【に対する回込み】を~clearする。
反対~側に浮動されるときには、その側に影響する `clear$p が指定されているか, または浮動体と先頭字を重なり合わずには収まり切らない場合に限り、浮動体は，先頭字を~clearするように押下げられる。
◎
Floats always clear an initial letter when floated to the same side. When floated to the opposite side, they are pushed down to clear the initial letter only if they have specified clear to the affected side or they do not fit without overlapping the initial letter.
</p>


<p class="issue">
この挙動は、求められているものだろうか？
浮動体が先頭字と同じ行0上にあるときはどうする？
◎
Is this the behavior we want? What if the float is on the same line as the initial letter?
</p>

			</section>
		</section>
	</section>
	<section id="baseline-synthesis">

<h2 title="Synthesizing Alignment Metrics">付録 A： 整列~計量の合成法</h2>

		<section id="baseline-synthesis-fonts">
<h3 title="Synthesizing Baselines (and Other Font Metrics) for Text">A.1: ~textに対する基底線（および 他の~font計量）の合成法</h3>

<p>
~fontには、この~moduleに述べた，~textを適正に整列するために必要とされる計量~情報がないこともある。
~UAは、要求される計量がない場合は，次の方策を利用してよい：
◎
Some fonts might not contain the metrics information necessary to align text properly as described in this module. User agents may use the following strategies in the absence of a required metric:
</p>

<dl>
	<dt>
~fontを測定する
◎
Measure the font
</dt>

	<dd>
<p>
計量は ~glyphの形状から導出し得る。
例えば：
◎
Metrics may be derived from the glyph shapes. For example,
</p>

		<ol>
			<li>
~mathematical基底線としては、~minus符号（ U+2212 ）の中央を~~採用し得る。
◎
The center of the minus sign (U+2212) can be taken as the mathematical baseline.
</li>
			<li>
<p>
小文字 “o” が~alphabetic基底線を下回る量は、
<a href="~CSSVAL#ex">x-heightの測定-結果</a>の最高点から減算できる。
◎
The amount by which the lowercase “o” descends below the alphabetic baseline can be subtracted from its highest point to measure the x-height.
</p>

<figure>`measuring-x-height-o^dgm
<figcaption>
x-height の測定-法
◎
Measuring the x height.
</figcaption></figure>


			</li>
			<li>
大文字 “O” が~alphabetic基底線を下回る量は、~cap-heightの測定-結果の最高点から減算できる。
◎
The amount by which the uppercase “O” descends below the alphabetic baseline can be subtracted from its highest point to measure the cap-height.
</li>
			<li>
<p>
表語的~文字の周を成す各 辺には、表語文字［
U+4E05 "丅"（ “下” ）の上端~辺 ／
U+4E04 "丄" （ “上” ）の下端~辺 ／
［
U+56FD "国" または  U+56E0 "因"
］の［
左端~辺, 右端~辺
］］を~~採用し得る。
すべての事例において、これらの辺は，当の軸における~central基底線との交点で測定されるべきである。
◎
The top edge of the below ideograph (U+4E05 “丅”) and the bottom edge of the above ideograph (U+4E04 “丄”) can be taken as the ideographic character face edges. In the horizontal dimension, the left and right edges of the nation ideograph (U+56FD “国”) or reason ideograph (U+56E0 “因”) can be used. In all cases, the these edges should be measured at their intersection with the central baseline in that axis.
</p>
<p class="issue">
どの文字を周に利用するのが最善か？
◎
What is the best character to use for the sides?
</p>
			</li>
			<li>
~Hebrew~hanging基底線としては
~Hebrew  U+05B3 “־” （ maqaf ）の中央の上端~辺を~~採用し得る。
◎
The top edge of the center of the Hebrew maqaf (U+05B3 “־”) can be taken as the Hebrew hanging baseline.
</li>
			<li>
<p>
~hanging基底線としては字0 “Ka” の中央の上端~辺。
どの “Ka” が利用されるべきかは、`内容~言語$に依存するべきである：
◎
The top edge of the center of the letter Ka can be taken as the hanging baseline. Which Ka is used should depend on the content language:
</p>


<table>
<thead><tr ><th>言語
</th><th>用字系
</th><th>字0
</th></tr></thead>

<tbody><tr><td>
</td><td>~Devanagari
</td><td>क U+0915 KA
</td></tr>

<tr><td>
</td><td>~Bengali
</td><td>ক U+0995

</td></tr><tr><td>
</td><td>~Gurmukhi
</td><td>ਕ U+0A15

</td></tr><tr><td>
</td><td>~Tibetan
</td><td>ཀ U+0F40
</td></tr></tbody></table>

<!-- 

Language 	Script 	Letter
	Devanagari 	क U+0915 KA
	Bengali 	ক U+0995
	Gurmukhi 	ਕ U+0A15
	Tibetan 	ཀ U+0F40 
-->

<p class="issue">
既定を選ぶ。
◎
Pick a default.
</p>

<figure>`measuring-hanging-baseline-ka^dgm
<figcaption>
~hanging基底線は、文字~inkの上端~辺に~~位置する。
◎
The hanging baseline is at the top edge of the character ink.
</figcaption></figure>


			</li>
			<li>
課題：
もっと注記を追加する？
◎
Issue: Add more notes here?
</li>
</ol>

<p class="issue">
これらの経験則の健全さを誰か検査してくれないかな。
◎
Somebody sanity-check these heuristics please.
</p>
	</dd>

	<dt>
用字系ごとの経験則を用いる。
◎
Use a heuristic for the script
</dt>
	<dd>
課題：
これは何を意味する？
◎
Issue: What does this mean?
</dd>

	<dt>
~fallback値を利用する
— 次の値を~fallback値に用いる：
◎
Use fallback values
◎
The following fallback values
</dt>
	<dd>
		<ul>
			<li>
~x-heightには `.5em^v
◎
x-height: .5em;
</li>
			<li>
~cap-heightには `.66em^v
◎
cap-height: .66em;
</li>
			<li>
~hanging基底線には `.6em^v
◎
hanging baseline: .6em;
</li>
			<li>
~hebrew~hanging基底線には： ???
◎
Hebrew hanging baseline: ???
</li>
		</ul>
	</dd>
</dl>


		</section>
		<section id="baseline-synthesis-replaced">
<h3 title="Synthesizing Baselines for Replaced Content">A.2: 置換~要素に対する基底線の合成法</h3>


<p class="issue">
<a href="~CSSWM#replaced-baselines">CSS Writing Modes</a>
からの記述を取り込んで、基底線を追加して~~拡張する。
◎
Copy over text from CSS Writing Modes and expand for additional baseline values.
</p>

<p class="note">注記：
（正負）~marginを利用すれば、作者は，置換~内容に対し 行0の中での整列を調整できる。
◎
Note: Authors can use margins (positive or negative) to adjust the alignment of replaced content within a line.
</p>

<div class="example">

<p>
一連の画像を利用して，存在しない文字を表示する例：
◎
In this example, the author is using a set of images to display characters that don’t exist.
</p>

<pre class="lang-css">
img[src^="/text/"] {
  height: 1em; /* <span class="comment">
隣の~textと合致するように~sizeする
◎
Size to match adjacent text
</span> */
  margin-bottom: -0.2em; /* <span class="comment">
基底線を下端から 20% 上にする
◎
Baseline at 20% above bottom
</span> */
}
</pre>
...
<pre class="lang-ml">
&lt;p&gt;<span class="comment">
未だ符号化されていない用字系で書かれた単語による~text
◎
This is some text with words written in an unencoded script:
</span>
  &lt;img src="/text/ch3439.png" alt="..."&gt;
  &lt;img src="/text/ch3440.png" alt="..."&gt;
  &lt;img src="/text/ch3442.png" alt="..."&gt;
</pre>

</div>

<p class="note">注記：
CSS の将来~levelでは、置換~要素に対する全部的な基底線~tableを指定する仕方が含められるであろう（おそらく，
<span class="prod">[&lt;baseline-keyword&gt; `percentage$t]+</span>
を値に受容する， `baseline-table^p ~propのようなものにより）。
◎
Note: A future level of CSS may include a way of specifying a full baseline table for replaced elements. (This will probably look like a baseline-table property that accepts ''[&lt;baseline-keyword&gt; &lt;percentage&gt;]+''.)
</p>

		</section>
	</section>

	<section>
<h2 id="changes"> 変更点</h2>

<p>
<a href="~TR/2015/WD-css-inline-3-20150917/">2015 年 9 月 17日付け作業草案</a>
からの主な変更点は：
◎
Changes since the 17 September 2015 Working Draft include:
</p>

<ul>
	<li>
ideographic, middle 基底線に対応する値を追加した。
◎
Adding values for the ideographic and middle baselines.
</li>
	<li>
`dominant-baseline$p に対する `auto^v 値と
SVG ~glyphの位置決めとの間の相互作用を明確化した。
◎
Clarifying interaction of the auto dominant-baseline value with SVG glyph positioning.
</li>
	<li>
他の少数の編集上の改善
◎
A few other minor editorial improvements.
</li>
</ul>

	</section>



</main></div>

	<section id="ack">
<h2 title="Acknowledgments">謝辞</h2>

<p>
初期の著者 Eric A. Meyer, Michel Suignard 両氏に特別な謝意を。
<span lang="en">
Special thanks goes to the initial authors, Eric A. Meyer and Michel Suignard.
</span></p>

<p>
加えて、この仕様は
次の方々からの協力も欠かせなかった：
<span lang="en">
In additions to the authors, this specification would not have been possible without the help from:
</span></p>

<p>
David Baron,
David M Brown,
John Daggett,
Stephen Deach,
Sylvain Galineau,
David Hyatt,
Shinyu Murakami,
Tess O’Connor,
Sujal Parikh,
Florian Rivoal,
Alan Stearns,
Bobby Tung,
Chris Wilson,
Grzegorz Zygmunt.
</p>


	</section>
	<section id="conformance">
<h2 title="Conformance">適合性</h2>
<p class="trans-note">【
この節の内容は
<a href="css-common-ja.html#conformance">CSS 日本語訳 共通ページ</a>
に委譲
】</p>


	</section>
	<section id="references">
<h2 title="References">参照文献</h2>

		<section id="normative">
<h3 title="Normative References">文献（規範）</h3>

<dl>
	<dt>[CSS-ALIGN-3]</dt>
	<dd>Elika Etemad; Tab Atkins Jr.. CSS Box Alignment Module Level 3.</dd>
	<dd>https://drafts.csswg.org/css-align/</dd>

	<dt>[CSS-COLOR-3]</dt>
	<dd>CSS Color Module Level 3</dd>
	<dd>https://drafts.csswg.org/css-color-3/</dd>

	<dt>[CSS-COLOR-4]</dt>
	<dd>Tab Atkins Jr.; Chris Lilley. CSS Color Module Level 4.</dd>
	<dd>https://drafts.csswg.org/css-color/</dd>

	<dt>[CSS-DISPLAY-3]</dt>
	<dd>Tab Atkins Jr.; Elika Etemad. CSS Display Module Level 3.</dd>
	<dd>http://dev.w3.org/csswg/css-display/</dd>

	<dt>[CSS-RUBY-1]</dt>
	<dd>Elika Etemad; Koji Ishii. CSS Ruby Layout Module Level 1.</dd>
	<dd>http://dev.w3.org/csswg/css-ruby-1/</dd>

	<dt>[CSS-VALUES-3]</dt>
	<dd>Tab Atkins Jr.; Elika Etemad. CSS Values and Units Module Level 3. 29 September 2016. CR.</dd>
	<dd>https://www.w3.org/TR/css-values-3/</dd>

	<dt>[CSS2]</dt>
	<dd>Bert Bos; et al. Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification. 7 June 2011. REC.</dd>
	<dd>https://www.w3.org/TR/CSS2</dd>

	<dt>[CSS3-FONTS]</dt>
	<dd>John Daggett. CSS Fonts Module Level 3.</dd>
	<dd>http://dev.w3.org/csswg/css-fonts/</dd>

	<dt>[CSS3-WRITING-MODES]</dt>
	<dd>Elika Etemad; Koji Ishii. CSS Writing Modes Level 3.</dd>
	<dd>http://dev.w3.org/csswg/css-writing-modes-3/</dd>

	<dt>[CSS3TEXT]</dt>
	<dd>Elika Etemad; Koji Ishii. CSS Text Module Level 3.</dd>
	<dd>http://dev.w3.org/csswg/css-text-3/</dd>

<!-- 
	<dt>[RFC2119]</dt>
 -->

	<dt>[SELECTORS-4]</dt>
	<dd>Selectors Level 4</dd>
	<dd>https://drafts.csswg.org/selectors-4/</dd>
</dl>

		</section>
		<section id="informative">

<h3 title="Informative References">文献（参考）</h3>

<dl>
	<dt>[CSS3-LINE-GRID]</dt>
	<dd>Elika Etemad; Koji Ishii; Alan Stearns. CSS Line Grid Module Level 1.</dd>
	<dd>http://dev.w3.org/csswg/css-line-grid/</dd>

	<dt>[CSS3-TEXT-DECOR]</dt>
	<dd>Elika Etemad; Koji Ishii. CSS Text Decoration Module Level 3.</dd>
	<dd>http://dev.w3.org/csswg/css-text-decor-3/</dd>

	<dt>[CSS3BG]</dt>
	<dd>Bert Bos; Elika Etemad; Brad Kemper. CSS Backgrounds and Borders Module Level 3.</dd>
	<dd>http://dev.w3.org/csswg/css3-background/</dd>

	<dt>[CSS3COLOR]</dt>
	<dd>Tantek Çelik; Chris Lilley; David Baron. CSS Color Module Level 3. 7 June 2011. REC.</dd>
	<dd>https://www.w3.org/TR/css3-color</dd>

	<dt>[SELECT]</dt>
	<dd>Tantek Çelik; et al. Selectors Level 3. 29 September 2011. REC.</dd>
	<dd>https://www.w3.org/TR/css3-selectors/</dd>
</dl>


		</section>
	</section>
	<section id="index">
<h2 title="Index">索引</h2>
<p class="trans-note">【
この節の内容は省略（ウィンドウ下端の索引機能を利用されたし）。
】</p>

	</section>
	<section>
<h2 id="property-index" title="Property index" data-cycling=".propdef">プロパティ索引</h2>
<h2 id="issues-index" title="Issues Index" data-cycling=".issue">課題索引</h2>

<p class="trans-note">【
これらの節の内容は省略（見出しクリックで巡回）。
】</p>
	</section>

