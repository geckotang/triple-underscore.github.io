<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<title>CSS Text Decoration Module Level 3 （日本語訳）</title>

<link rel="stylesheet" href="common.css" type="text/css" />
<link rel="stylesheet" href="common-css.css" type="text/css" />

<style>
.char-prop {
	font-family: serif0, serif;
	color: green;
}

table.matrix td,
table.matrix th {
	border: solid thin silver;
}

._ex-underline {
	font-size:1.5em;
	margin:0.5em;
	display: inline-block;
	line-height: 1em;
}

#_dgm-underline-broken > span {
	border-bottom: solid red 0.07em;
}

#_dgm-decoration-skip-ink {
	position:relative;
	font-size:3em;
	height:1.5em;
	line-height:1em;
	background: white;
}

#_dgm-decoration-skip-ink > div {
	position: absolute;
	top: 0;
	left: 0;
	text-align: left;
}

._ex-emphasis-marks {
	font-size: 1.5em;
	line-height: 1em;
}
._ex-emphasis-marks > span {
	display: inline-block;
	text-align: center;
}
._ex-emphasis-marks > span > span {
	display: inline-block;
	color: blue;
	font-size: 0.5em;
	line-height: 1em;
}



#_dgm-text-emphasis-v {
}
#_dgm-text-emphasis-v span {
	font-size: 0.5em;
	vertical-align: middle;
	color: blue;
}

#_dgm-text-emphasis-zh span {
	vertical-align: top;
}


#fig-text-underline-position > figure {
	display: inline-block;
}

</style>

<script src="common0.js" ></script>
<script src="common1.js" async></script>

<script>

Util.ready = function(){
	var source_data = {
		collectParts: Util.collectParts,
		generate: expand,
	};

	Util.switchWordsInit(source_data);

//	Util.del_j(); //checked 150529 spec
}

function expand(){
	var link_map = this.link_map;
	var context_prop = '';
	var class_map = {
		p: 'property', // prop
		pe: 'pseudo',
		g: 'production', // production
		css: 'css',
		e: 'element',
		f: 'func',
		t: 'type',
		vt: 'type',
		tp: 'type', // prop
		l: 'literal',
		v: 'value',
		uc: 'char-prop',
	};
	var tag_map = {
		p: 'code',
		pe: 'code',
		t: 'var',
		tp: 'var',
		vt: 'var',
		css: 'code',
		c: 'code',
		e: 'code',
		f: 'code',
		fv: 'samp',
		v: 'code',
		V: 'var',
		uc: 'b',
	};

	return this.html.replace(
		/%\w+|`(.*?)([$@^])(\w*)/g,
		create_html
	);

	function create_html(match, key, indicator, klass){
if(!indicator) {//%
	return '<var>' + match.slice(1) + '</var>';
}

var text = key;
var href = '';
var classname = class_map[klass];
var tag = tag_map[klass];

switch(klass){
case 'r': // ref
	text = '[' + key + ']';
	href = '#biblio-' + key.toLowerCase();
	break;
case 't': // typedef
	href = '#typedef-' + key;
	text = '&lt;' + key + '&gt;';
	break;
case 'p': // property
	if( indicator === '@') {
		context_prop = '#valdef-' + key + '-';
	}
	href = '#propdef-' + key;
	break;
case 'tp': // property value type
	text = '&lt;‘<code class="property">' + key + '</code>’&gt;'
	href = '#propdef-' + key;
	break;
case 'vt': // css value type
	text = '&lt;' + key + '&gt;';
	href = context_prop + key;
	break;
case 'U': // Unicode
	text = 'U+' + key + ' \'&#x' + key + ';\'';
	break;
case 'v': // css values
	href = context_prop + key;
	break;
case 'pe': // pseudo element
	text = '::' + key;
	break;
case 'l': // string literal
	text = '"<code>' + key + '</code>"'
	break;
case 'issueCR': // issue
	return '<a href="https://drafts.csswg.org/css-text-decor-3/issues-cr-2013#issue-' + key + '">Issue ' + key + '</a>'
	break;
case 'dgm':
	return '<a id="_dgm-' + key + '">＊</a>'
	break;
}

if(tag) {
	text = '<' + tag + (
		classname ? ' class="' + classname + '"' : ''
	) + '>' + text + '</' + tag + '>';
}


if(indicator !== '^'){
	href = link_map[klass ? (klass + '.' + key) : key] || href;
	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '$':
		text = '<a href="' + href + '">' + text + '</a>';
		break;
	case '@':
		text = '<dfn id="' + href.slice(1) + '">' + text + '</dfn>';
		break;
	}
}

return text;

	}
}

</script>

<script type="text/plain" id="_source_data">


●●options

spec_title:CSS Text Decoration Module Level 3
spec_date:2017-11-03
trans_update:2017-11-04
page_state_key:CSS
original_url:https://drafts.csswg.org/css-text-decor-3/
spec_status:ED
ref_id_prefix:biblio-
ref_id_lowercase:true
site_nav:typeset,css
navs:property,issue
conformance:css
copyright:2017,permissive
trans_1st_pub:2015-10-10


●●original_id_map


text-underline-position-auto:underline-auto
text-underline-position-under:underline-under
text-underline-position-left:underline-left
text-underline-position-right:underline-right


●●link_map


文字:#character
字0:#letter
内容~言語:#content-language
装飾box:#decorating-box
装飾線:#line-decoration
	文字:~CSSTEXT#grapheme-cluster
	内容~言語:~CSSTEXT#content-language
	字0:~CSSTEXT#letter
~typographic文字~単位:~CSSTEXT#typographic-character-unit
単語~分離子:~CSSTEXT#word-separator
	字0アキ:~CSSTEXT#tracking
	単語アキ:~CSSTEXT#word-spacing
空白:~CSSTEXT#space

	text-decoration-line:#propdef-text-decoration-line
	text-decoration-color:#propdef-text-decoration-color
	text-decoration-style:#propdef-text-decoration-style
	text-decoration:#propdef-text-decoration
	text-underline-position:#propdef-text-underline-position
	text-emphasis-style:#propdef-text-emphasis-style
	text-emphasis-color:#propdef-text-emphasis-color
	text-emphasis:#propdef-text-emphasis
	text-emphasis-position:#propdef-text-emphasis-position
	text-shadow:#propdef-text-shadow

	none:#valdef-text-decoration-line-none
	underline:#valdef-text-decoration-line-underline
	overline:#valdef-text-decoration-line-overline
	line-through:#valdef-text-decoration-line-line-through
	blink:#valdef-text-decoration-line-blink
	spelling-error:#valdef-text-decoration-line-spelling-error
	grammar-error:#valdef-text-decoration-line-grammar-error

	none:#valdef-text-text-emphasis-style-none
	filled:#valdef-text-text-emphasis-style-filled
	open:#valdef-text-text-emphasis-open
	dot:#valdef-text-text-emphasis-style-dot
	circle:#valdef-text-text-emphasis-style-circle
	double-circle:#valdef-text-text-emphasis-style-double-circle
	triangle:#valdef-text-text-emphasis-style-triangle
	sesame:#valdef-text-text-emphasis-style-sesame
	<string>:#valdef-text-text-emphasis-style-string
	over:#valdef-text-text-emphasis-position-over
	under:#valdef-text-text-emphasis-position-under
	right:#valdef-text-text-emphasis-position-right
	left:#valdef-text-text-emphasis-position-left


	Value:#values
	circle:#valdef-text-text-emphasis-style-circle
	default UA style sheet:#default-stylesheet
	emphasis marks:#emphasis-marks
	filled:#valdef-text-text-emphasis-style-filled
	left:#underline-left
	line decorations:#line-decoration
	open:#valdef-text-text-emphasis-open
	right:#underline-right
	sesame:#valdef-text-text-emphasis-style-sesame
	shadows:#text-shadow-property


	●外部

p.box-shadow:~CSSBG#propdef-box-shadow
p.border-*-style:~CSSBG#the-border-style
p.font-variant-position:~CSSFONT#propdef-font-variant-position
p.vertical-align:~CSSINLINE#propdef-vertical-align
p.visibility:~CSS2VISUFX#propdef-visibility
p.color:~CSSCOLOR#propdef-color
p.display:~CSSDISP#propdef-display
p.text-decoration-skip:~CSSWG/css-text-decor-4/#propdef-text-decoration-skip

t.color:~CSSCOLOR#typedef-color
t.length:~CSSVAL#length-value
t.string:~CSSVAL#string-value

v.currentcolor:~CSSCOLOR#valdef-color-currentcolor
v.alphabetic:~CSSINLINE#valdef-alignment-baseline-alphabetic
v.sideways-lr:~CSSWM#valdef-writing-mode-sideways-lr
v.sideways-rl:~CSSWM#valdef-writing-mode-sideways-rl
v.inset:~CSSBG#shadow-inset

e.ins:~HEedits#the-ins-element
e.del:~HEedits#the-del-element

	:~CSS2VISUREN#anonymous-block-level
	:~CSS22/syndata.html#ignore
	:~CSSBG#the-border-style
	spread:~CSSBG#spread-distance

縦書き~mode:#_vertical-typographic-mode
横書き~mode:#_horizontal-typographic-mode

~typographic~mode:~CSSWM#typographic-mode
下面:~CSSWM#under
上面:~CSSWM#over

縦組:~CSSWM#vertical-writing-mode
	書字mode:~CSSWM#writing-mode

影~listとして:~TRANSITION#animtype-shadow-list
色として:~TRANSITION#animtype-color

	無視-:~CSS2CONFORM#ignore
	位置:~CSSDISP#position:~
	位置決め:positioning:~
	非~有位置:non-positioned:~
	相対~位置決め:relatively-positioning:~
	包装-:wrap:~
有位置:~CSS2VISUREN#positioned-element
	疑似要素:pseudo-element:~
	積層文脈:stacking:~
	行内~整形~文脈

~flow内:~CSSDISP#in-flow
置換され:~CSSDISP#replaced-element
塊level~box:~CSSDISP#display-block-level-box
塊level:~CSSDISP#block-level
塊~容器:~CSSDISP#block-container
塊~容器~box:~CSSDISP#block-container
塊~box:~CSSDISP#block-box
塊:~CSSDISP#block
	包含塊:~CSSDISP#containing-block
	初期~包含塊:~CSSDISP#initial-containing-block

行内~table:~CSSDISP#valdef-display-inline-table
行内~塊:~CSSDISP#valdef-display-inline-block
不可分な行内:~CSSDISP#atomic-inline
不可分な行内level:~CSSDISP#atomic-inline
行内level~box:~CSSDISP#inline-level-box
行内level:~CSSDISP#inline-level
行内:~CSSDISP#inline
行内~box:~CSSDISP#inline-box
匿名:~CSSDISP#css-anonymous

~ruby容器:~CSSRUBY#ruby-container
~ruby基底:~CSSRUBY#ruby-base-box
	~ruby~box:~CSSRUBY#
~ruby注釈:~CSSRUBY#ruby-annotation-box
	自動で隠される:~CSSRUBY#autohide

下位prop:~CASCADE#longhand
断片:~CSSBREAK#fragment

●●words_table1

CSSRUBY:https://drafts.csswg.org/css-ruby-1/
25CE:◎


●●words_table


	●装飾
外形線:outline:~
線分:line segment:~
線:line:~
波線:wavy line::~
上線:overline:~
下線:underline:~
	underlining:~
波状の:wavy な:~
画線:stem:~
打消線:strike-through:~
	struck
取消線:line-through:打消線
装飾線:line decoration:~
描線:stroke:~
装飾-:decorate:~
装飾:decoration:~
装飾box:decorating box:装飾 box:装飾ボックス
装飾ing:decorating:~
装飾目的:decorative purpose:~

圏点:emphasis mark:~
圏点0:mark:圏点
強勢-:emphasize:~
強勢:emphasis:~
強調-:highlight:~
	実線の:solid な
	強勢~等emphasis, for honorifics

影:shadow::~
影する:shadow する::影を付ける
影され:shadow され::影が付けられ
連続性:continuity:~
平坦化-:flatten:~

単色:solid color:~
	emphasis:::
	honorific:::
	text-decoration:text-decoration:~
	text-emphasis:text-emphasis:~
	line-through:
shift:::シフト
	underlined:::
小丸:dot:~
	小丸の並び:dotted:::
太さ:thickness:~
	傍らにnext to
頭部:leading:~
尾部:trailing:~
空間:space:~
連続的:continuous:~
途切れる:interrupt される

境界:boundary:~
末端形状:ending:~
台形:trapezoidal:~
方形:square:~
曲線:curve:~
傾き:slant:~
水平:horizontal:~
端切れ:wisp:~
囲込まれ:enclose され:囲い込まれ
	なぞる:follow する
部位:portion:~
輪っか:bowl:~
	輪っか:loop
包む:hug する:~
輪郭:outer contour:~
	近い:close な
	細い:thinner:~
	~~字形:look to the type
閾値:threshold:~
測定:measure:~
美観:aesthetic:~
見苦しい:awkward な:~
明瞭:clean:~
近似-:approximate:~
交差-:intersect:~

	埋める:fill する
	一部分だけ:only part
	突き抜く:striking through
	少し低めに:slightly lower
	覆い隠され:masked-out
	~~字形:look to the type
	中央:center:~
	-:pair
	通過-:pass through

	●Text
cluster:::クラスタ
comma:::カンマ
space:::スペース
書記素:grapheme:~
字類:class:~
字0:letter:字
上付文字:superscript::上付き文字
下付文字:subscript::下付き文字
符号位置:code-point:~
分離子:separator:~
単語:word:~
用字系:script:~
空白:white-space:~
結合:combining:~
文字:character:~
文字列:string:~

言語:language:~
East-Asian::東アジア圏の
Asian::アジア圏の
西欧:Western:~
Han:::
Latin:::
Myanmar:::ミャンマー語
Tibetan:::チベット語
Mongolian:::モンゴル語
中国語:Chinese:~
日本語:Japanese:~
韓国語:Korean:~
簡体:Simplified:~
Unicode:
	White_Space:::
未割当ての:unassigned:~

accent:::アクセント
	~annotated:::
注解:annotation::~
	bare:::
三角:triangle:~
二重丸:double circle:~
ゴマ:sesame:~
制御:control:~
code:::コード

	●Text 組版
丸:circle:~
中空:hollow:~
縁取りの:open:~
縁取り:open:~
黒塗りに:fill:ベタ塗りに
黒塗りの:filled:ベタ塗りの
em:::
descender:::ディセンダ
font:::フォント
glyph:::グリフ
ink:::インク
alphabetic:::
central:::
typographic:::タイポグラフィック
	typographic的／typographic:typographical
typography:::タイポグラフィ
合成-:synthesize:~
連なり:run:~
縦方向:vertical:~
横方向:horizontal:~
縦書き:vertical:~
横書き:horizontal:~
mode:::モード
縦組:vertical writing mode:~
	横組:horizontal writing mode:~
書字mode:writing-mode:書字 mode:書字モード
整列-:align:~
整列:alignment:~
アキ:spacing::~
間隙:gap:~
ruby:::ルビ
注釈:annotation::~
書記体系:writing system:~
植字-:typeset:~
植字:typesetting:~
正立:upright:~
歪めら:distort さ:~
調整-:adjust:~
縮小-:scale down:~
	~~隙間が~~空く:some distance
段落:paragraph:~
行0:line:行
行高:line height:~
	飛ばされな:skip されな:~
飛ばさ:skip さ:~
飛ばす:skip する:~
	高い:high:~
拡幅:spread::~
交叉-:cross:~
	切る:cutする:::
切落とし:truncate し:切り落とし
回転-:rotate:~
形状:shape:~
基底:base:~
基底線:baseline:~::ベースライン
	自動で隠される:auto-hidden
方位:orientation:~

	●layout
flow:::フロー
	flow内:in-flow
	flow外の:out-of-flow:~
font-size:::フォントサイズ
size:::サイズ
span:::
border:::ボーダー
box:::ボックス
padding:::パディング
layout:::レイアウト
margin:::マージン

	一緒に:together:~
	一緒に~along~with
	上の:above:~
真中:middle:~
	下:below:~
上面:over:~
下面:under:~
右端:right:~
下端:bottom:~
左端:left:~
上端:top:~
側:side:~
外側:outside:~
内側:inside:~
辺:edge:~
中央寄せに:center:~

区画:area:~

匿名:anonymous:~
不可分な:atomic:~
有位置:positioned:~
	有位置でない:non-positioned:~
置換-:replace:~
	置換されない:non-replaced
位置:position:~
位置決め:positioning:~
配置-:place:~
相対:relative:~
	相対~位置決め:relatively-positioning:~
包装-:wrap:~
行内:inline::~:インラインレベル
行内level:inline-level::行内レベル:インラインレベル
	行内~塊:inline-block::行内ブロック:インラインブロック
塊:block::ブロック
塊level:block-level::ブロックレベル
子:child:~
子たち:children:~
子孫:descendant:~
先祖:ancestor:~
木:tree:~
容器:container::コンテナ
疑似要素:pseudo-element:~

確立-:establish:~
文脈:context:~
断片:fragment:~
整形:formatting:~
隠す:hide する:~
隠した:hide した:~
隠せば:hide すれば:~
隠され:hide され:~
隣接の:adjacent:~
反対:opposite:~
半透明:partially-transparent:~

	●
交替:alternate:~
伝播-:propagate:~
分割-:split:~
分断-:break:~
挿入:insertion:~
切取られ:clip され:切り取られ
描画-:render:~
描画:rendering:~

描かれ:draw され:~
描く:draw する:~
外観:appearance:~
収容-:accommodate:~

	●層
	overlay:::
積層-:stack:~
積層:stack:~
積層法:stacking:~
積層文脈:stacking context:~
層:layer:~::レイヤ
下層:under:~
上層:over:~
	最上~層:top:~
	最下~層:bottommost:~
	手前から奥へ:front-to-back:~
前景:foreground:~
塗られ:paint され:~
塗らな:paint しな:~
塗り:painting:~
塗る:paint する:~
順序:order:~


	●CSS
cascade:::カスケード
text:::テキスト
prop:property::プロパティ
略式:shorthand:~
下位prop:sub-properties:下位 properties:下位プロパティ
	longhand:~
table:::テーブル
style:::スタイル
	~style上の:stylistic
stylesheet:::スタイルシート
文書:document:~
要素:element:~
内容:content:~

不可視:invisible:~
	他の場合:otherwise:~
値:value:~
算出-:compute:~
継承-:inherit:~
継承:inheritance:~
背景:background:~
色:color:~

算出値:computed value:~
初期値:initial value:~
算出値:computed value:~
指定値:specified value:~
適用対象:applies to:~
利用不可:N/A:~
媒体:media::~:メディア
百分率:percentage:~
animation:::アニメーション
視覚的:visual:~
名前:name:~
宣言:declaration:~
正準的順序:canonical order:~
離散的:discrete:~

出自-:originate:~
scroll:::スクロール
	scrolling
	scrollable
解決-:resolve:~

	●仕様
CSS:
HTML:
Level:
level:::レベル
keyword:::キーワード
animation:::アニメーション
UA:user agent:UA
algo:algorithm::アルゴリズム
project:::プロジェクト
module:::モジュール
risk:::リスク
opensource:::オープンソース
仕様:spec:~
特有の:specific な:~
付録:Appendix:~
概念:concept:~
不正:incorrect:~
不能化-:disable:~
事例:case:~
作者:author:~
	例:example:~
依存-:depend:~
充足する:satisfy する:満たす
典型的:typical:~
再現-:reproduce:~
切替えて:switch して:~
切替える:switch する:~
切替えら:switch され:~
効果:effect:~
勧告候補:CR:~
取下げら:drop さ:取り下げら
受容-:accept:~
	可能:possible
各種用語:terminology:~
含意-:imply:~
定義-:define:~
定義:definition:~
遂行され:perform:行なわれ
実装-:implement:~
実装:implementation:~
実質的:effective:~
将来の:future:~
導入-:introduce:~
延期:defer:~
図式:diagram:~
基本的:basic:~
変化-:change:~
変更-:change:~
変更:change:~
変更点:changes:~
妨げる:inhibit する:~
技法:technique:~
拡張-:extend:~
指定-:specify:~
指示-:indicate:~
挙動:behavior:ふるまい
推奨-:recommend:~
推奨:recommendation:~
非推奨に:deprecate:~
提供0-:offer:提供
提案-:propose:~
一貫する:consistent になる:~
新たな:new:~
既存の:existing:~
既定:default:~
既定の:default:~
既知の:known:~
明確さ:clarity:~
明確化-:clarify:~
更新:update:~
有意:significant:~
有用:useful:~
	任意選択:opt to
期間:period:~
未定義:undefined:~
正しい:correct な:~
正して:correct して:~
正しく:correct に:~
正確な:exact:~
正確:exact:~
規定-:dictate:~
影響-:affect:~
	影響されない:unaffected
後方互換:backwards-compatible:~
情報:information:~
意味-:mean:~
意味:meaning:~
決定-:determine:~
波及-:influence:~
混在する:mix された:~
無視-:ignore:~
特別:special:~
特定0の:particular:ある特定の
特色機能:feature:~
独立:independent:~
現代の:modern:~
理想的:ideal:~
用語:term:~
画像:image:~
相互作用:interaction:~
相似的:analogous:~
省略-:omit:~
	省かれ:omit され:~
競合-:conflict:~
組合せる:combine する:~
組合され:combine され:~
結付けら:associate さ:結び付けら
編集上の:editorial:~
能:ability:~
自由:free:~
草案:draft:~
複雑な:complicated:~
要求-:require:~
要約-:summarize:~
見做す:assume する:~
見做され:assume され:~
見出-:find:~
見本:sample:~
規則:rule:~
設計-:design:~
許容-:allow:~
課題:issue:~
解釈-:interpret:~
修正-:fix:~
訂正:correction:~
適切:appropriate:~
不適切:inappropriate:~
適合:conforming:~
適合-:conform:~
適正:proper:~
適用-:apply:~
選好-:prefer:~
選好:preference:~
避ける:avoid する:~
開発者:developer:~
通例的:usual:~
最良:best:~
編集者:editor:~
伝統的:traditional:~
慣行:tradition:~
	扱われ:treat され:~
	用意され:available:~
概して:typical に:~
代表的:typical:~
	基づく:–sensitive
修正-:fix:~
	各種:various
互換性:compatibility:~
懸念:concern:~
予期-:expect:~
先送り:defer:~
注釈文:prose:~
	大きな:major 
省略可能:optional:~
未定義:undefined:~
利用事例:use case:~
	確たる:definitive
	~~求められ arise
尊守-:honor:~
有意義:meaningful:~
	~~無視:disregard
実用的:practical:~
	になる限り:to the extent
	選んだchosen
自動的:automatic:~
	基づかせる:key off
	-:purposefully
意図的:intentional:~
手法:method:~
義務付けな:mandate しな:~
処理能:performance:~
考慮点:considerations:~
考慮:consideration:~
考慮-:consider:~
取扱える:handle できる:取り扱える
理由:reason:~
示唆-:suggest:~
受持つ:cover する:受け持つ
関係-:relate:~
孕まれ:involve され:~
防がれ:prevent され:~
	協力:help:~
	参考の:informative:~
	支持を受けて in favor of
	助:help:~
	決して:never
	〜に則って:according
	〜に基づいて:based
	とりわけ:especially
	べき:should
	従って，:therefore
	違って:unlike
	適する:good

	●未分類
空:empty:~
点滅-:blink:~
	blink:::

	class:::~
filter:::フィルタ
	comma区切りの:comma-separated:~
pattern:::パタン
	scroll可能なscrollable
graphic:::グラフィック
	graphical
変形:transformation:~

link:::リンク
list:::リスト
pair:::ペア
	~subject:::
	navy:::
	fuchsia:::
	橙色:orange:::オレンジ
	水色:aqua:~
	青色:blue:~
	緑色:green
	赤色:red

単独の:single:~
単純:simple:~
可視:visible:~

合致-:match:~
初期:initial:~
削除:deletion:~
包含-:contain:~
増やす:increase させる:~
型:type:~
種別:type:~

	取り出される:take
形式:format:~
所属-:belong:属
化学:chemistry:~
数学:mathematics:~
	分野 chemical:~
	mathematical:~
未訪問の:unvisited:~
生産-:produce:~
純粋:pure:~
	表:table:~
表現-:represent:~
表示-:display:~
複合-:composite:~
触れる:touch する:~
計算:calculation:~
計量:metric:~
記号:symbol:~
設定-:set:~
設定:setting:~
設定群:settings:~
再設定-:reset:~
誘発-:trigger:~
文法:grammar:~
綴り:spelling:~
誤綴り:misspelling:~
	誤り:mistake:~
	課-:impose:~
追加-:add:~
	追加:addition:~
送信-:send:~
導出-:derive:~

	most
	~~相対的:with respect to
	含-:include
	含めて:including
	得る:achieve
	述-:describe
	呼ばれ:call され
	応じて:in response to
	起こる:happen
	所与の:given
	与-:give
	利用-:use
	囲む:surround
	直ぐ:immediate に
	現れる:appear する
	示-:show
	出る:drop さ
	fill
	残し:leave
	除-:except
	vary
	varying
	あてがう:assign

	Appendix
	CJK
	CSS1
	CSS2
	CSS3
	CSS
	OpenType
	around
	become
	causing
	immediately
	long
	mixed
	note
	part
	placing
	please
	plus
	並び:series
	~:rounded
	別々に:separate
	十分:enough
	近く:close


	●指示語
部分的:partial:~
全部的:full:~
	全体:entire:~
	とは限らない:not necessarily
	依然として:still
	多い:often
	似た:similar
	多くの:many
	更なる:further
	次の:the following
	常に:always
	足下:underneath
	合間:between
	同じ:same
	同様:likewise
	itself
	neither
	nor
	両者:both
	介:via
	他の:other
	各:each
	2 つ／2 個:two
	大きい:large
	小さい:small
	後:after
	時点:time
	最初の:first
	異なる:different
	章:chapter
	等々:etc
	結果の:resulting
	複数の:multiple
	通:through
	のみ:alone
	~~最後の:final
	この:this
	これらの:these
	ごく:very
	しかしながら，:however
	したがって:thus
	すべての:all
	それらの:those
	その:that
	そのような:such
	それら:they
	それらの:their
	より低い:lower
	より大きい:larger
	一定の:certain:~
	結果:result
	別の:another
	また:yet
	全体を通してthroughout
	〜の代わりに:instead
	またぐ:across


●●ref_normative

[CSS-BREAK-3]
    Rossen Atanassov; Elika Etemad. CSS Fragmentation Module Level 3. 9 February 2017. CR. URL: https://www.w3.org/TR/css-break-3/ 
[CSS-CASCADE-4]
    Elika Etemad; Tab Atkins Jr.. CSS Cascading and Inheritance Level 4. 14 January 2016. CR. URL: https://www.w3.org/TR/css-cascade-4/ 
[CSS-COLOR-4]
    Tab Atkins Jr.; Chris Lilley. CSS Color Module Level 4. 5 July 2016. WD. URL: https://www.w3.org/TR/css-color-4/ 
[CSS-DISPLAY-3]
    Elika Etemad. CSS Display Module Level 3. 20 July 2017. WD. URL: https://www.w3.org/TR/css-display-3/ 
[CSS-INLINE-3]
    Dave Cramer; Elika Etemad; Steve Zilles. CSS Inline Layout Module Level 3. 24 May 2016. WD. URL: https://www.w3.org/TR/css-inline-3/ 
[CSS-RUBY-1]
    Elika Etemad; Koji Ishii. CSS Ruby Layout Module Level 1. 5 August 2014. WD. URL: https://www.w3.org/TR/css-ruby-1/ 
[CSS-TEXT-DECOR-4]
    CSS Text Decoration Module Level 4 URL: https://drafts.csswg.org/css-text-decor-4/ 
[CSS-VALUES-3]
    Tab Atkins Jr.; Elika Etemad. CSS Values and Units Module Level 3. 29 September 2016. CR. URL: https://www.w3.org/TR/css-values-3/ 
[CSS-WRITING-MODES-3]
    Elika Etemad; Koji Ishii. CSS Writing Modes Level 3. 15 December 2015. CR. URL: https://www.w3.org/TR/css-writing-modes-3/ 
[CSS-WRITING-MODES-4]
    CSS Writing Modes Module Level 4 URL: https://drafts.csswg.org/css-writing-modes-4/ 
[CSS2]
    Bert Bos; et al. Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification. 7 June 2011. REC. URL: https://www.w3.org/TR/CSS2 
[CSS22]
    Bert Bos. Cascading Style Sheets Level 2 Revision 2 (CSS 2.2) Specification. 12 April 2016. WD. URL: https://www.w3.org/TR/CSS22/ 
[CSS3-COLOR]
    Tantek Çelik; Chris Lilley; David Baron. CSS Color Module Level 3. 7 June 2011. REC. URL: https://www.w3.org/TR/css3-color 
[CSS3-FONTS]
    John Daggett. CSS Fonts Module Level 3. 3 October 2013. CR. URL: https://www.w3.org/TR/css-fonts-3/ 
[CSS3BG]
    Bert Bos; Elika Etemad; Brad Kemper. CSS Backgrounds and Borders Module Level 3. 17 October 2017. CR. URL: https://www.w3.org/TR/css-backgrounds-3/ 
[CSS3TEXT]
    Elika Etemad; Koji Ishii. CSS Text Module Level 3. 22 August 2017. WD. URL: https://www.w3.org/TR/css-text-3/ 
[RFC2119]
    S. Bradner. Key words for use in RFCs to Indicate Requirement Levels. March 1997. Best Current Practice. URL: https://tools.ietf.org/html/rfc2119 
[STORAGE]
    Anne van Kesteren. Storage Standard. Living Standard. URL: https://storage.spec.whatwg.org/ 

●●ref_informative

[CSS3-ANIMATIONS]
    Dean Jackson; et al. CSS Animations. 19 February 2013. WD. URL: https://www.w3.org/TR/css3-animations/ 
[HTML]
    Anne van Kesteren; et al. HTML Standard. Living Standard. URL: https://html.spec.whatwg.org/multipage/ 



●●trans_metadata
<p>
~THIS_PAGEは、~W3Cにより編集者草案として公開された
<a href="~SPEC_URL">CSS Text Decoration Module Level 3</a>
を日本語に翻訳したものです。
~PUB
</p>

●●spec_metadata

最新発行バージョン
	https://www.w3.org/TR/css-text-decor-3/

以前のバージョン
	https://www.w3.org/TR/2013/CR-css-text-decor-3-20130801/
	https://www.w3.org/TR/2013/WD-css-text-decor-3-20130103/
	https://www.w3.org/TR/2012/WD-css-text-decor-3-20121113/

テスト一式
	http://test.csswg.org/suites/css-text-decor-3_dev/nightly-unstable/

最新の課題
	<a href="https://www.w3.org/Style/CSS/Tracker/products/10">Tracker</a>
	<a href="https://github.com/w3c/csswg-drafts/labels/css-text-decor-3">GitHub Issues</a>

編集
	<a href="http://fantasai.inkedblade.net/contact">Elika J. Etemad / fantasai</a> (Invited Expert)

	<a href="mailto:kojiishi@gmail.com">Koji Ishii</a> (Google)


</script>


</head>

<body>


<div id="_persisted_parts" style="display:none;">

<div
	id="_dgm-underline-example"
	style="line-height:2em; display: inline-block; border:solid gray 0.2em; padding:0.3em; font-size:1.5em; font-family:sans-serif;"
>
	<div style="border:dashed gray 0.1em; padding:0.2em;">
		<span style="color:blue; border:solid cyan 0.2em; padding:0.2em 0;">
			<span style="border-bottom:solid blue 0.15em;">
Help, help!
				<span style="display:block; border:solid orange 0.2em; font-style:italic;">
					<span style="border-bottom:solid blue 0.15em;">
I am under a hat!
					</span>
				</span>
			<span style="color: red;">
— GwieF
				</span>
			</span>
		</span>
	</div>
</div>

<div
	id="_dgm-decoration-skip-ink"
	title="ミャンマー語テキストを通る alphabetic 下線は、 alphabetic 基底線の下に出る 結合文字の［ ディセンダや縦方向描線 ］の周りを飛ばすように引かれる。 ／An alphabetic underline through Myanmar text skips around descenders and the vertical strokes of combining characters that drop below the alphabetic baseline."
>
<div style="text-decoration: underline; color: blue;"
>ကြက်သွန်ဖြူ</div>
<div style="color: white; left:0.05em;"
>ကြက်သွန်ဖြူ</div>
<div style="color: white; left:-0.05em;"
>ကြက်သွန်ဖြူ</div>
<div style=""
>ကြက်သွန်ဖြူ</div>
</div>


<img
	id="_dgm-skip-ink-wisp"
	title="字で覆い隠され，端切れにされた下線／Wispy Leftovers of a Masked-Out Underline"
	alt="
例えば、単語 “goal” の “g” を成す輪っか（下側の方）を突き抜く下線を例にとる。
輪っかの中に下線の太さ全体が見えるかどうかは、下線の位置や太さに依存するであろう。
この例では、字で覆い隠された下線を 2 つの位置に示す。
図左の下線は、 “g” を成す輪っかの中央を通過し，輪っかの中を埋めるように下線の太さ全体が見える。
図右の下線は少し低めにあるため、輪っかの中には太さの一部だけ見える。
／
Take, for example, the word “goal” with an underline striking through the bottom loop of the “g”. Depending on the position and thickness of the underline, we might see the entire thickness of the underline, or only part of it within the “g”. This example shows a masked-out underline in two positions. In the left pair the underline passes through the center of the bowl of the “g”: the full thickness of the underline shows through the center, filling it. In the right pair the underline is slightly lower, and thus the portion of the underline within the “g” can only show a partial thickness."
	src="css-text-decor/skip-ink-wisp.png"
>


<div
>
<span style="left:0.1em; padding-left:0.1em; z-index:1"
></span
><span style="left:0.05em; border-color: blue;"
>石井</span
><span style="padding-left:0.1em;z-index:1"
></span
><span style="left:-0.05em; border-color: blue;"
>艾俐俐</span
><span style="left:-0.1em; padding-left:0.1em; z-index:1"
></span>
</div>

<div
	id="_dgm-underline-position-alphabetic"
	title="典型的 Latin フォントにおける下線は，alphabetic 基底線の少しばかり下に位置され、下線は，大多数の Latin 字の下端との合間では間隙を残しつつ，字 'p' の画線などのディセンダとは交叉する。／In a typical Latin font, the underline is positioned slightly below the alphabetic baseline, leaving a gap between the line and the bottom of most Latin letters, but crossing through descenders such as the stem of a 'p'."
>
<span
	style="
font-size:2.5rem;
font-family:Palatino, Times, serif;
color: blue;
text-decoration: underline;
"><span style="color: black;">alphabetic</span></span>
</div>

<div
	id="_dgm-underline-position-under"
	style=" margin: 0.5rem 0"
	title="典型的 Latin フォントにおける下線は，alphabetic 基底線の少しばかり下に位置され、 'g' の画線などのディセンダとは交叉しないように， Latin 字の下端との合間に間隙を残す。／In a typical Latin font, the underline is far enough below the text that it does not cross the bottom of a 'g'."
>
<span
	style="
font-size:2.5rem;
line-height: 2.5rem;
font-family:Palatino, Times, serif;
border-bottom: solid blue 0.2rem;
">under(accounting)</span>
</div>


<img
	id="_dgm-underline-position-left"
	style="border-left: solid blue 2px;"
	src="css-text-decor/underline-position.png"
	title="text-underline-position: left"
	alt="日本語と Latin が混在する縦書きテキストでは、 text-underline-position: left にされたテキストの左側に下線を引く。／In mixed Japanese-Latin vertical text, 'text-underline-position: left' places the underline on the left side of the text."
>

<img
	id="_dgm-underline-position-right"
	src="css-text-decor/underline-position.png"
	style="border-right: solid blue 2px;"
	title="text-underline-position: right"
	alt="日本語と Latin が混在する 縦書きテキストでは、 text-underline-position: right にされたテキストの右側に下線を引く。／In mixed Japanese-Latin vertical text, 'text-underline-position: right' places the underline on the right side of the text."
>

<div
	id="_dgm-underline-single"
	class="_ex-underline"
	style="border-bottom:solid green 0.1em;"
	title="フォントサイズと縦位置がまちまちになる下で描かれる単独の下線は、単独の線にならなければならない。／A single underline drawn under varying font sizes and vertical positions must be a single line."
>
<span style="font-size:1.5em;"
>A</span><span style="font-size:1em; position:relative; bottom:0.8em;"
>B</span><span style="font-size:3em;"
>C</span><span style="font-size:1.5em;"
>D</span>
</div>



<div
	id="_dgm-underline-broken"
	class="_ex-underline"
	title="それぞれは 装飾されるテキストに適切な位置と太さを伴うような，複数の線分を描くのは、不正になる。／Drawing multiple line segments, each with the position and thickness appropriate to the decorated text, is incorrect."
>
<span style="font-size:1.5em;"
>A</span><span style="font-size:1em; position:relative; bottom:0.8em;"
>B</span><span style="font-size:3em;"
>C</span><span style="font-size:1.5em;"
>D</span>
</div>


<div
	id="_dgm-leftline-cross"
	style="display:inline-block; border-left: solid red 0.15rem;"
><span style="font-size:2rem; line-height:2rem;"
>小<br>字</span><br><span
	style="font-size:4rem; line-height:4rem; position:relative; left:-1rem;"
>大<br>字</span></div>

<div
	id="_dgm-leftline-under"
	style="display:inline-block; border-left: solid green 0.15rem;"
><span style="font-size:2rem; line-height:2rem; position:relative; left:1rem;"
>小<br>字</span><br><span
	style="font-size:4rem; line-height:4rem;"
>大<br>字</span></div>

<div
	id="_dgm-underline-superscript" style="font-size:2.2rem;"
	title="'1st' における上付き文字 'st' だけに対する下線は，上付き文字の直下に描かれる一方で、テキスト全体に対する下線は，全部的サイズのテキストに適切な位置に描かれる。">
<span>1</span><sup style="border-bottom: solid black 0.15rem;">st</sup>
<span style="border-bottom: solid black 0.15rem;">1<sup>st</sup></span>
</div>

<div
	id="_dgm-text-emphasis-ja"
	class="_ex-emphasis-marks"
	title="日本語においてテキストの傍らに現れる強勢の例／Example of emphasis in Japanese appearing over the text"
>
これは<span><span>﹅</span><br>日</span><span><span>﹅</span><br>本</span><span><span>﹅</span><br>語</span>の文章です。
</div>


<div
	id="_dgm-text-emphasis-ja1"
	class="_ex-emphasis-marks"
	style="margin-bottom:0.5em;"
	title="圏点は、横書きの日本語テキストでは，強勢される各文字の上面に現れる。／Emphasis marks appear over each emphasized character in horizontal Japanese text."
>
これは<span><span>﹅</span><br>日</span><span><span>﹅</span><br>本</span><span><span>﹅</span><br>語</span>の文章です。
</div>

<div
	id="_dgm-text-emphasis-v"
	style="font-size: 1.5em; line-height:1em; margin-top:0.5em;"
	title="圏点は、縦書き日本語テキストでは，強勢される各文字の右に現れる。／Emphasis marks appear on the right of each emphasized character in vertical Japanese text."
>
縦<span>﹅</span><br>書<span>﹅</span><br>文<span>﹅</span><br>書<span>﹅</span>
</div>

<div
	id="_dgm-text-emphasis-zh"
	class="_ex-emphasis-marks"
	style="margin-top:0.5em;"
	title="圏点は、横書き簡体中国語テキストでは，強勢される各文字の下に現れる。／Emphasis marks appear below each emphasized character in horizontal Simplified Chinese text."
>
中華<span>人<br><span>•</span></span><span>民<br><span>•</span></span>共和国
</div>

<div
	id="_dgm-text-emphasis-ruby"
	class="_ex-emphasis-marks"
	title="この例では、圏点は 4 個の文字に適用され，うち二つはルビを伴う。 小丸は、ルビなしの文字に対しては，各文字の上に置かれる（ルビに整列されて）、 ルビありの文字に対してはルビの上に配置される。／In this example, emphasis marks are applied to 4 characters, two of which have ruby. The dots are placed above each character (aligned with the ruby) for the bare characters, and above the ruby text for the annotated characters."
>
るび<span
><span>•</span><br>と</span><span
><span><span>•</span><br>けん</span><br>圏</span><span
><span><span>•</span><br>てん</span><br>点</span><span
><span>•</span><br>を</span>同時
</div>


</div>

<header>
	<hgroup>
<h1 id="title">CSS によるテキスト装飾 — CSS Text Decoration Module Level 3</h1>
	</hgroup>
</header>



<div id="MAIN" style="display:none;">

	<section id="abstract">
<h2 title="Abstract">要約</h2>

   <p>
この~moduleは、~text装飾に関係する~CSSの特色機能
—
下線（ underline ）,
~text影（ text shadow ）,
圏点（ emphasis mark ）など —
を包含する。
◎
This module contains the features of CSS relating to text decoration, such as underlines, text shadows, and emphasis marks.
</p>

~CSSisaLANG

	</section>
	<section id="status">
<h2 title="Status of this document">この文書の位置付け</h2>
<p>
これは編集者草案の公開の複製です…
【以下，この節の他の内容は <a href="css-common-ja.html#status">CSS 日本語訳 共通ページ</a>に委譲。】
</p>

<p>
次の特色機能は
<a href="css-common-ja.html#at-risk">~risk下</a>
にあり，勧告候補の期間の間に取下げられるかもしれません：
◎
The following features are at-risk, and may be dropped during the CR period:
</p>

<ul>
	<li>
`text-decoration-skip$p ~prop
◎
The text-decoration-skip property.
</li>

	<li>
線の位置決め規則。
◎
The line positioning rules.
</li>
	<li>
同じ基底~text上に圏点と~rubyの両者を配置する能。
◎
The ability to place both emphasis marks and ruby on the same base text.
</li>
	<li>
`text-decoration-line$p ~propの
`spelling-error^v, `grammar-error^v 値。
◎
The spelling-error and grammar-error values of the text-decoration-line property.
</li>
</ul>

	</section>


<main id="MAIN0">

	<section id="intro">
<h2 title="Introduction">1. 序論</h2>

~INFORMATIVE


<p>
この~moduleが受持つのは、~text装飾
— 一度 植字された~textの~glyphを［
~font／~typographic
］規則（ `CSS3TEXT$r, `CSS3-FONTS$r を見よ）に則って装飾すること
— である。
そのような特色機能は、伝統的に，純粋な装飾目的のみならず，［
強勢~等を示したり，［
挿入, 削除, 誤綴り
］などの編集上の変更点を指示するため
］などに利用される事例もある。
◎
This module covers text decoration, i.e. decorating the glyphs of the text once typeset according to font and typographic rules. (See [CSS3TEXT] and [CSS3-FONTS].) Such features are traditionally used not only for purely decorative purposes, but also in some cases to show emphasis, for honorifics, and to indicate editorial changes such as insertions, deletions, and misspellings.
</p>

<p>
~CSS~Level 1, 2 は、西欧~typographic慣行に適切な，ごく基本的な`装飾線$のみを定義していた（下線, 上線, 打消線）。
この~moduleの~Level 3 では、これらの装飾の［
色, ~style, 位置, 連続性
］を変更する能を追加し、また，
<a href="#emphasis-marks">圏点</a>
（~East-Asian~typographyにて伝統的に利用されている）, および
<a href="#text-shadow-property">~text影</a>
（提案されていたが~Level 2 から延期されていた）を導入する。
◎
CSS Levels 1 and 2 only defined very basic line decorations (underlines, overlines, and strike-throughs) appropriate to Western typographical traditions. Level 3 of this module adds the ability to change the color, style, position, and continuity of these decorations, and also introduces emphasis marks (traditionally used in East Asian typography), and shadows (which were proposed then deferred from Level 2).
</p>


		<section id="placement">
<h3 title="Module Interactions">1.1. ~module間の相互作用</h3>

<p>
この~moduleは、 `CSS21$r 16 章にて定義されている，~textを装飾するための特色機能を置換して拡張する。
◎
This module replaces and extends the text-decorating features defined in [CSS21] chapter 16.
</p>


		</section>
		<section id="values">
<h3 title="Values">1.2. 値</h3>
<p class="trans-note">【
この節の内容は
<a href="css-common-ja.html#values" >CSS 日本語訳 共通ページ</a>
に委譲
】</p>

		</section>
		<section id="terms">
<h3 title="Terminology">1.3. 各種用語</h3>

<p>
この仕様にて利用される用語
`文字@,
`字0@,
`内容~言語@
【自然言語】は、 `CSS3TEXT$r にて定義される。
この仕様にて利用される 他の各種用語と概念は
`CSS21$r ／ `CSS-WRITING-MODES-3$r
にて定義される。
◎
The terms character, letter, and content language as used in this specification are defined in [CSS3TEXT]. Other terminology and concepts used in this specification are defined in [CSS21] and [CSS-WRITING-MODES-3].
</p>

<p class="trans-note">【
この訳では、次の用語も追加で定義する：
】</p>

<p>
`縦書き~mode@
とは、［
`~typographic~mode$が，縦書き用字系における縦方向~flowである
］ことを意味する略記である。
`横書き~mode@
とは、`縦書き~mode$でないことを意味する。
</p>

		</section>
	</section>
	<section id="line-decoration">
<h2 title="Line Decoration: Underline, Overline, and Strike-Through">2. 装飾線： 下線, 上線,  打消線</h2>

<p>
この節に述べる~propは、要素の内容に追加される装飾線を述する。
装飾が`行内~box$に［
指定された／伝播された
］とき、その~boxは，装飾をそのすべての`断片$に適用するような，その装飾に対する
`装飾box@
になる。
装飾は、更に行内を分割する［
`~flow内$にある`塊level~box$たち
］へ伝播する（
<a href="~CSS2VISUREN#anonymous-block-level">CSS2.1, 9.2.1.1 節</a>
を見よ）。
行内~整形~文脈を確立する`塊~容器$に
指定された／伝播された
ときは、装飾は［
その塊~容器の`~flow内$にある，`行内level$の子たち
］すべてを包装する`匿名$の行内~boxへ伝播する。
`~ruby容器$に［
指定された／伝播した
］ときは、装飾は，その`~ruby基底$のみに伝播する。
他のすべての型の~boxに対しては、装飾は~flow内にあるすべての子に伝播する。
◎
The following properties describe line decorations that are added to the content of an element. When specified on or propagated to an inline box, that box becomes a decorating box for that decoration, applying the decoration to all its fragments. The decoration is then further propagated to any in-flow block-level boxes that split the inline (see CSS2.1 section 9.2.1.1). When specified on or propagated to a block container that establishes an inline formatting context, the decorations are propagated to an anonymous inline box that wraps all the in-flow inline-level children of the block container. When specified on or propagated to a ruby box, the decorations are propagated only to the ruby base. For all other box types, the decorations are propagated to all in-flow children.
</p>

<p class="note">注記：
~text装飾は、~flow外にある子孫や,
`行内~塊$や`行内~table$などの `不可分な行内level$の子孫の内容には，伝播しない。
また、`行内~box$の子である`行内$にも伝播しない
— そのような~boxたちにも装飾は<em>適用される</em>が。
◎
Note that text decorations are not propagated to any out-of-flow descendants, nor to the contents of atomic inline-level descendants such as inline blocks and inline tables. They are also not propagated to inline children of inline boxes, although the decoration is applied to such boxes.
</p>

<p>
［
下線, 上線, 取消線
］は、`置換され$ない`行内~box$のみに，すべての~textをまたぐように（空白, 字0アキ, 単語アキも含めて）描かれる
— ただし、先頭／末尾に生じるアキ（空白, 字0アキ, 単語アキ）は除く。
画像や`行内~塊$などの`不可分な行内$は、装飾されない。
`装飾box$の［
~margin, ~border, ~padding
］は 常に飛ばされるが、子孫~行内~boxの［
それら
］は 飛ばされない。
◎
Underlines, overlines, and line-throughs are drawn only for non-replaced inline boxes, and are drawn across all text (including white space, letter spacing, and word spacing) except spacing (white space, letter spacing, and word spacing) at the beginning and end of a line. Atomic inlines, such as images and inline blocks, are not decorated. Margins, borders, and padding of the decorating box are always skipped, however the margins, border, and padding of descendant inline boxes are not.
</p>


<p class="note">注記：
CSS 2.1 では［
~margin, ~border, ~padding
］は常に飛ばすことが要求されている。
この~levelの既定では、`装飾box$の［
~margin, ~border, ~padding
］のみが飛ばされる。
将来の CSS2.1 は、この新たな既定に合致するように更新されるかもしれない。
また，~Level 4 では、［
頭部／尾部
］の空間を装飾する制御も予期されており，~HTML `ins$e, `del$e 要素に既定で適用されることになる。
◎
Note that CSS 2.1 required skipping margins, borders, and padding always. In this level, by default only the margins, borders, and padding of the decorating box are skipped. In the future CSS2.1 may be updated to match this new default. Also, control over decorating leading/trailing spaces is expected in Level 4, and will be applied by default to the HTML ins and del elements.
</p>

<p>
UAは、［
下線／上線
］が~glyph~inkに交叉する箇所では、線が途切れるようにしてもよい
— ~glyph外形線の両側に~~隙間が~~空くように。
この挙動はこの~levelでは制御できないが、~Level 4 にて更に定義されることになる。
ただし，取消線に対しては、連続的なままにされ~MUST。
◎
UAs may interrupt underlines and overlines where the line would cross glyph ink and to some distance to either side of the glyph outline; this behavior is not controllable in this level, but will be further defined in Level 4. Line-throughs must remain continuous, however.
</p>

<figure>
`decoration-skip-ink^dgm
<figcaption>
~glyph~ink箇所を飛ばす
◎
Skipping Glyph Ink
</figcaption></figure>


<p>
~UAは、［
下線／上線
］が~glyph境界で途切れるときには，その箇所の線の形状が~glyphの形状をなぞるようにするべきである。
◎
When the UA interrupts underlines or overlines at glyph boundaries, the shape of the line at that boundary should follow the shape of the glyph.
</p>

<div class="note">
<p>注記：
この仕様は、意図的に ~glyphの “形状をなぞる” ための 特定0の手法は義務付けない
— ~UAが、適切な測定の下に，美観や処理能の考慮点を取扱えるようにするため。
例えば~UAは、~sizeが一定の閾値を下回るときには，処理能の理由から
線の末端形状を方形と見做す、あるいは，末端形状に台形を利用して曲線を近似することもできる
— とりわけ、線の装飾が細いときには。
美観について言えば、~UAは，~glyph境界が線の太さの一部のみに交差するときや, 傾きが水平に近いときに何が起こるかも考慮するかもしれない
— 曲線を正確になぞることによる結果の下線は、~typographic的に見苦しい端切れにもなり得る。
~glyphに囲込まれた区画の中に線を示すかどうかも、また別の考慮になる。
◎
Note, this specification intentionally does not mandate a particular method for “following the shape” of the glyph so that UAs can take appropriate measures to handle aesthetic and performance considerations. For example, a UA could assume square line endings below a certain size threshold for performance reasons; or use trapezoidal endings to approximate curves, especially on thinner line decorations. In terms of aesthetic considerations, the UA might also consider what happens when the glyph boundary intersects only part of the line thickness or is slanted close to the horizontal—following the curve exactly could result in typographically-awkward wisps of underline. Whether to show the line within enclosed areas of a glyph is yet another consideration.
</p>

<figure>`skip-ink-wisp^dgm
<figcaption>
輪っかの中の下線を成す部位を隠せば、~~字形はより明瞭になる一方、輪っかの外側にある［
下線の末端形状を成す曲線
］は，字0の輪郭を包むことで下線の連続性を示唆する。
◎
Hiding the portion of the underline within the bowl gives a cleaner look to the type, while the curved ends of the underline outside it suggest the continuity of the underline through the letter by hugging its outer contour.
</figcaption></figure>

</div>


<p>
子孫に対する相対~位置決めは、それに適用されている~text装飾 すべてを，子孫の~textと一緒に移動させる
— 相対~位置決めが、その行0上の装飾の初期~位置の計算に影響することはない。
同様に、［
`visibility$p ~prop,
`text-shadow$p,
~filter,
その他
］の~graphic的~変形についても，~textに描かれる~text装飾に影響する
— その装飾が 先祖~box上に指定されていて，装飾の初期~位置や太さの計算に影響しないとしても。
（同様に、装飾線が［
`不可分な行内$ ／
`置換され$ない`行内~box$の［
~margin／~border／~padding
］］を通るように描かれる事例でも、装飾線は，`装飾box$ではなく 影響される行内~boxに結付けられる。）
◎
Relatively positioning a descendant moves all text decorations applied to it along with the descendant’s text; it does not affect calculation of the decoration’s initial position on that line. The visibility property, text-shadow, filters, and other graphical transformations likewise affect text decorations as part of the text they’re drawn on, even if the decorations were specified on an ancestor box, and do not affect the calculation of their initial positions or thicknesses. (In the case of line decorations drawn over an atomic inline or across the margins/borders/padding of a non-replaced inline box, they are analogously associated with the affected atomic inline / non-replaced inline box rather than with the decorating box.)
</p>


<div class="example">
<p>
次の~stylesheetと文書~断片が与えられたとき：
◎
In the following style sheet and document fragment:
</p>

<pre class="lang-css">
blockquote { text-decoration: underline; color: blue; }
em { display: block; }
cite { color: red; }
</pre>

<pre class="lang-ml">
&lt;blockquote&gt;
 &lt;p&gt;
  &lt;span&gt;
   Help, help!
   &lt;em&gt; I am under a hat! &lt;/em&gt;

   &lt;cite&gt; — GwieF &lt;/cite&gt;
  &lt;/span&gt;
 &lt;/p&gt;
&lt;/blockquote&gt;
</pre>

<p>
`blockquote^e 要素に下線を引くと，
`span^e 要素を囲む 匿名~行内~boxに伝播され、その最初の~text "Help, help!" から下線が引かれる。
下線の色は `blockquote^e 要素から取り出される色（青色（ `blue^v ））と同じになる。
`em^e 塊~内の~text
"I am under a hat!"
にも下線が引かれる
— その~textを囲う塊は`~flow内$にあり，下線が伝播されるので。
~~最後の行0 `cite^e の~text色は赤色（ `red^v ）にされているが、下線の色は，依然として 匿名~行内~要素の青色になる。
◎
...the underlining for the blockquote element is propagated to an anonymous inline box that surrounds the span element, causing the text "Help, help!" to be blue, with the blue underlining from the anonymous inline underneath it, the color being taken from the blockquote element. The &lt;em&gt;text&lt;/em&gt; in the em block is also underlined, as it is in an in-flow block to which the underline is propagated. The final line of text is fuchsia, but the underline underneath it is still the blue underline from the anonymous inline element.
</p>


<figure>
`underline-example^dgm

<figcaption>
上の例に孕まれている~boxたちを示す図式：
最~外縁の矩形は `blockquote^e を表現し，その直ぐ内側の破線の矩形は `p^e を表現し，その中の水色の線は［
`p^e 要素の行内~内容を包装している匿名~行内~要素による~boxを表現すると同時に
それに囲まれる `span^e を表現し，橙色の矩形は 合間に挟まれている塊を表現する。
◎
This diagram shows the boxes involved in the example above. The rounded aqua line represents the anonymous inline element wrapping the inline contents of the paragraph element, the rounded blue line represents the span element, and the orange lines represent the blocks.
</figcaption></figure>

</div>

<p class="note">注記：
装飾線は、継承ではなく~box木を通して伝播する。
したがって
<span class="css">`display$p: `contents^v</span>
にされた要素に指定されても，子孫に対する効果はない。
◎
Note: Line decorations are propagated through the box tree, not through inheritance, and thus have no effect on descendants when specified on an element with display: contents.
</p>


		<section id="text-decoration-line-property">
<h3 title="Text Decoration Lines: the text-decoration-line property">2.1. ~text装飾~線： `text-decoration-line^p ~prop</h3>

◎名 `text-decoration-line@p
◎値
`none^v
| [ `underline$v || `overline$v || `line-through$v || `blink$v ]
| `spelling-error$v | `grammar-error$v
◎初 `none$v
◎適 すべての要素
◎継 されない（ただし上の注釈文を見よ）
◎百 利用不可
◎媒 視覚的
◎算 指定値
◎順 文法に従う
◎ア 離散的
◎表終

<p>
要素に追加する装飾線を指定する／あるいは追加しないことを指定する。
各種~値の意味は：
◎
Specifies what line decorations, if any, are added to the element. Values have the following meanings:
</p>


<dl>
	<dt>`none@v</dt>
	<dd>
~text装飾を生産することも, 妨げることもない。
◎
Neither produces nor inhibits text decoration.
</dd>

	<dt>`underline@v</dt>
	<dd>
~textの各~行0には、下線が引かれる。
◎
Each line of text is underlined.
</dd>

	<dt>`overline@v</dt>
	<dd>
~textの各~行0には、上線（すなわち，下線と反対~側）が引かれる。
◎
Each line of text has a line over it (i.e. on the opposite side from an underline).
</dd>

	<dt>`line-through@v</dt>
	<dd>
~textの各~行0には、真中を通る線が引かれる。
◎
Each line of text has a line through the middle.
</dd>

	<dt>`blink@v</dt>
	<dd>
~textは点滅する（可視と不可視の間で交替する）。
適合~UAは、単純に~textを点滅させなくしてよい。
~textを点滅させないのは
<a href="http://www.w3.org/TR/UAAG/guidelines.html#tech-on-off-blinking-text">WAI-UAAG の checkpoint 3.3</a>
を充足する技法の一つであることに注意。
この値は、 Animations `CSS3-ANIMATIONS$r への支持を受けて<strong>非推奨にされた</strong>。
◎
The text blinks (alternates between visible and invisible). Conforming user agents may simply not blink the text. Note that not blinking the text is one technique to satisfy checkpoint 3.3 of WAI-UAAG. This value is deprecated in favor of Animations [CSS3-ANIMATIONS].
</dd>

	<dt>`spelling-error@v</dt>
	<dd>
この値は、~UAが綴りの誤りを強調するために利用される種別の~text装飾を指示する。
その外観は~UAにより定義される。
<span class="note">
これは、赤色の波状の下線で描画されることが多い。
</span>
◎
This value indicates the type of text decoration used by the User Agent to highlight spelling mistakes. Its appearance is UA defined. It is often rendered as a red wavy underline.
</dd>

	<dt>`grammar-error@v</dt>
	<dd>
この値は、~UAが文法の誤りを強調するために利用される種別の~text装飾を指示する。
その外観は~UAにより定義される。
<span class="note">
これは、緑色の波状の下線で描画されることが多い。
</span>
◎
This value indicates the type of text decoration used by the User Agent to highlight grammar mistakes. Its appearance is UA defined. It is often rendered as a green wavy underline.
</dd>
</dl>

<p class="note">注記：
`縦組$においては、 `text-decoration-position$p により，下線, 上線が引かれる側は切替えられ得る。
これにより、下線の位置を，言語に特有の選好に自動的に基づかせることが可能になる。
◎
Note: In vertical writing modes, text-decoration-position can cause the underline and overline to switch sides. This allows the position of underlines to key off of language-specific preferences automatically.
</p>

<p>
`text-decoration-line$p の値が［
`spelling-error$v ／ `grammar-error$v
］のときは、~UAは，［
`text-decoration$p の他の`下位prop$, および
`text-underline-position$p などの~text装飾の外観に影響している他の~prop
］の値を~~無視してもよい。
~UAが選んだ描画の下で［
これらの~propを尊守したとき，有意義かつ実用的になる
］限り、~UAは，それらを適用するべきであるが、要求されてはいない。
◎
When the value of text-decoration-line is either spelling-error or grammar-error, the UA may disregard the values of the other sub-properties of text-decoration, as well as those of other properties affecting the appearance of the text-decoration such as text-underline-position. To the extent that honoring these properties would be meaningful and practical given the UA’s chosen rendering, the UA should apply them, but is not required to.
</p>

<p class="note">注記：
`spelling-error$v, `grammar-error$v
値は、~risk下にある。
◎
Note: The spelling-error and grammar-error values are at risk.
</p>

		</section>
		<section id="text-decoration-color-property">
<h3 title="Text Decoration Color: the text-decoration-color property">2.2. ~text装飾~色： `text-decoration-color^p ~prop</h3>

◎名 `text-decoration-color@p
◎値 `color$t
◎初 `currentcolor$v
◎適 すべての要素
◎継 されない
◎百 利用不可
◎媒 視覚的
◎算 `color$p ~propに対するときと同じ
◎順 文法に従う
◎ア `色として$
◎表終

<p>
この~propは、`text-decoration-line$p で要素~上に設定された
~text装飾（
下線, 上線, 取消線）の色を指定する。
◎
This property specifies the color of text decoration (underlines overlines, and line-throughs) set on the element with text-decoration-line.
</p>

<p>
~text装飾の色は、所与の要素から出自しているすべての装飾上で，同じに保たれ~MUST
— 子孫~boxたちに，異なる色が指定されたとしても。
◎
The color of text decorations must remain the same on all decorations originating from a given element, even if descendant boxes have different specified colors.
</p>


		</section>
		<section id="text-decoration-style-property">
<h3 title="Text Decoration Style: the text-decoration-style property">2.3. ~text装飾~style： `text-decoration-style^p ~prop</h3>

◎名 `text-decoration-style@p
◎値
`solid^v | `double^v | `dotted^v | `dashed^v | `wavy^v
◎初 `solid$v
◎適 すべての要素
◎継 されない
◎百 利用不可
◎媒 視覚的
◎算 指定値
◎順 文法に従う
◎ア 離散的
◎表終
  
<p>
この~propは、要素~上に指定された~text装飾により描かれる線（たち）の
~styleを指定する。
`wavy^v を除く各種 値の意味は
`border-*-style$p ~prop `CSS3BG$r
に対する同じ名前の値と同じである。
`wavy^v は波線を指示する。
◎
This property specifies the style of the line(s) drawn for text decoration specified on the element. Values have the same meaning as for the border-style properties [CSS3BG]. wavy indicates a wavy line.
</p>

  
<p>
~text装飾の~styleは、所与の要素から出自しているすべての装飾~上で同じに保たれ~MUST
— 子孫~boxに異なる~styleが指定されたとしても。
◎
The style of text decorations must remain the same on all decorations originating from a given element, even if descendant boxes have different specified styles.
</p>


		</section>
		<section id="text-decoration-property">
<h3 title="Text Decoration Shorthand: the text-decoration property">2.4. ~text装飾： `text-decoration^p 略式~prop</h3>

◎名 `text-decoration@p
◎値
`text-decoration-line$tp ||
`text-decoration-style$tp ||
`text-decoration-color$tp
◎初 個々の~propを見よ
◎適 個々の~propを見よ
◎継 個々の~propを見よ
◎百 個々の~propを見よ
◎媒 個々の~propを見よ
◎算 個々の~propを見よ
◎順 文法に従う
◎ア 個々の~propを見よ
◎表終

<p>
この~propは、［
`text-decoration-line$p,
`text-decoration-color$p,
`text-decoration-style$p
］を一つの宣言でまとめて設定するための略式~propである。
省略された値は，その初期値に設定される。
`text-decoration-color$p,
`text-decoration-style$p
値の両者とも省略された `text-decoration$p 宣言は、
~CSS~Level 1, 2 に後方互換になる。
◎
This property is a shorthand for setting text-decoration-line, text-decoration-color, and text-decoration-style in one declaration. Omitted values are set to their initial values. A text-decoration declaration that omits both the text-decoration-color and text-decoration-style values is backwards-compatible with CSS Levels 1 and 2.
</p>

<div class="example">
<p>
次の例による未訪問の~linkには、
CSS1／CSS2 ~UAにおいては，実線による `blue^v 色にされた下線が引かれ、
CSS3 ~UAにおいては，点線（小丸の並び）による `navy^v 色にされた下線が引かれる。
◎
The following example underlines unvisited links with a solid blue underline in CSS1 and CSS2 UAs and a navy dotted underline in CSS3 UAs.
</p>


<pre class="lang-css">
:link {
    color: blue;
    text-decoration: underline;
    text-decoration: navy dotted underline; /* <span class="comment">
CSS1／CSS2 ~UA では <a href="~CSS22/syndata.html#ignore">無視される</a>
◎
Ignored in CSS1/CSS2 UAs
</span> */
}
</pre>

</div>

<p class="note">注記：
`text-decoration-position$p ~propがこの~propから省かれているわけは、それが内容に基づく［
言語／書記体系
］に依存する設定であり、（継承されない） `text-decoration$p  略式~propによる~style上の設定とは，独立に~cascadeして継承できるようにするためである。
◎
Note: The shorthand purposefully omits the text-decoration-position property, which is a language/writing-system–dependent setting that keys off the content, so that it can cascade and inherit independently from the (uninherited) stylistic settings of the text-decoration shorthand.
</p>

		</section>
		<section id="text-underline-position-property">
<h3 title="Text Underline Position: the text-underline-position property">2.5. ~text下線の位置： `text-underline-position^p ~prop</h3>

◎名 `text-underline-position@p
◎値
`auto$v
| [ `under$v || [ `left$v | `right$v ] ]
◎初 `auto$v
◎適 すべての要素
◎継 される
◎百 利用不可
◎媒 視覚的
◎算 指定値
◎順 文法に従う
◎ア 離散的
◎表終

<p>
この~propは、要素に指定された下線の位置を設定する（これは、先祖~要素により指定される下線には影響しない）。
［
`left$v ／ `right$v
］のみが指定された場合， `auto$v も含意される。
◎
This property sets the position of an underline specified on the element. (It does not affect underlines specified by ancestor elements.) If left or right is specified alone, auto is also implied.
</p>

<div class="example">
<p>
次の例は、現代的［
中国語, 日本語, 韓国語
］の~textを
横書き, 縦書き 両~textに対し，適切な下線~位置による~styleをあてがう。
◎
The following example styles modern Chinese, Japanese, and Korean texts with the appropriate underline positions in both horizontal and vertical text:
</p>

<pre class="lang-css">
:root:lang(ja), [lang|=ja], :root:lang(ko), [lang|=ko] {
   text-underline-position: under right;
}
:root:lang(zh), [lang|=zh] {
   text-underline-position: under left;
}
</pre>


<p>
（これらの規則は、
<a href="#default-stylesheet">既定の~UA~stylesheet</a>
に示唆されている一部であることに注意。）
◎
(Note that these rules are part of the suggested default UA style sheet.)
</p>

</div>

<p>
各種~値の意味は：
◎
Values have the following meanings:
</p>

<dl>
	<dt>`auto@v</dt>
	<dd>
~UAは、下線の位置を決定するにあたり，どのような~algoを利用してもよいが、~alphabetic基底線の所かそれより下に引かれ~MUST。
◎
The user agent may use any algorithm to determine the underline’s position; however it must be placed at or under the alphabetic baseline.
</dd>
	<dd class="note">注記：
~UAには、既定の下線~位置は ~alphabetic基底線になるべく近くすることが示唆される
— ~alphabetic下線が高過ぎて，下付文字（あるいは低くされた）~textに交叉したり,
~Hanや~Tibetanなどの~Asian用字系の~glyph上を描くことになる場合は、
`under$v に対して述べられるように，下線を低くずらすか,
~em~box辺に整列する方が，より適切になるであろう。
◎
It is suggested that the default underline position be close to the alphabetic baseline, unless that would either cross subscripted (or otherwise lowered) text or draw over glyphs from Asian scripts such as Han or Tibetan for which an alphabetic underline is too high: in such cases, shifting the underline lower or aligning to the em box edge as described for under may be more appropriate.
</dd>
	<dd>
<figure>`underline-position-alphabetic^dgm
<figcaption>
典型的 “alphabetic” 下線は、~alphabetic基底線の直下に位置される
◎
A typical “alphabetic” underline is positioned just below the alphabetic baseline
</figcaption></figure>

	</dd>

	<dt>`under@v</dt>
	<dd>
下線は、要素の~text内容の`下面$に位置される。
この事例では、下線は通例的には~descenderと交叉しない（これは
“accounting”下線と呼ばれることもある）。
この値は、`縦書き~mode$において特定0の側が選好されるならば
`left$v ／ `right$v
と組合せることもできる。
◎
The underline is positioned under the element’s text content. In this case the underline usually does not cross the descenders. (This is sometimes called “accounting” underline.) This value can be combined with left or right if a particular side is preferred in vertical typographic modes.
</dd>
	<dd>

<figure>
`underline-position-under^dgm
<figcaption>
<samp class="css">`text-underline-position$p: `under^v</samp>
</figcaption></figure>

<div class="example">

<p>
`text-underline-position$p
は継承され, また
`text-decoration$p
略式~propにより再設定されないので、次の例は，文書が
`under$v による下線を利用するように切替える。
これは、長く, 複雑な~descenderを伴う書記体系に対しては，より適切になることもある。
また、下付文字を多用する
数学／化学
~~分野の~textでも，有用になることが多い。
◎
Because text-underline-position inherits, and is not reset by the text-decoration shorthand, the following example switches the document to use under underlining, which can be more appropriate for writing systems with long, complicated descenders. It is also often useful for mathematical or chemical texts that use many subscripts.
</p>

<pre class="lang-css">
:root { text-underline-position: under; }
</pre>

</div>

	</dd>

	<dt>`left@v ／ `right@v</dt>
	<dd>
`縦書き~mode$においては、下線は，常に~textの［
左端／右端
］辺に整列されることを除いて，
`under$v に対するときと同様に整列され、上線は，その反対~側に整列される。
<!-- 
横書き~modeの下では、 `under$v のときと同様に整列される。
 -->
◎
In vertical typographic modes, the underline is aligned as for under, except it is always aligned to the left edge of the text. If this causes the underline to be drawn on the "over" side of the text, then an overline also switches sides and is drawn on the "under" side.
◎
In vertical typographic modes, the underline is aligned as for under, except it is always aligned to the right edge of the text. If this causes the underline to be drawn on the "over" side of the text, then an overline also switches sides and is drawn on the "under" side.
</dd>

</dl>



<figure id="fig-text-underline-position">

<figure>`underline-position-left^dgm
<figcaption>`left$v
</figcaption></figure>

<figure>`underline-position-right^dgm
<figcaption>`right$v
</figcaption></figure>

<figcaption>
`縦書き~mode$においては,
`text-underline-position$p に対する
`left$v ／ `right$v
値は，下線を~textのどちら側にも配置できるようにする（`横書き~mode$においては、両~値とも `under$v として扱われる）。
◎
In vertical typographic modes, the text-underline-position values left and right allow placing the underline on either side of the text. (In horizontal typographic modes, both values are treated as under.)
</figcaption></figure>


<p>
この~levelにおいては、装飾線の正確な位置／太さは~UAにより定義される。
しかしながら，~UAは、単独の `装飾box$から導出される装飾に対しては，各［
下線／上線
］の太さ, 位置を一定にし~MUST。
◎
The exact position and thickness of line decorations is UA-defined in this level. However, for underlines and overlines the UA must use a single thickness and position on each line for the decorations deriving from a single decorating box.
</p>


<figure>
`underline-single^dgm
vs.
`underline-broken^dgm
<figcaption>
<samp>&lt;u&gt;A&lt;sup&gt;B&lt;/sup&gt;&lt;big&gt;C&lt;/big&gt;D&lt;/u&gt;</samp>
の正しい描画と不正な描画
◎
Correct and incorrect rendering of &lt;u&gt;A&lt;sup&gt;B&lt;/sup&gt;&lt;big&gt;C&lt;/big&gt;D&lt;/u&gt;
</figcaption></figure>

<div class="note">
<p>注記：
装飾線は，~font~sizeや縦方向の整列がまちまちな要素にも~spanし得るので、装飾線に対する最良の位置は，`装飾box$により規定される理想的な位置になるとは限らない。
例えば，小さい~fontに合わせて位置される上線は、要素が 有意に大きい~font-sizeの~textを包含する場合には，実質的に取消線になる。
下線の場合でも，~textが~alphabetic基底線に整列されていない場合には（例えば、縦書き植字~styleの既定では、~textは，その~central基底線により整列される `CSS-WRITING-MODES-3$r ）、下線は，より~font-sizeが大きい子孫~textを切るように引かれることになる。
したがって、~UAによる子孫~内容の考慮は，~typographyをより良くする結果になる。
◎
Note, since line decorations can span elements with varying font sizes and vertical alignments, the best position for a line decoration is not necessarily the ideal position dictated by the decorating box. For example, an overline positioned to a small font will effectively become a line-through if the element contains text in a significantly larger font-size. Even for underlines, if the text is not aligned to the alphabetic baseline (for example, in vertical typesetting styles, text is aligned by its central baseline by default [CSS-WRITING-MODES-3]) an underline will cut through descendant text of a larger font-size. UA consideration of descendant content will therefore result in better typography.
</p>

<figure>
`leftline-cross^dgm
`leftline-under^dgm
<figcaption>
横書き~textの~central基底線~整列に因り、~font-sizeが小さい縦書き~textの左~側の下線は，大きい子~textを切るように引かれる。
下線を分断するのは許容されないが、その位置をより左に調整すれば，下線が引かれた~textすべてを適正に収容する。
◎
Due to the central baseline alignment of vertical text, a left-side underline on small vertical text will cut through the text of a child with a larger font size. The underline is not allowed to be broken, but adjusting its position further to the left properly accommodates all of the underlined text.
</figcaption></figure>

</div>

<p>
~UAは、線の位置を，［
`vertical-align$p `CSS21$r に対する `baseline^v 以外の値で~shiftされた, あるいは `font-variant-position$p `CSS3-FONTS$r を介して［
下付文字／上付文字
］にずらされた
］`装飾box$たちの計量に合致するように調整し<em>~MUST</em>一方で、線の
位置／太さを
`装飾box$の子孫の~styleに応じて調整しては<em>~MUST_NOT</em>。
これにより、上付文字や下付文字は，（下線, 打消線, 等々で）適正に装飾されるようなる一方で、先祖による装飾の位置決めが［
それらの~styleにより歪められたり分断される
］のは防がれる。
◎
UAs must adjust line positions to match the shifted metrics of decorating boxes shifted with vertical-align values other than baseline [CSS21] or subscripted/superscripted via font-variant-position [CSS3-FONTS], but must not adjust the line position or thickness in response to descendants of a decorating box that are so styled. This allows superscripts and subscripts to be properly decorated (underlined, struck through, etc.) but prevents them from distorting or breaking the positioning of such decorations on their ancestors.
</p>

<figure>`underline-superscript^dgm
<figcaption>
上付文字にされた（`vertical-align^p または `font-variant-position^p が適用された要素）~textに適用された下線, および
そのような~textを包含している~textに適用された下線
の対照例
◎
Example of underline applied to superscripted text vs. underline applied to text containing a superscript
</figcaption></figure>


<p>
~font形式（ OpenType など）には、装飾線に対する適切な位置についての情報を提供0できるものもある。
~UAは、適切になるときは，~fontによるそのような情報（下線の太さや,
~alphabetic下線の適切な位置など）を利用するべきである。
◎
Some font formats (such as OpenType) can offer information about the appropriate position of a line decoration. The UA should use such information (such as the underline thickness, or appropriate alphabetic underline position) from the font wherever appropriate.
</p>

<p class="note">注記：
OpenType ~fontの計量は、概して， `alphabetic$v 下線の位置を与える。
事例によっては（とりわけ CJK ~fontにおいては），それは
`under left^v 下線の位置を与える（この事例では、~fontの下線~計量は、概して~em~boxの下端~辺に触れる）。
~UAは、要求-はされないが，不正な~font計量を正してよい。
◎
Typically, OpenType font metrics give the position of an alphabetic underline; in some cases (especially in CJK fonts), it gives the position of a under left underline. (In this case, the font’s underline metrics typically touch the bottom edge of the em box). The UA may but is not required to correct for incorrect font metrics.
</p>


		</section>
	</section>
	<section id="emphasis-marks">
<h2 title="Emphasis Marks">3. 圏点（ emphasis mark ）</h2>

  
<p>
~East-Asian文書は、伝統的に，
~text連なりを強調するとき，各~glyphの傍らに小さい記号を利用する。
例えば：
◎
East Asian documents traditionally use small symbols next to each glyph to emphasize a run of text. For example:
</p>


<figure class="example">`text-emphasis-ja^dgm
<figcaption>
日本語~textに適用されている~accent強調（明確さのため青色で示される）
◎
Accent emphasis (shown in blue for clarity) applied to Japanese text
</figcaption></figure>


<p>
`text-emphasis$p 略式~prop,
および 対応する下位prop
`text-emphasis-style$p,
`text-emphasis-color$p
を、~textにそのような圏点0を適用するときに利用できる。
別々に継承される
`text-emphasis-position$p ~propは、圏点の位置を~textに~~相対的に設定できるようにする。
◎
The text-emphasis shorthand, and its text-emphasis-style and text-emphasis-color longhands, can be used to apply such marks to the text. The text-emphasis-position property, which inherits separately, allows setting the emphasis marks’ position with respect to the text.
</p>


		<section id="text-emphasis-style-property">
<h3 title="Emphasis Mark Style: the text-emphasis-style property">3.1. 圏点~style： `text-emphasis-style^p ~prop</h3>

◎名 `text-emphasis-style@p
◎値
`none$v | [
[ `filled$v | `open$v ]
|| [ `dot$v | `circle$v | `double-circle$v | `triangle$v | `sesame$v ]
] | `string$vt
◎初 `none$v
◎適 すべての要素
◎継 される
◎百 利用不可
◎媒 視覚的
◎算 
`none^v ／
形状と黒塗りにするかどうかを表現する~keywordの~pair ／
文字列
◎
none, a pair of keywords representing the shape and fill, or a string
◎順 文法に従う
◎ア 離散的
◎表終

<p>
要素の~textに適用する圏点は、この~propで与える。
各種~値の意味は：
◎
This property applies emphasis marks to the element’s text. Values have the following meanings:
</p>

<dl>
	<dt>`none@v</dt>
	<dd>
圏点はない。
◎
No emphasis marks.
</dd>

	<dt>`filled@v</dt>
	<dd>
形状を単色の黒塗りにする。
◎
The shape is filled with solid color.
</dd>

	<dt>`open@v</dt>
	<dd>
形状を中空（縁取り）にする。
◎
The shape is hollow.
</dd>

	<dt>`dot@v</dt>
	<dd>
小さい丸を圏点0として表示する。
黒塗りの小丸は `2022^U ／
縁取りの小丸は `25E6^U。
◎
Display small circles as marks. The filled dot is U+2022 '•', and the open dot is U+25E6 '◦'.
</dd>

	<dt>`circle@v</dt>
	<dd>
大きい丸を圏点0として表示する。
黒塗りの丸は `25CF^U ／
縁取りの丸は `25CB^U。
◎
Display large circles as marks. The filled circle is U+25CF '●', and the open circle is U+25CB '○'.
</dd>

	<dt>`double-circle@v</dt>
	<dd>
二重丸を圏点0として表示する。
黒塗りの二重丸は `25C9^U ／
縁取りの二重丸は `25CE^U 。
<span lang="en">
Display double circles as marks. The filled double-circle is U+25C9 '◉', and the open double-circle is U+25CE '~25CE'.
</span></dd>

	<dt>`triangle@v</dt>
	<dd>
三角を圏点0として表示する。
黒塗りの三角は `25B2^U ／
縁取りの三角は `25B3^U。
◎
Display triangles as marks. The filled triangle is U+25B2 '▲', and the open triangle is U+25B3 '△'.
</dd>

	<dt>`sesame@v</dt>
	<dd>
ゴマを圏点0として表示する。
黒塗りのゴマは `FE45^U ／
縁取りのゴマは `FE46^U。
◎
Display sesames as marks. The filled sesame is U+FE45 '﹅', and the open sesame is U+FE46 '﹆'.
</dd>

	<dt id="valdef-text-emphasis-style-string">`string$t</dt>
	<dd>
所与の文字列を圏点0として表示する。
作者は、この値に複数の`文字$（書記素~cluster）を指定するべきでない。
~UAは、そのような文字列を切落としたり無視してもよい。
◎
Display the given string as marks. Authors should not specify more than one character in &lt;string&gt;. The UA may truncate or ignore strings consisting of more than one grapheme cluster.
</dd></dl>

  
<p>
形状~keywordが指定されつつ，
`filled$v, `open$v
のいずれも指定されていない場合は、 `filled$v と見做される。
［
`filled$v ／ `open$v
］のみが指定されている場合の形状~keywordは、`横書き~mode$の下では `circle$v に,
`縦書き~mode$の下では `sesame$v に算出される。
◎
If a shape keyword is specified but neither of filled nor open is specified, filled is assumed. If only filled or open is specified, the shape keyword computes to circle in horizontal typographic modes and sesame in vertical typographic modes.
</p>


<p>
圏点0は、要素の~font設定群に加え， `ruby^p 特色機能も利用した上で、~size 50% に縮小して描かれるべきである。
これらの~glyphは，どの~fontも備えているとは限らず、これらの符号位置による圏点に不適切な~sizeを利用する~fontもある。
よって~UAは、任意選択で，圏点に適すると既知である~fontを利用して, あるいは~~代用の圏点0を合成してもよい。
圏点0は`縦書き~mode$においては正立に保たれ~MUST
— CJK 文字の様に，書字modeに合致するよう回転されることはない。
`縦組$における`横書き~mode$における圏点0の方位は、この~levelでは未定義とする（が、確たる利用事例が~~求められれば，将来の~levelで定義されるかもしれない）。
◎
The marks should be drawn using the element’s font settings with the addition of the ruby feature and the size scaled down 50%. However, since not all fonts have all these glyphs, and some fonts use inappropriate sizes for emphasis marks in these code points, the UA may opt to use a font known to be good for emphasis marks, or the marks may instead be synthesized by the UA. Marks must remain upright in vertical typographic modes: like CJK characters, they do not rotate to match the writing mode. The orientation of marks in horizontal typographic modes of vertical writing modes is undefined in this level (but may be defined in a future level if definitive use cases arise).
</p>

<p class="note">注記：
圏点に適する~fontの一例には、 Adobe の~opensource~project,
<a href="http://sourceforge.net/adobe/kenten-generic/">Kenten Generic OpenType Font</a>
が挙げられる。
これらは、圏点~用に特別に設計されている。
◎
One example of good fonts for emphasis marks is Adobe’s opensource project, Kenten Generic OpenType Font, which is specially designed for the emphasis marks.
</p>

<p>
圏点0は各`~typographic文字~単位$ごとに 1 個ずつ描かれる。
ただし、次に挙げる文字に対しては，圏点は描かれない：
◎
The marks are drawn once for each typographic character unit. However, emphasis marks are not drawn for characters that are:
</p>

<ul>
	<li>
`単語~分離子$, または~Unicode分離子~字類（ `Z*^uc ）に所属するもの（
ただし，圏点は、何らかの結合~文字と組合された~spaceに対しては，<em>描かれる</em>ことに注意。）
◎
Word separators or that belong to the Unicode separator classes (Z*). (But note that emphasis marks are drawn for a space that combines with any combining characters.)
</li>
	<li>
［
制御~codeや未割当ての文字
］用の~Unicode字類（ `Cc^uc, `Cf^uc, `Cn^uc ）に所属するもの。
◎
Characters belonging to the Unicode classes for control codes and unassigned characters (Cc, Cf, Cn).
</li>
</ul>


		</section>
		<section id="text-emphasis-color-property">
<h3 title="Emphasis Mark Color: the text-emphasis-color property">3.2. 圏点の色： `text-emphasis-color^p ~prop</h3>

◎名 `text-emphasis-color@p
◎値 `color$t
◎初 `currentcolor$v
◎適 すべての要素
◎継 される
◎百 利用不可
◎媒 視覚的
◎算 指定値
◎順 文法に従う
◎ア `色として$
◎表終


<p>
この~propは、圏点の前景~色を指定する。
◎
This property specifies the foreground color of the emphasis marks.
</p>

<p class="note">注記：
`currentcolor$v ~keywordは、それ自身に算出され, 継承が遂行された後に
`color$p の値に解決される。
これは、 `text-emphasis-color$p は，既定では
~textの `color$p に合致することを意味する
— `color$p が要素にわたって変化するときでも。
◎
The currentcolor keyword computes to itself and is resolved to the value of color after inheritance is performed. This means text-emphasis-color by default matches the text color even as color changes across elements.
</p>


		</section>
		<section id="text-emphasis-property">
<h3 title="Emphasis Mark Shorthand: the text-emphasis property">3.3. 圏点： `text-emphasis^p 略式~prop</h3>

◎名 `text-emphasis@p
◎値 `text-emphasis-style$tp || `text-emphasis-color$tp
◎初 個々の~propを見よ
◎適 個々の~propを見よ
◎継 個々の~propを見よ
◎百 個々の~propを見よ
◎媒 個々の~propを見よ
◎算 個々の~propを見よ
◎順 文法に従う
◎ア 個々の~propを見よ
◎表終
  
<p>
この~propは、
`text-emphasis-style$p, `text-emphasis-color$p
を一つの宣言で設定する略式~propである。
省略された値は、それぞれの初期値に設定される。
◎
This property is a shorthand for setting text-emphasis-style and text-emphasis-color in one declaration. Omitted values are set to their initial values.
</p>

<p class="note">注記：
この略式~propは、 `text-emphasis-position$p を再設定しない。
その~~理由は、文書~全体を通して，同じ`内容~言語$の下では、形状や色は概して変わる一方で，位置は一貫することが多いからである。
したがって，位置は独立に継承されるべきである。
◎
Note that text-emphasis-position is not reset in this shorthand. This is because typically the shape and color vary, but the position is consistent for a particular language throughout the document. Therefore the position should inherit independently.
</p>




		</section>
		<section id="text-emphasis-position-property">
<h3 title="Emphasis Mark Position: the text-emphasis-position property">3.4. 圏点の位置： `text-emphasis-position^p ~prop</h3>

◎名 `text-emphasis-position@p
◎値
[ `over$v | `under$v ] &amp;&amp; [ `right$v | `left$v ]?
◎初 `over$v `right$v
◎適 すべての要素
◎継 される
◎百 利用不可
◎媒 視覚的
◎算 指定値
◎順 文法に従う
◎ア 離散的
◎表終

<p>
この~propは、圏点がどこに描かれるかを述べる。
<span class="prod">[ `right$v | `left$v ]</span>
~~成分が省略された場合の既定は `right$v とする。
各種 値の意味は：
◎
This property describes where emphasis marks are drawn at. If [ right | left ] is omitted, it defaults to right. The values have following meanings:
</p>


<dl>
	<dt>`over@v</dt>
	<dd>
`横書き~mode$において圏点0たちを
~textの上面に描く。
◎
Draw marks over the text in horizontal typographic modes.
</dd>

	<dt>`under@v</dt>
	<dd>
`横書き~mode$において圏点0たちを
~textの下面に描く。
◎
Draw marks under the text in horizontal typographic modes.
</dd>

	<dt>`right@v</dt>
	<dd>
`縦書き~mode$において圏点0たちを
~textの右端に描く。
◎
Draw marks to the right of the text in vertical typographic modes.
</dd>

	<dt>`left@v</dt>
	<dd>
`縦書き~mode$において圏点0たちを
~textの左端に描く。
◎
Draw marks to the left of the text in vertical typographic modes.
</dd>
</dl>

<p>
圏点は、各~文字に，~ruby注解~textとして
— 正確に， `text-emphasis-position$p により与えられる~ruby位置に, ~ruby整列は中央寄せにされて —
あてがわれていたかのように描かれる。
この位置は、下線や上線による装飾と競合する場合には，調整され得ることに注意。
◎
Emphasis marks are drawn exactly as if each character was assigned the mark as its ruby annotation text with the ruby position given by text-emphasis-position and the ruby alignment as centered. Note that this position may be adjusted if it conflicts with underline or overline decorations.
</p>

<p>
行高に対する圏点の効果は、~ruby~textに対するときと同じである。
◎
The effect of emphasis marks on the line height is the same as for ruby text.
</p>


<div class="note">注記：

<p>
圏点に選好される位置は、`内容~言語$に依存する。
例えば、日本語において選好される位置は， `over right^v である。
中国語において選好される位置は、 `under right^v である。
下の参考の表に
中国語／日本語
に選好される圏点の位置を要約する：
◎
Note, the preferred position of emphasis marks depends on the language. In Japanese for example, the preferred position is over right. In Chinese, on the other hand, the preferred position is under right. The informative table below summarizes the preferred emphasis mark positions for Chinese and Japanese:
</p>

<table class="matrix" id="_preferred-emphasis-mark">
<caption>
選好される圏点と~rubyの位置
◎
Preferred emphasis mark and ruby position
</caption>

<thead><tr><th rowspan="2" scope="col">`内容~言語$◎ Language
<th colspan="2" scope="col">選好される位置◎ Preferred position
<tr><th>横書き◎ Horizontal
<th>縦書き◎ Vertical
</thead>

<tbody><tr><td>日本語／韓国語／~Mongolian
<td>`over$v
`text-emphasis-ja1^dgm

<td rowspan="2">`right$v
`text-emphasis-v^dgm

<tr><td>中国語
<td>`under$v
<br />
`text-emphasis-zh^dgm

</tbody></table>

<!-- 

<figure><figcaption>図 1. 横書き `over^v に選好される位置
</figcaption>
</figure>

<figure><figcaption>図 2. 横書き `under^v に選好される位置
</figcaption>
</figure>

<figure><figcaption>図 1. 縦書き に選好される位置
</figcaption>
</figure>
 -->

</div>




<p>
同じ位置に~rubyが描かれるような文字に 適用される圏点は、~rubyの外側に配置される。
これには［
<a href="~CSSRUBY#autohide">自動で隠される</a> ／ 空の
］`~ruby注釈$も含まれる。
◎
If emphasis marks are applied to characters for which ruby is drawn in the same position as the emphasis mark, the emphasis marks are placed outside the ruby. This includes auto-hidden and empty ruby annotations.
</p>



<figure>
`text-emphasis-ruby^dgm
<figcaption>
4 文字に適用される圏点
— うち 2 つは~rubyも伴う
◎
Emphasis marks applied to 4 characters, with ruby also on 2 of them
</figcaption></figure>


<div class="example">
<p>
~HTMLにおいては、次の~style規則で，~rubyと圏点が競合するときに圏点を隠すようにすることもできる：
◎
Some editors prefer to hide emphasis marks when they conflict with ruby. In HTML, this can be done with the following style rule:
</p>

<pre class="lang-css">
ruby { text-emphasis: none; }
</pre>

<p>
逆に~rubyの方を隠したいときは、次の~patternで行える：
◎
Some other editors prefer to hide ruby when they conflict with emphasis marks. In HTML, this can be done with the following pattern:
</p>

<pre class="lang-css">
em { text-emphasis: dot; } /* <span class="comment">
`em^e 要素に対する `text-emphasis$p を設定する
◎
Set text-emphasis for &lt;em&gt; elements
</span> */
em rt { display: none; }   /* <span class="comment">
`em^e 要素の内側の~rubyを隠す
◎
Hide ruby inside &lt;em&gt; elements
</span> */
</pre>

</div>

		</section>
	</section>
	<section id="text-shadow-property">
<h2 title="Text Shadows: the text-shadow property">4. ~textの影： `text-shadow^p ~prop</h2>


◎名 `text-shadow@p
◎値
`none^v | [ `color$t? &amp;&amp; `length$t{2,3} ]#
◎初 `none$v
◎適 すべての要素
◎継 される
◎百 利用不可
◎媒 視覚的
◎算
`length$t は絶対化され、
`color$t は `color$p ~propに対するときと同じに算出される。
他の成分は指定されたまま。
◎
any &lt;length&gt; made absolute; any specified color computed; otherwise as specified
◎順 文法に従う
◎ア `影~listとして$
◎表終


<p>
この~propは、要素の~textに適用する影~効果たちからなる, ~comma区切りの~listを受容する。
各~値は、
`box-shadow$p `CSS3BG$r
に対するとき同様に解釈される（ただし，影の拡幅~値と `inset$v ~keywordは許容されないことに注意）。
各~層は、［
要素の~textと そのすべての~text装飾
］を（複合したものを）影する。
影に色が指定されていない場合の既定は、 `currentcolor$v とする
— すなわち、影の色は要素の `color$p ~propからとられる。
◎
This property accepts a comma-separated list of shadow effects to be applied to the text of the element. Values are interpreted as for box-shadow [CSS3BG]. (But note that spread values and the inset keyword are not allowed.) Each layer shadows the element’s text and all its text decorations (composited together). If the color of the shadow is not specified, it defaults to currentColor, i.e. the shadow’s color is taken from the element’s color property.
</p>

<p>
影~効果は、最初の影が最上~層になるように，手前から奥の順に適用される。
したがって影は、互いに重なることはあっても，~textの上層に重ねられることは決してない。
影は［
要素の~borderや背景（もしあれば）
］と［
要素の~textや~text装飾
］の合間の積層~levelに塗られ~MUST。
~UAは、~text影を［
積層文脈の同じ積層~levelに所属している隣接の要素
］内の~textの上に塗らないようにするべきである。（これは、その影の正確な積層~levelが，要素が~borderや背景を持つかどうかに依存し得ることを意味する
— したがって、~text影を積層するときの正確な挙動は~UAにより定義される）。
所与の影~層が，各~glyphや装飾を独立に影するのか, ~textや装飾を平坦化してから影するのかは、未定義である。
◎
The shadow effects are applied front-to-back: the first shadow is on top. The shadows may thus overlay each other, but they never overlay the text itself. The shadow must be painted at a stack level between the element’s border and/or background, if present, and the elements text and text decoration. UAs should avoid painting text shadows over text in adjacent elements belonging to the same stack level and stacking context. (This may mean that the exact stack level of the shadows depends on whether the element has a border or background: the exact stacking behavior of text shadows is thus UA-defined.) It is undefined whether a given shadow layer shadows each glyph or decoration independently or if the text and/or decorations are flattened and then shadowed.
</p>

<p>
`box-shadow$p と違って、~text影は，影された形状で切取られない。
また、~textが半透明ならば，透過し得る。
`box-shadow$p と同様に、~text影は，~layoutに波及することはなく，~scroll~~処理を誘発したり ~scroll可能な区画の~sizeを増やすこともない。
◎
Unlike box-shadow, text shadows are not clipped to the shadowed shape and may show through if the text is partially-transparent. Like box-shadow, text shadows do not influence layout, and do not trigger scrolling or increase the size of the scrollable area.
</p>

<p class="note">注記：
ここに定義される影の塗り順序は、 1998 年の
<a href="http://www.w3.org/TR/1998/REC-CSS2-19980512">CSS2 勧告</a>
による定義の反対である。
◎
The painting order of shadows defined here is the opposite of that defined in the 1998 CSS2 Recommendation.
</p>

<p>
`text-shadow^p ~propは
`first-line^pe ／ `first-letter^pe
疑似要素にも適用される。
◎
The text-shadow property applies to both the ::first-line and ::first-letter pseudo-elements.
</p>

	</section>
	<section id="painting-order">
<h2 title="Painting Order of Text Decorations">5. ~text装飾の塗り順序</h2>

<p>
`CSS21$r にあるように、~text装飾は，それが装飾する~textの直上または直下の層に，次の順序で描かれる（最初が最下~層）：
◎
As in [CSS21], text decorations are drawn immediately over/under the text they decorate, in the following order (bottommost first):
</p>


<ul>
	<li>
影（ `text-shadow$p ）
◎
shadows (text-shadow)
</li>
	<li>
下線（ `text-decoration$p ）
◎
underlines (text-decoration)
</li>
	<li>
上線（ `text-decoration$p ）
◎
overlines (text-decoration)
</li>
	<li>
~text
◎
text
</li>
	<li>
圏点（ `text-emphasis$p ）
◎
emphasis marks (text-emphasis)
</li>
	<li>
取消線（ `text-decoration$p ）
◎
line-through (text-decoration)
</li></ul>


<p>
ここで、`装飾線$が
~box装飾／`不可分な行内$
をまたぐように描かれる所では、
`有位置$でない内容の上層, かつ
有位置の子孫（ CSS2.1 Appendix E の層 #8 ）の直ぐ下層に描かれる。
◎
Where line decorations are drawn across box decorations or atomic inlines, they are drawn over non-positioned content and just below any positioned descendants (immediately below layer #8 in CSS2.1 Appendix E).
</p>


	</section>
	<section id="acknowledgments">
<h2 title="Acknowledgments">付録 A. 謝辞</h2>

<p>
この仕様は、次の方々からの協力がなければ可能でなかった：
</p>

<p lang="en-x-a0">
This specification would not have been possible without the help from: Ayman Aldahleh, Bert Bos, Tantek Çelik, Stephen Deach, John Daggett, Martin Dürst, Laurie Anna Edlund, Ben Errez, Yaniv Feinberg, Arye Gittelman, Ian Hickson, Martin Heijdra, Richard Ishida, Masayasu Ishikawa, Michael Jochimsen, Eric LeVine, Ambrose Li, Håkon Wium Lie, Chris Lilley, Ken Lunde, Nat McCully, Shinyu Murakami, Paul Nelson, Chris Pratley, Marcin Sawicki, Arnold Schrijver, Rahul Sonnad, Michel Suignard, Takao Suzuki, Frank Tang, Chris Thrasher, Etan Wexler, Chris Wilson, Masafumi Yabe and Steve Zilles.
</p>



	</section>
	<section id="default-stylesheet">
<h2 title="Appendix C: Default UA Stylesheet">付録 B. 既定の~UA~stylesheet</h2>

<p>
この付録は参考であり、~UA開発者が既定の~stylesheetを実装する助けとして用意されているが、~UA開発者が，これを無視する／変更するのも自由である。
◎
This appendix is informative, and is to help UA developers to implement default stylesheet, but UA developers are free to ignore or change.
</p>

<div class="example">

<pre class="lang-css">
/* <span class="comment">
~HTMLにおける代表的な~style付け
◎
代表的typical styling of HTML
</span> */

blink {
  text-decoration-line: blink;
}
s, strike, del {
  text-decoration: line-through;
}
u, ins, :link, :visited {
  text-decoration: underline;
}
abbr[title], acronym[title] {
  text-decoration: dotted underline;
}

/* <span class="comment">
~text圏点の~ruby~textへの継承を不能化する：
圏点は、基底~textのみに適用されるべきなので
◎
disable inheritance of text-emphasis marks to ruby text: emphasis marks should only apply to base text
</span> */

rt {
   text-emphasis: none;
}

/* <span class="comment">
各 言語に適切な既定の圏点~位置を設定する
◎
set language-appropriate default emphasis mark position
</span> */
:root:lang(zh), [lang|=zh] {
   text-emphasis-position: under right;
}
[lang|=ja],
[lang|=ko] {
   text-emphasis-position: over right;
}

/* <span class="comment">
各 言語に適切な既定の下線~位置を設定する
◎
set language-appropriate default underline position
</span> */
:root:lang(ja), [lang|=ja],
:root:lang(mn), [lang|=mn],
:root:lang(ko), [lang|=ko] {
   text-underline-position: auto right;
}
:root:lang(zh), [lang|=zh] {
   text-underline-position: auto left;
}
/* <span class="comment">
上で `under^v に代えて `auto^v が利用されているのは、内容~互換性の懸念に因る。
◎
auto is used above instead of under due to content-compatibility concerns
</span> */
[lang]:not([lang|=zh], [lang|=ja], [lang|=ko], [lang|=mn]) {
   text-underline-position: auto;
}
</pre>

</div>

<p class="issue">
~~問題を見つけた, あるいは
追加すべき推奨や訂正があれば、件名に
<kbd>[css-text-decor]</kbd> を添えて
<a href="#_send_feedback">www-style@w3.org</a>
宛まで送信されたし。
◎
If you find any issues, recommendations to add, or corrections, please send the information to www-style@w3.org with [css-text-decor] in the subject line.
</p>

<div class="example">
<p>
`text-decoration-line$p に対する `blink^v 値は、他の既存の~propでは 全部的には再現できないが，作者は 次の~CSSでごく似た効果を得られる：
◎
While text-decoration-line: blink can’t be fully reproduced with other existing properties, authors can achieve a very similar effect with the following CSS:
</p>


<pre class="lang-css">
@keyframes blink {
  0% {
    visibility: hidden;
    animation-timing-function: step-end;
  }
  25%, 100% {
    visibility: visible;
  }
}
blink {
  animation: blink 1s infinite;
}
</pre>

</div>

	</section>
	<section id="changes">
<h2 title="Appendix B: Changes">付録 C. 変更点</h2>


<p id="recent-changes">
<a href="https://www.w3.org/TR/2013/CR-css-text-decor-3-20130801/">2013 年 8 月 勧告候補</a>
からの有意な変更点には以下のものが含まれる：
◎
Changes since the August 2013 Candidate Recommendation
◎
Significant changes include:
</p>

<ul>
	<li>
`text-decoration-skip$p は，大きな変更を可能にするため~Level 4 に先送りされた。
挙動~上の既定は注釈文にて定義した。
（ `1^issueCR, `22^issueCR, `26^issueCR ）
◎
Deferred text-decoration-skip to Level 4 to allow for major changes. Defined behavioral defaults in prose. (Issue 1, Issue 22, Issue 26)
</li>
	<li>
~ink箇所を飛ばす特色機能は、取消線には影響しないことを指定した。
（ `24^issueCR ）
◎
Specified that line-throughs are unaffected by ink-skipping feature. (Issue 24) 
</li>
	<li>
~inkが飛ばされるときは、線の末端形状を~glyph形状に適合させることを推奨した。
（ `30^issueCR ）
◎
Recommended that when ink is skipped, line endings conform to the glyph shape.
</li>
	<li>
`writing-mode$p ~propに追加された `sideways-lr$v, `sideways-rl$v 値を織り込むため、書字modeに基づく条件を，`~typographic~mode$に依存するように更新した。
これらの値の下での圏点の方位は未定義とした。
（ `10^issueCR, `20^issueCR ）
◎
Updated writing-mode–sensitive conditions to depend on typographic mode, to account for addition of sideways-lr and sideways-rl values to writing-mode property. Marked orientation of emphasis marks under sideways-lr and sideways-rl undefined. (Issue 10, Issue 20)
</li>
	<li>
`text-emphasis-position$p の
<span class="prod">[ `right^v | `left^v ]</span>
~~成分は省略可能, 既定は `right^v とした。
（ `17^issueCR ）
◎
Made [ right | left ] option of text-emphasis-position optional, defaulting to right. (Issue 17)
</li>
	<li>
`text-underline-position$p に
`left^v ／ `right^v
のみが指定されている場合は、
`under^v に代えて `auto^v を含意するようにした。
（ `18^issueCR ）
◎
Made text-underline-position imply auto instead of under when only left or right is specified. (Issue 18)
</li>
	<li>
~text装飾は頭部／尾部の空間は飛ばすように変更した。
（ `6^issueCR ）
◎
Changed text decoration to skip leading and trailing spaces. (Issue 6)
</li>
	<li>
`text-shadow$p の初期値を `currentcolor$v に変更した。
（ `28^issueCR ）
◎
Changed initial value of text-shadow to be currentColor. (Issue 28)
</li>
	<li>
`text-shadow$p に対する “算出値” の欄を修正した。
（ `7^issueCR ）
◎
Fixed “Computed value” line for text-shadow. (Issue 7)
</li>
	<li>
`text-emphasis-position$p ／ `text-underline-position$p
用の既定の~UA規則に対する各種~訂正。
（ `11^issueCR, `18^issueCR, `19^issueCR, `36^issueCR）
◎
Various corrections to the default UA rules for text-emphasis-position and text-underline-position. (Issue 11, Issue 18, Issue 19, Issue 36)
</li>
	<li>
圏点の~fontに `ruby^css を適用する規則を追加した。
（ `13^issueCR ）
◎
Added rule to apply ruby to emphasis marks' font. (Issue 13)
</li>
	<li>
`text-decoration$p に
`spelling-error^v, `grammar-error^v
値を追加した（ ~risk下とされている）。
◎
Added the spelling-error and grammar-error values to text-decoration (marked at risk). 
</li>
</ul>


	</section>
</main></div>
