<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<title>Navigation Timing — ナビゲーションの計時（日本語訳）</title>

<link rel="stylesheet" href="common.css" type="text/css" />
<link rel="stylesheet" href="common-w3c.css" type="text/css" />
<script src="common0.js" ></script>
<script src="common1.js" async></script>


<!--% 訳文 id → 原文 id -->
<script type="text/plain" id="_original_id_map">
redirect-or-equivalents:
GET-or-equivalents:

Performance:performance
PerformanceTiming:performancetiming
PerformanceNavigation:performancenavigation

dom-PerformanceTiming-domContentLoadedEventStart:dom-performancetiming-domcontenteventstart
dom-PerformanceTiming-domContentLoadedEventEnd:dom-performancetiming-domcontenteventend
dom-PerformanceTiming-loadEventStart:dom-performancetiming-loadstart
dom-PerformanceTiming-loadEventEnd:dom-performancetiming-loadend
dom-PerformanceTiming-secureConnectionStart:dom-performancetiming-secureconnectstart

dom-PerformanceNavigation-TYPE_NAVIGATE:dom-performancenavigation-typenavigate
dom-PerformanceNavigation-TYPE_RELOAD:dom-performancenavigation-typereload
dom-PerformanceNavigation-TYPE_BACK_FORWARD:dom-performancenavigation-typebackforward
dom-PerformanceNavigation-TYPE_RESERVED:dom-performancenavigation-typereserved

dom-Performance-timing:performance-timing-attribute
dom-Performance-navigation:performance-navigation-attribute
</script>


<script>
COMMON_DATA.init = function(expanded){

	return {
		original_url: 'http://www.w3.org/TR/2012/REC-navigation-timing-20121217/',
		spec_status: 'REC',
		main: 'MAIN',
		toc: 'table-of-contents',
		alt_refs: 'references',
		word_switch: 'replace_table',
		hash_case_modified: 'dt'
	};
}


function get_timing_data(){
	var timing = performance && performance.timing
	if(!timing) return '利用中のブラウザでは window.performance.timing はサポートされていないようです。';
	var s = [];
	var t0 = timing.navigationStart || NaN;
	for(var k in timing){
		var t = timing[k];
		if(isNaN(t)) continue;// exclude toJSON prop etc.
//		s.push( (k + '                      ').slice(0, 30) +
//			': ' + t + ' (' + (t - t0) + ')');
		s.push(
			(k + ' ....................').slice(0, 29)
			+ '. '
			+ ('' + t)
			+ ' ('
			+ (t - t0)
			+ ')'
		);

	}
	return s.join('\n');
}

</script>

<!--%style 

code :link, code :visited { color:inherit }
dfn { font-weight:bold; font-style:normal }
-->


<style >
code > dfn {color: inherit; background-color: #FFC;}
dt > code,
code[class] {
    color:  #c00;
}


pre a[href^="#"] {
	border-bottom: 1px dotted black;
}

</style>

<!-- 
a:not([href]) {
	outline: solid red 1px;
}

dl[class^="_"] dt code,
code[class^="_"] {
	color: maroon;
}

 -->

</head>

<body>


<aside class="trans-meta">
<h1>Navigation Timing 日本語訳</h1>
<p>
<a id="_THIS_PAGE">このページ</a>
は、
<a href="http://www.w3.org/">W3C</a> により，
2012 年 12 月 17 日付 <strong >勧告</strong>として公開された
<a href="http://www.w3.org/TR/2012/REC-navigation-timing-20121217/">Navigation Timing</a>
を日本語に翻訳したものです。
<strong >この翻訳の正確性は保証されません。</strong>
この仕様の公式な文書は英語版であり、この日本語訳は公式のものではありません。
【 と 】で囲まれた部分は<span class="trans-note">【訳者による注釈】</span>です。
（<a href="index.html">他のウェブ関連仕様の一覧と共通機能の詳細</a>）
</p>

<p >
更新： <time>2014-01-19</time>
（公開：<time>2012-10-03</time> ）
</p>

<p>
本文ダブルクリックで当該箇所の原文が表示されます（左下隅に各種 表示切替ボタン — CSS や DOM の対応が古いブラウザでは、一部機能しないことがあります）。
</p>

<address id="_CONTACT">　</address>

</aside>


<header>

<div><a href="http://www.w3.org/" id="_W3C">W3C</a></div>

<h1>Navigation Timing — ナビゲーションの計時</h1>

<h2 title="W3C Recommendation 17 December 2012">2012 年 12 月 17 日付 W3C 勧告</h2>

<dl>
	<dt title="This version:">このバージョン</dt>
	<dd><a href="http://www.w3.org/TR/2012/REC-navigation-timing-20121217/">http://www.w3.org/TR/2012/REC-navigation-timing-20121217/</a></dd>
	<dt title="Latest version:">最新バージョン</dt>
	<dd><a href="http://www.w3.org/TR/navigation-timing/">http://www.w3.org/TR/navigation-timing/</a></dd>
	<dt title="Previous version:">以前のバージョン</dt>
	<dd><a href="http://www.w3.org/TR/2012/PR-navigation-timing-20120726/">http://www.w3.org/TR/2012/PR-navigation-timing-20120726/</a></dd>
	<dt title="Editors:">編集</dt>
	<dd class="vcard"><span class="fn">Zhiheng Wang</span> (<span class="org">Google Inc.</span>) &lt;<a class="email" href="mailto:zhihengw@google.com">zhihengw@google.com</a>&gt; </dd>
</dl>


<p>
公式の修正も含まれ得る，この文書の
<a href="http://www.w3.org/2012/12/navigation-timing-errata.html"><strong>正誤表</strong></a>
も参照されたし。
<span class="trans-note">【
この訳には，冒頭に記した更新日現在の正誤表による修正も統合されている。
】</span>
<span lang="en">
Please refer to the errata for this document, which may include some normative corrections.
</span></p>

<p>
<a href="http://www.w3.org/2003/03/Translations/byTechnology?technology=navigation-timing">各国語翻訳</a>
<span lang="en">
See also translations.
</span></p>

<small class="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>
© 2012 <a href="http://www.w3.org/"><abbr title="World Wide Web
Consortium">W3C</abbr></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute
of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium
for Informatics and Mathematics">ERCIM</abbr></a>, <a href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
<a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a>
and <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document
use</a> rules apply.</small>

</header>

<section id="abstract">
<h2 title="Abstract">要約</h2>

<p>
この仕様は、 Web アプリケーションがナビゲーション（ページ遷移）とその主要素に関する計時情報にアクセスするためのインタフェースを規定する。
<span lang="en">
This specification defines an interface for web applications to access timing information related to navigation and elements.
</span></p>

</section>
<section id="status-of-this-document">
<h2 title="Status of this document">この文書の位置付け</h2>

<p>
<em>この節では、発行時点における…</em>
<span class="trans-note">【
以下、この節の他の内容は
<a href="w3c-common-ja.html#status" >W3C 日本語訳 共通ページ</a>
に委譲
】</span></p>

<p>
これは W3C 勧告（ Recommendation ） "Navigation Timing Specification" です。
勧告候補の段階で 2012 年に作成された，
<a href="http://w3c-test.org/webperf/tests/#navigation_timing">Navigation Timing テストスイート</a>
に基づく
<a href="http://www.w3.org/2011/03/navigation-timing-report">実装報告</a>
が入手できます。
<span lang="en">
This is the W3C Recommendation for "Navigation Timing Specification". An implementation report, produced during the Candidate Recommendation phase in 2012, is available based on the Navigation Timing test suite.
</span></p>

<p>
コメントがあれば、件名の先頭に
<samp>[NavigationTiming]</samp>
と記した上で
<a href="mailto:public-web-perf@w3.org?subject=%5BNavigationTiming%5D%20">public-web-perf@w3.org</a>
(<a href="http://lists.w3.org/Archives/Public/public-web-perf/">archived</a>)
宛まで送られるよう願います。
<span lang="en">
Please send comments to public-web-perf@w3.org (archived) with [NavigationTiming] at the start of the subject line.
</span></p>

<p>
この文書は
<a href="http://www.w3.org/2010/webperf/">Web Performance</a>
Working Group により制作されました。
以前の草案との
<a href="http://www.w3.org/TR/navigation-timing/diff.html">差分</a>
も用意されています。
<span lang="en">
This document is produced by the Web Performance Working Group. A diff document with the previous draft is available.
</span></p>

</section>

<nav class="toc" id="table-of-contents">
<h2>目次</h2>

<!-- to be replaced with generated content --></nav>


<main id="MAIN">

<section id="introduction">
<h2 title="Introduction">1. 序論</h2>

<p>
この節は規定ではない。
<span lang="en">
This section is non-normative.
</span></p>

<p>
利用者が知覚し得る遅延は、 Web アプリケーションにとり重要な品質ベンチマークである。
<a href="#JSMeasure">[JSMEASURE]</a>
などの，スクリプトに基づく仕組みは、アプリケーションにおける利用者遅延を測定するための包括的な手段を提供し得る一方で、大方の事例では，エンドツーエンドにおける遅延の完全な様相を提供できない。
<span lang="en">
User latency is an important quality benchmark for Web Applications. While script-based mechanisms, such as the one described in [JSMEASURE], can provide comprehensive instrumentation for user latency measurements within an application, in many cases, they are unable to provide a complete end-to-end latency picture.
</span></p>

<div class="example">
<p>
例えば 次のスクリプトは、単純な方法により，ページが全部的に読み込まれるまでの時間の測定を試行する：
<span lang="en">
For example, the following script shows a naive attempt to measure the time it takes to fully load a page:
</span></p>
<pre>&lt;html&gt;
&lt;head&gt;
&lt;script type="text/javascript"&gt;

var start = new Date().getTime();
function onLoad() {
  var now = new Date().getTime();
  var latency = now - start;
  alert("page loading time: " + latency);
}

&lt;/script&gt;
&lt;/head&gt;
&lt;body onload="onLoad()"&gt;
&lt;!- <span title="Main page body goes from here.">ページの主内容</span> --&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>

<p>
スクリプトは head タグ内の JavaScript の最初の文が実行された<strong >直後</strong>から，ページが読み込まれるまでの時間は算出するが、サーバからページの検索取得に要した時間についての情報は供さない。
<span lang="en">
The script calculates the time it takes to load the page after the first bit of JavaScript in the head is executed, but it does not give any information about the time it takes to get the page from the server.
</span></p>

<p>
利用者体験についての完全な情報を得る必要性を解決するため、この文書は
<a><code>PerformanceTiming</code></a>
インタフェースを導入する。
このインタフェースは、 JavaScript による，アプリケーションにおけるクライアント側の完全な遅延測定の仕組みを提供できるようにする。
この仕様に提案されるインタフェースを用いれば、前の例を，利用者が感知し得るページ読み込み時間を測定するものに仕立て上げられる。
<span lang="en">
To address the need for complete information on user experience, this document introduces the PerformanceTiming interfaces. This interface allows JavaScript mechanisms to provide complete client-side latency measurements within applications. With the proposed interface, the previous example can be modified to measure a user's perceived page load time.
</span></p>

<div class="example">
<p>
次のスクリプトは、直近のナビゲーションからページが読み込まれるまでの時間を算出する：
<span lang="en">
The following script calculates how much time to load a page since the most recent navigation.
</span></p>

<pre>&lt;html&gt;
&lt;head&gt;
&lt;script type="text/javascript"&gt;
function onLoad() {
  var now = new Date().getTime();
  var page_load_time = now - <em >performance.timing.navigationStart</em>;
  alert("利用者に知覚されるページ読み込み時間： " + page_load_time);
}<!-- User-perceived page loading time: -->

&lt;/script&gt;
&lt;/head&gt;
&lt;body onload="onLoad()"&gt;
&lt;!-- <span title="Main page body goes from here.">ページの主内容</span> --&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>

</div>

<p>
この仕様で提供されるインタフェースは、 UA のいかなる種類のパフォーマンス ベンチマークへの利用も意図するものではない。
<span lang="en">
The interface provided by this work does not intend to be used as any sort of performance benchmark for user agents.
</span></p>

</section>
<section id="conformance-requirements">
<h2 title="Conformance requirements">2. 適合性の要件</h2>

<p class="trans-note">【
この節の内容は
<a href="w3c-common-ja.html#conformance" >W3C 日本語訳 共通ページ</a>
に委譲
】</p>

</section>
<section id="terminology">
<h2 title="Terminology">3. 語法</h2>

<p>
<span class="trans-note">【
以下、この節の他の内容は
<a href="w3c-common-ja.html#terminology" >W3C 日本語訳 共通ページ</a>
に委譲
】</span></p>

<p>
語 “ナビゲーション” は
<a href="http://www.w3.org/TR/html5/browsers.html#navigate">navigating</a>
（ページ遷移）の動作を指す。
<span lang="en">
The term "navigation" refers to the act of navigating.
</span></p>

<p id="_measured-since">
この仕様を通して、時刻は 1970 年 1 月 1 日 0 時 0 分 0 秒 (UTC) を起点としてミリ秒­単位で計測されるものとする。
注記：
Navigation Timing 2 仕様
<a href="#NavigationTiming2">[Navigation Timing 2]</a>
では、代わりにサブミリ秒
<span class="trans-note">【具体的にはミリ秒の 1/1000 】</span>
の解像度による，ナビゲーションに関連する計時情報へのアクセスが可能にされている。
<span lang="en">
Throughout this work, time is measured in milliseconds since midnight of January 1, 1970 (UTC). Note that the Navigation Timing 2 specification [Navigation Timing 2] allows access to timing information related to navigation using sub-milliseconds resolution instead.
</span></p>


<p>
<span class="trans-note">【
簡潔に記すため、この訳では，次の非公式な用語を導入する：
】</span>
<dfn id="redirect-or-equivalents">リダイレクト等</dfn>
とは、
HTTP リダイレクトまたは（他のプロトコルにおける）
<a href="http://www.w3.org/TR/html5/infrastructure.html#concept-http-equivalent-codes">それに等価なもの</a>
を指す総称である。
<dfn id="GET-or-equivalents">GET 等</dfn>
とは、 HTTP GET または（他のプロトコルにおける）
<a href="http://www.w3.org/TR/html5/infrastructure.html#concept-http-equivalent-get">それに等価なもの</a>
を指す総称である。
</p>


</section>
<section id="sec-navigation-timing">
<h2 title="Navigation Timing">4. ナビゲーションの計時</h2>

	<section id="sec-navigation-timing-introduction">
<h3 title="Introduction">4.1. 概要</h3>

<p>
この節は規定ではない。
<span lang="en">
This section is non-normative
</span></p>

<p>
この仕様は、 Web アプリケーションに計時に関係する情報を提供するインタフェースを導入する。
Web アプリケーションがこれらのインタフェースから供される情報をどのように収集, 記憶, 報告するかについては、この仕様の対象外である。
<span lang="en">
This specification introduces an interface that provides Web applications with timing-related information. This specification does not cover how Web applications leverage these interfaces to collect, store and report the provided information.
</span></p>

	</section>
	<section id="sec-navigation-timing-interface">
<h3 title="The PerformanceTiming interface">4.2. <code>PerformanceTiming</code> インタフェース</h3>
<pre class="idl" id="_PT"
>interface <dfn id="PerformanceTiming">PerformanceTiming</dfn> {
  readonly attribute unsigned long long <a>navigationStart</a>;
  readonly attribute unsigned long long <a>unloadEventStart</a>;
  readonly attribute unsigned long long <a>unloadEventEnd</a>;
  readonly attribute unsigned long long <a>redirectStart</a>;
  readonly attribute unsigned long long <a>redirectEnd</a>;
  readonly attribute unsigned long long <a>fetchStart</a>;
  readonly attribute unsigned long long <a>domainLookupStart</a>;
  readonly attribute unsigned long long <a>domainLookupEnd</a>;
  readonly attribute unsigned long long <a>connectStart</a>;
  readonly attribute unsigned long long <a>connectEnd</a>;
  readonly attribute unsigned long long <a>secureConnectionStart</a>;
  readonly attribute unsigned long long <a>requestStart</a>;
  readonly attribute unsigned long long <a>responseStart</a>;
  readonly attribute unsigned long long <a>responseEnd</a>;
  readonly attribute unsigned long long <a>domLoading</a>;
  readonly attribute unsigned long long <a>domInteractive</a>;
  readonly attribute unsigned long long <a>domContentLoadedEventStart</a>;
  readonly attribute unsigned long long <a>domContentLoadedEventEnd</a>;
  readonly attribute unsigned long long <a>domComplete</a>;
  readonly attribute unsigned long long <a>loadEventStart</a>;
  readonly attribute unsigned long long <a>loadEventEnd</a>;
};</pre>

<div class="_test">
【利用中のブラウザで、このページについて，これらの属性値の
<button type="button" onclick="this.parentNode.lastElementChild.textContent = get_timing_data()">取得<!--0-->を試みる</button>
（括弧内は navigationStart との差分）／
<small>
リダイレクトの計時も取得<!--0-->する場合は<a href="./navigation-timing-redirect#sec-navigation-timing-interface">このリンク</a>から ／
他ページでも利用できる<a href="javascript:(function(timing){if(!timing)return;var%20s=[],t0=timing.navigationStart,t,k,pre;for(k%20in%20timing){t=timing[k];if(isNaN(t))continue;s.push((k+'%20......................').slice(0,30)+'%20'+t+'%20('+(t-t0)+')');}pre=document.createElement('pre');pre.textContent=s.join('\n');document.body.appendChild(pre);pre.scrollIntoView();})(performance&amp;&amp;performance.timing)" >ブックマークレット</a>（ブラウザのセキュリティ­ポリシーによっては，アドレスバーからは動作不可。機能未サポートの場合は何もしない。）</small>
】
<pre></pre></div>


<dl class="_PT">
	<dt id="dom-PerformanceTiming-navigationStart"><code>navigationStart</code> 属性</dt>
	<dd>
<p>
この属性は、 UA が前の文書の
<a href="http://www.w3.org/TR/html5/browsers.html#prompt-to-unload-a-document">prompting to unload</a>
を終了した直後の時刻を返さなければならない。
前の文書が存在しない場合、この属性は
<del><code class="_PT">fetchStart</code> と同じ値</del>
<ins >現在の文書が作成された時刻</ins>
を返さなければならない。
<span class="trans-note">【
<a href="http://www.w3.org/2012/12/navigation-timing-errata.html">正誤表</a>
による修正】</span>
<span lang="en">
This attribute must return the time immediately after the user agent finishes prompting to unload the previous document. If there is no previous document, this attribute must return <del >the same value as fetchStart</del>
<ins >the time the current document is created.</ins>.
</span></p>

	</dd>

	<dt id="dom-PerformanceTiming-unloadEventStart"><code>unloadEventStart</code> 属性</dt>
	<dd>
<p>
前の文書と現在の文書が同じ<a>生成元</a>
<a href="#rfc6454">[RFC 6454]</a>
に属する場合、この属性は UA が前の文書の
<a href="http://www.w3.org/TR/html5/browsers.html#unloading-documents">unload</a>
イベントを開始する直前の時刻を返さなければならない。
前の文書が存在しない，または前の文書が現在の文書と異なる<a>生成元</a>に属する場合、この属性はゼロを返さなければならない。
<span lang="en">
If the previous document and the current document have the same origin [IETF RFC 6454], this attribute must return the time immediately before the user agent starts the unload event of the previous document. If there is no previous document or the previous document has a different origin than the current document, this attribute must return zero.
</span></p>

	</dd>

	<dt id="dom-PerformanceTiming-unloadEventEnd"><code>unloadEventEnd</code> 属性</dt>
	<dd>
<p>
前の文書と現在の文書が同じ<a>生成元</a>に属する場合、この属性は UA が前の文書の
<a href="http://www.w3.org/TR/html5/browsers.html#unload-a-document">unload</a>
イベントを終了した直後の時刻を返さなければならない。
前の文書が存在しない，または前の文書が現在の文書と異なる<a>生成元</a>に属する，あるいは前の文書の unload が完了していない場合、この属性はゼロを返さなければならない。
<span lang="en">
If the previous document and the current document have the same same origin, this attribute must return the time immediately after the user agent finishes the unload event of the previous document. If there is no previous document or the previous document has a different origin than the current document or the unload is not yet completed, this attribute must return zero.
</span></p>

<p>
ナビゲーションの際に<a>リダイレクト等</a>があって, かつ その中に互いに異なる<a>生成元</a>に属する<a>リダイレクト等</a>がある場合、
<code class="_PT">unloadEventStart</code>
と
<code class="_PT">unloadEventEnd</code>
は，いずれもゼロを返さなければならない。
<span lang="en">
If there are HTTP redirects or equivalent when navigating and not all the redirects or equivalent are from the same origin, both unloadEventStart and unloadEventEnd must return the zero.
</span></p>

	</dd>

	<dt id="dom-PerformanceTiming-redirectStart"><code>redirectStart</code> 属性</dt>
	<dd>
<p>
ナビゲーションの際に<a>リダイレクト等</a>があって, かつ
すべての<a>リダイレクト等</a>が同じ<a>生成元</a>に属する場合、この属性は，そのリダイレクトを生じさせたリソース取得の<a href="#dom-PerformanceTiming-fetchStart">開始 時刻</a>を返さなければならない。
他の場合、この属性はゼロを返さなければならない。
<span lang="en">
If there are HTTP redirects or equivalent when navigating and if all the redirects or equivalent are from the same origin, this attribute must return the starting time of the fetch that initiates the redirect. Otherwise, this attribute must return zero.
</span></p>

	</dd>

	<dt id="dom-PerformanceTiming-redirectEnd"><code>redirectEnd</code> 属性</dt>
	<dd>
<p>
ナビゲーションの際に<a>リダイレクト等</a>があって, かつ
すべての<a>リダイレクト等</a>が同じ<a>生成元</a>に属する場合、この属性は，その最後のリダイレクトの応答の最後のバイトを受信した直後の時刻を返さなければならない。
他の場合、この属性はゼロを返さなければならない。
<span lang="en">
If there are HTTP redirects or equivalent when navigating and all redirects and equivalents are from the same origin, this attribute must return the time immediately after receiving the last byte of the response of the last redirect. Otherwise, this attribute must return zero.
</span></p>

	</dd>

	<dt id="dom-PerformanceTiming-fetchStart"><code>fetchStart</code> 属性</dt>
	<dd>
<p>
<a>GET 等</a>を用いて新たなリソースが<a>取得</a>された場合、
<code class="_PT">fetchStart</code> は UA が
<a>関連のアプリケーションキャッシュ</a>の検査を開始する直前の時刻を返さなければならない。
他の場合、 UA がリソースの<a>取得</a>を開始した時刻を返さなければならない。
<span lang="en">
If the new resource is to be fetched using HTTP GET or equivalent, fetchStart must return the time immediately before the user agent starts checking any relevant application caches. Otherwise, it must return the time when the user agent starts fetching the resource.
</span></p>

	</dd>

	<dt id="dom-PerformanceTiming-domainLookupStart"><code>domainLookupStart</code> 属性</dt>
	<dd>
<p>
この属性は、現在の文書のドメイン名検索を開始する直前の時刻を返さなければならない。
<a>持続的­接続</a>
<a>[RFC 2616]</a>
が利用されている，または
現在の文書が<a>関連のアプリケーションキャッシュ</a>や局所リソースから検索取得されている場合、この属性は
<code class="_PT">fetchStart</code>
と同じ値を返さなければならない。
<span lang="en">
This attribute must return the time immediately before the user agent starts the domain name lookup for the current document. If a persistent connection [RFC 2616] is used or the current document is retrieved from relevant application caches or local resources, this attribute must return the same value as fetchStart.
</span></p>

	</dd>

	<dt id="dom-PerformanceTiming-domainLookupEnd"><code>domainLookupEnd</code> 属性</dt>
	<dd>
<p>
この属性は、 UA が現在の文書に対するドメイン名検索を終了した直後の時刻を返さなければならない。
<a>持続的­接続</a>
<a>[RFC 2616]</a>
が利用されている，または
現在の文書が<a>関連のアプリケーションキャッシュ</a>や局所リソースから検索取得されている場合、この属性は
<code class="_PT">fetchStart</code>
と同じ値を返さなければならない。
<span lang="en">
This attribute must return the time immediately after the user agent finishes the domain name lookup for the current document. If a persistent connection [RFC 2616] is used or the current document is retrieved from relevant application caches or local resources, this attribute must return the same value as fetchStart.
</span></p>

<div class="example">
<p>
この節は規定ではない。
<span lang="en">
This section is non-normative.
</span></p>
<p>
<a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html#sec13">HTTP キャッシュ</a>
<a>[RFC 2616]</a>
からの内容の 検査と検索取得は<a href="http://www.w3.org/TR/html5/infrastructure.html#fetching-resources">取得処理</a>の一部である。
それは
<code class="_PT">requestStart</code>,
<code class="_PT">responseStart</code>,
<code class="_PT">responseEnd</code>
属性の対象である。
<span lang="en">
Checking and retrieving contents from the HTTP cache [RFC 2616] is part of the fetching process. It's covered by the requestStart, responseStart and responseEnd attributes.
</span></p>
</div>

<div class="example">
<div class="exampleHeader">例</div>

<p>
UA がキャッシュ内にドメイン情報をすでに持っている場合、
<code class="_PT">domainLookupStart</code> と <code class="_PT">domainLookupEnd</code>
は，それぞれ， UA によるキャッシュからのドメイン­データの検索取得の開始と終了の時刻を表現する。
<span lang="en">
In case where the user agent already has the domain information in cache, domainLookupStart and domainLookupEnd represent the times when the user agent starts and ends the domain data retrieval from the cache.
</span></p>

</div>

	</dd>

	<dt id="dom-PerformanceTiming-connectStart"><code>connectStart</code> 属性</dt>
	<dd>
<p>
この属性は、 UA が文書を検索取得するためのサーバへの接続の確立を開始する直前の時刻を返さなければならない。
<a>持続的­接続</a>
<a>[RFC 2616]</a>
が利用されている，または
現在の文書が<a>関連のアプリケーションキャッシュ</a>や局所リソースから検索取得されている場合、この属性は
<code class="_PT">domainLookupEnd</code>
と同じ値を返さなければならない。
<span lang="en">
This attribute must return the time immediately before the user agent start establishing the connection to the server to retrieve the document. If a persistent connection [RFC 2616] is used or the current document is retrieved from relevant application caches or local resources, this attribute must return value of domainLookupEnd.
</span></p>

	</dd>

	<dt id="dom-PerformanceTiming-connectEnd"><code>connectEnd</code> 属性</dt>
	<dd>
<p>
この属性は、 UA が文書を検索取得するためのサーバへの接続の確立を終了した直後の時刻を返さなければならない。
<a>持続的­接続</a>
<a>[RFC 2616]</a>
が利用されている，または
現在の文書が<a>関連のアプリケーションキャッシュ</a>や局所リソースから検索取得されている場合、この属性は
<code class="_PT">domainLookupEnd</code>
と同じ値を返さなければならない。
<span lang="en">
This attribute must return the time immediately after the user agent finishes establishing the connection to the server to retrieve the current document. If a persistent connection [RFC 2616] is used or the current document is retrieved from relevant application caches or local resources, this attribute must return the value of domainLookupEnd
</span></p>

<p>
transport 接続が失敗し, かつ UA が接続を再オープンした場合、
<code class="_PT">connectStart</code>
と
<code class="_PT">connectEnd</code>
は，新たな接続に対応する値を返すべきである。
<span lang="en">
If the transport connection fails and the user agent reopens a connection, connectStart and connectEnd should return the corresponding values of the new connection.
</span></p>
<p>

<code class="_PT">connectEnd</code>
には、 SSL ハンドシェイクや SOCKS 認証も含めて， transport 接続の確立に要した時間も含まれなければならない。
<span lang="en">
connectEnd must include the time interval to establish the transport connection as well as other time interval such as SSL handshake and SOCKS authentication.
</span></p>

	</dd>

	<dt id="dom-PerformanceTiming-secureConnectionStart"><code>secureConnectionStart</code> 属性</dt><!--id-->
	<dd>
<p>
この属性のサポートは UA の任意選択である。
この属性が可用でない UA においては、 <code >undefined</code> にされなければならない。
この属性が可用かつ、現在のページの
<a href="http://www.w3.org/TR/html5/infrastructure.html#url-scheme">URL スキーム</a>
が
<a href="http://tools.ietf.org/html/rfc2817">HTTPS</a>
である場合、この属性は UA が 現在の接続をセキュアにするためのハンドシェイク処理を開始する直前の時刻を返さなければならない。
この属性が可用でありつつ， HTTPS は利用されていない場合、この属性はゼロを返さなければならない.
<span lang="en">
This attribute is optional. User agents that don't have this attribute available must set it as undefined. When this attribute is available, if the scheme of the current page is HTTPS, this attribute must return the time immediately before the user agent starts the handshake process to secure the current connection. If this attribute is available but HTTPS is not used, this attribute must return zero.
</span></p>

	</dd>

	<dt id="dom-PerformanceTiming-requestStart"><code>requestStart</code> 属性</dt>
	<dd>
<p>
この属性は、 UA が，現在の文書を［
サーバから, または<a>関連のアプリケーションキャッシュ</a>や局所リソースから
］得るために リクエストを開始した直前の時刻を返さなければならない。
<span lang="en">
This attribute must return the time immediately before the user agent starts requesting the current document from the server, or from relevant application caches or from local resources.
</span></p>

<p>
リクエストを送信した後に transport 接続が失敗して,
UA が接続を再オープンしてリクエストを再送信していた場合、
<code class="_PT">requestStart</code>
は，新たなリクエストに対応している値を返すべきである。
<span lang="en">
If the transport connection fails after a request is sent and the user agent reopens a connection and resend the request, requestStart should return the corresponding values of the new request.
</span></p>

<div class="note">
<p>
このインタフェースには <code>requestEnd</code> のような類いの，リクエストの送信の完了を表現する属性は含まれていない：
<span lang="en">
This interface does not include an attribute to represent the completion of sending the request, e.g., requestEnd.
</span></p>

<ul>
<li>
UA からのリクエストの送信の完了は、（その種の属性の利点の大半を占める）ネットワーク transport における対応する完了­時刻を常に指示するとは限らない。
<span lang="en">
Completion of sending the request from the user agent does not always indicate the corresponding completion time in the network transport, which brings most of the benefit of having such an attribute.
</span></li>
<li>
一部の UA においては、HTTP 層のカプセル化のため，リクエストの送信の実際の完了­時刻の決定にコストがかかる。
<span lang="en">
Some user agents have high cost to determine the actual completion time of sending the request due to the HTTP layer encapsulation.
</span></li>
</ul>
</div>

	</dd>

	<dt id="dom-PerformanceTiming-responseStart"><code>responseStart</code> 属性</dt>
	<dd>
<p>
この属性は、
UA がサーバからの, または<a>関連のアプリケーションキャッシュ</a>や局所リソースからの，応答の最初のバイトを受信した直後の時刻を返さなければならない。
<span lang="en">
This attribute must return the time immediately after the user agent receives the first byte of the response from the server, or from relevant application caches or from local resources.
</span></p>

	</dd>

	<dt id="dom-PerformanceTiming-responseEnd"><code>responseEnd</code> 属性</dt>
	<dd>
<p>
この属性は、 UA が
現在の文書の最後のバイトを受信した直後の時刻と, transport 接続が切断される直前の時刻のうち，早い方を返さなければならない。
ここでの文書は、サーバから, および<a>関連のアプリケーションキャッシュ</a>や局所リソースから，のいずれから受信されたものも含まれる。
<span lang="en">
This attribute must return the time immediately after the user agent receives the last byte of the current document or immediately before the transport connection is closed, whichever comes first. The document here can be received either from the server, relevant application caches or from local resources.
</span></p>

	</dd>

	<dt id="dom-PerformanceTiming-domLoading"><code>domLoading</code> 属性</dt>
	<dd>
<p>
この属性は、 UA が<a>文書の現在の準備度</a>（“current document readiness”）を
<a href="http://www.w3.org/TR/html5/dom.html#current-document-readiness">"loading"</a>
に設定する直前の時刻を返さなければならない。
<span lang="en">
This attribute must return the time immediately before the user agent sets the current document readiness to "loading".
</span></p>

	</dd>

	<dt id="dom-PerformanceTiming-domInteractive"><code>domInteractive</code> 属性</dt>
	<dd>
<p>
この属性は、 UA が<a>文書の現在の準備度</a>を
<a href="http://www.w3.org/TR/html5/syntax.html#the-end">"interactive"</a>
に設定する直前の時刻を返さなければならない。
<span lang="en">
This attribute must return the time immediately before the user agent sets the current document readiness to "interactive".
</span></p>

	</dd>

	<dt id="dom-PerformanceTiming-domContentLoadedEventStart"><code>domContentLoadedEventStart</code> 属性</dt><!--id-->
	<dd>
<p>
この属性は、
UA が
<a href="http://www.w3.org/TR/html5/dom.html#document"><code>Document</code></a>
に向けて
<a><code>DOMContentLoaded</code> イベント</a>
を発火する直前の時刻を返さなければならない。
<span lang="en">
This attribute must return the time immediately before the user agent fires the DOMContentLoaded event at the Document.
</span></p>

	</dd>

	<dt id="dom-PerformanceTiming-domContentLoadedEventEnd"><code>domContentLoadedEventEnd</code> 属性</dt><!--id-->
	<dd>
<p>
この属性は、文書の
<a><code>DOMContentLoaded</code> イベント</a>
が完了した直後の時刻を返さなければならない。
<span lang="en">
This attribute must return the time immediately after the document's DOMContentLoaded event completes.
</span></p>

	</dd>

	<dt id="dom-PerformanceTiming-domComplete"><code>domComplete</code> 属性</dt>
	<dd>
<p>
この属性は、 UA が<a>文書の現在の準備度</a>を
<a href="http://www.w3.org/TR/html5/syntax.html#the-end">"complete"</a>
に設定する直前の時刻を返さなければならない。
<span lang="en">
This attribute must return the time immediately before the user agent sets the current document readiness to "complete".
</span></p>

<p><a>文書の現在の準備度</a>が複数回にわたり同じ状態に変化した場合、
<code class="_PT">domLoading</code>,
<code class="_PT">domInteractive</code>,
<code class="_PT">domContentLoadedEventStart</code>,
<code class="_PT">domContentLoadedEventEnd</code>,
<code class="_PT">domComplete</code>
は、最初に生じた <a>文書の現在の準備度</a>の変化 に対応している時刻を返さなければならない。
<span lang="en">
If the current document readiness changes to the same state multiple times, domLoading, domInteractive, domContentLoadedEventStart, domContentLoadedEventEnd and domComplete must return the time of the first occurrence of the corresponding document readiness change.
</span></p>

	</dd>

	<dt id="dom-PerformanceTiming-loadEventStart"><code>loadEventStart</code> 属性</dt><!--id-->
	<dd>
<p>
この属性は、現在の文書に load イベントが発火される直前の時刻を返さなければならない。
load イベントがまだ発火されていないときには、ゼロを返さなければならない。
<span lang="en">
This attribute must return the time immediately before the load event of the current document is fired. It must return zero when the load event is not fired yet.
</span></p>
	</dd>

	<dt id="dom-PerformanceTiming-loadEventEnd"><code>loadEventEnd</code> 属性</dt><!--id-->
	<dd>
<p>
この属性は、現在の文書の load イベントの発火が完了した時刻を返さなければならない。
load イベントがまだ発火されていない, またはまだ完了していないときには、ゼロを返さなければならない。
<span lang="en">
This attribute must return the time when the load event of the current document is completed. It must return zero when the load event is not fired or is not completed.
</span></p>
	</dd>
</dl>

	</section>
	<section id="sec-navigation-info-interface">
<h3 title="The PerformanceNavigation interface interface">4.3. <code>PerformanceNavigation</code> インタフェース</h3>
<pre class="idl" id="_PN"
>interface <dfn id="PerformanceNavigation">PerformanceNavigation</dfn> {
  const unsigned short <a>TYPE_NAVIGATE</a> = 0;
  const unsigned short <a>TYPE_RELOAD</a> = 1;
  const unsigned short <a>TYPE_BACK_FORWARD</a> = 2;
  const unsigned short <a>TYPE_RESERVED</a> = 255;
  readonly attribute unsigned short <a>type</a>;
  readonly attribute unsigned short <a>redirectCount</a>;
};</pre>


<dl class="_PN">
	<dt id="dom-PerformanceNavigation-type"><code>type</code> 属性</dt>
	<dd>
<p>
この属性は、現在の<a>閲覧文脈</a>における最後の非リダイレクト
<a href="http://www.w3.org/TR/html5/browsers.html#navigate">ナビゲーション</a>
の種別を返さなければならない。
ナビゲーションの種別は、次の値のいずれかでなければならない：
<span lang="en">
This attribute must return the type of the last non-redirect navigation in the current browsing context. It must have one of the following navigation type values.
</span></p>
		<dl class="_PN">
			<dt id="dom-PerformanceNavigation-TYPE_NAVIGATE"><code>TYPE_NAVIGATE</code></dt>
			<dd><p>
ナビゲーションが［
リンクのクリック,
UA のアドレスバーへの URL 入力,
フォーム送信,
［
下に挙げる
<code class="_PN">TYPE_RELOAD</code>
と
<code class="_PN">TYPE_BACK_FORWARD</code>
に利用されるもの以外の，スクリプト演算を通した初期化
］］により開始された。
<span lang="en">
Navigation started by clicking on a link, or entering the URL in the user agent's address bar, or form submission, or initializing through a script operation other than the ones used by TYPE_RELOAD and TYPE_BACK_FORWARD as listed below.
</span></p>
			</dd>
			<dt id="dom-PerformanceNavigation-TYPE_RELOAD"><code>TYPE_RELOAD</code></dt><!--id-->
			<dd><p>
再 load 演算または
<a href="http://www.w3.org/TR/html5/browsers.html#dom-location-reload"><code >location.reload()</code></a>
メソッドによるナビゲーション。
<span lang="en">
Navigation through the reload operation or the location.reload() method.
</span></p>
			</dd>
			<dt id="dom-PerformanceNavigation-TYPE_BACK_FORWARD"><code>TYPE_BACK_FORWARD</code></dt><!--id-->
			<dd>
<p>
<a>history traversal</a> 演算によるナビゲーション。
<span lang="en">
Navigation through a history traversal operation.
</span></p>
			</dd>
			<dt id="dom-PerformanceNavigation-TYPE_RESERVED"><code>TYPE_RESERVED</code></dt><!--id-->
			<dd><p>
上で定義されない任意の種別のナビゲーション。
<span lang="en">
Any navigation types not defined by values above.
</span></p>
			</dd>
		</dl>

<div class="note">
<p>
<a href="http://www.w3.org/TR/html5/document-metadata.html#attr-meta-http-equiv-refresh">Refresh pragma directive</a>
を利用する類いの，クライアント側リダイレクトは、この仕様においては<a>リダイレクト等</a>とは見なされない。
それらの場合，
<code class="_PN">type</code>
属性は、現在のページを再 load している場合は <code class="_PN">TYPE_RELOAD</code>,
新たな URL へのナビゲーションの場合は <code class="_PN">TYPE_NAVIGATE</code>
など，適切な値を返すべきである。
<span lang="en">
Client-side redirects, such as those using the Refresh pragma directive, are not considered HTTP redirects or equivalent by this spec. In those cases, the type attribute should return appropriate value, such as TYPE_RELOAD if reloading the current page, or TYPE_NAVIGATE if navigating to a new URL.
</span></p>
</div>

	</dd>

	<dt id="dom-PerformanceNavigation-redirectCount"><code>redirectCount</code> 属性</dt>
	<dd>
<p>
この属性は、現在の<a>閲覧文脈</a>の下での，最後の非リダイレクト­ナビゲーションからのリダイレクト回数を返さなければならない。
そのようなリダイレクトが無い場合,
または 行き先の文書と同じ<a>生成元</a>に属さないリダイレクトがある場合、この属性はゼロを返さなければならない。
<span lang="en">
This attribute must return the number of redirects since the last non-redirect navigation under the current browsing context. If there is no redirect or there is any redirect that is not from the same origin as the destination document, this attribute must return zero.
</span></p>
	</dd>
</dl>


	</section>
	<section id="sec-window.performance-attribute">
<h3 title="The window.performance attribute">4.4. <code>window.performance</code> 属性</h3>

<p>
この仕様は、 HTML5 仕様が定義する
<a href="http://www.w3.org/TR/html5/browsers.html#window">Window</a>
インタフェース
<a href="#HTML5">[HTML5]</a>
を拡張する。
<span lang="en">
The HTML5 specification defines a Window interface [HTML5], which this specification extends. 
</span></p>

<pre class="idl" id="_P"
>interface <dfn id="Performance">Performance</dfn> {
  readonly attribute <a href="#PerformanceTiming">PerformanceTiming</a> <a>timing</a>;
  readonly attribute <a href="#PerformanceNavigation">PerformanceNavigation</a> <a>navigation</a>;
};

partial interface Window {
  [Replaceable] readonly attribute <a href="#Performance">Performance</a> <a href="#dom-Window-performance">performance</a>;
};</pre>

<p>
<code id="dom-window-performance">window.<dfn id="dom-Window-performance">performance</dfn></code>
属性は、パフォーマンスに関する属性を保持するための区域<!--  hosting area  -->を提供する。
<span lang="en">
The window.performance attribute provides a hosting area for performance related attributes.
</span></p>

<dl>
	<dt id="dom-Performance-timing"><code>timing</code> 属性</dt>
	<dd>
<p>
<code class="_P">timing</code>
属性は、最後の非リダイレクト ナビゲーション以降の<a>閲覧文脈</a>に関連する計時情報を表現する。
この属性は
<a><code>PerformanceTiming</code></a>
インタフェースにて定義される。
<span lang="en">
The timing attribute represents the timing information related to the browsing contexts since the last non-redirect navigation. This attribute is defined by the PerformanceTiming interface.
</span></p>

	</dd>
	<dt id="dom-Performance-navigation"><code>navigation</code> 属性</dt>
	<dd>
<p>
<code class="_P">navigation</code>
属性は <a><code>PerformanceNavigation</code></a> インタフェースにて定義される。
<span lang="en">
The navigation attribute is defined by the PerformanceNavigation interface.
</span></p>
	</dd>
</dl>

	</section>
</section>
<section id="process">
<h2 title="Process">5. 処理過程</h2>

	<section id="processing-model">
<h3 title="Processing Model">5.1. 処理モデル</h3>

<p class="note">
<a><code>window.performance.timing</code></a> と <a><code>window.performance.navigation</code></a>
のすべての属性は、（記述の便宜上，下の手続きにて参照されているとしても）
<a href="http://www.w3.org/TR/html5/browsers.html#create-a-document-object">現在の文書の <code>Window</code> オブジェクトが作成される</a>
まで、書き込まれるべきでない。
<span lang="en">
All the attributes in window.performance.timing and window.performance.navigation should not be written to until the Window object of the current document is created, even though their attributes are referred to in the following steps to facilitate description.
</span></p>

<p class="note">
UA は
<a><code>window.performance.timing</code></a> と <a><code>window.performance.navigation</code></a>
インタフェースの不能化オプションを利用者に提供してもよい。
これらのインタフェースが不能化されている間は
<a><code>window.performance.timing</code></a> も <a><code>window.performance.navigation</code></a>
も null 値を返さなければならない。
<span lang="en">
User agents may provide users the option of disabling the window.performance.timing and window.performance.navigation interfaces. When these interfaces are disabled, both window.performance.timing and window.performance.navigation must return a null value.
</span></p>

<div class="example">
<div class="exampleHeader">例</div>
<p>
UA は，
<a><code>window.performance.timing</code></a> と <a><code>window.performance.navigation</code></a>
がこれらのインスタンスに置換されたときは、現在の文書に結び付けられている <code>Window</code> オブジェクト
が作成されるまで，
<a><code>PerformanceTiming</code></a> および <a><code>PerformanceNavigation</code></a>
インタフェースのインスタンスを維持してもよい。<!--  -->
<span lang="en">
A user agent may maintain instances of the PerformanceTiming and PerformanceNavigation interfaces until the Window object associated with the current document is created, when window.performance.timing and window.performance.navigation are replaced with these instances.
</span></p>
</div>

<p></p>

<div class="example">
<!-- <div class="exampleHeader">Illustration</div> -->
<p>
次の図式は規定ではない。
<span lang="en">
This illustration is non-normative.
</span></p>

<p>
次の図式は、
<a><code>PerformanceTiming</code></a>
インタフェースと
<a><code>PerformanceNavigation</code></a>
インタフェースに定義される計時属性を（リダイレクトあり／なしの場合も含めて）示したものである。
下線付きの属性は、異なる<a>生成元</a>に属する文書を含むナビゲーションでは可用でない。
UA は、非標準の時区間を許容するために，２つの計時の合間に内部処理を行ってもよい。
<span lang="en">
The following graph illustrates the timing attributes defined by the PerformanceTiming interface and the PerformanceNavigation interface with or without redirect, respectively. Attributes underlined may not be available in navigation involving documents from different origins. User agents may perform internal processing in between timings, which allow for non-normative intervals between timings.
</span></p>

<p class="trans-note">【
次の段落は
<a href="http://www.w3.org/2012/12/navigation-timing-errata.html">正誤表</a>
による追加。
下の画像による図式も，その正誤表により修正されたもの（
<a href="http://www.w3.org/TR/2012/REC-navigation-timing-20121217/timing-overview.png">元の図</a>
<!-- <a href="navigation-timing/timing-overview-original.png" >元の図</a> -->
）
】</p>
<blockquote>
<p>
<ins >注記：</ins>
UA は手続きの中の，文書の読み込みに伴う一部の段を、利用者ナビゲーションの前に，投機的に行うことを選んでもよい。
例えば UA は、ホスト名を事前に解決したり,
文書をホストしているサーバに投機的に接続したり,
実際の利用者ナビゲーションに先立ってルート文書を先行取得し得る。
<a><code>PerformanceTiming</code></a>
インタフェースにおける計時は、この手続きの中の利用者ナビゲーションの時点からの，待機に費やされた時間を表現する。
例えば，投機的解決が 利用者ナビゲーションの前に開始し, 終了した場合、
UA がその結果を利用できるのなら，
<code class="_PT">domainLookupStart</code>
および
<code class="_PT">domainLookupEnd</code>
属性は，いずれも
<code class="_PT">fetchStart</code>
と同じ値を返すべきである。
投機的解決が 利用者ナビゲーションの前に開始され,
<code class="_PT">navigationStart</code>
の後に終了した場合、 UA がその結果を利用できるのなら，
<code class="_PT">domainLookupStart</code>
属性は
<code class="_PT">fetchStart</code>
と同じ値を返すべきであり,
<code class="_PT">domainLookupEnd</code>
属性は ドメイン名検索が成功裡に終わった直後の時刻を返すべきである。
<span lang="en">
Note that user agents may choose to perform some of the steps involved in loading the document speculatively prior to user navigation e.g. the user agent could pre-resolve the host name, speculatively connect to the server hosting the document or prefetch the root document ahead of the actual user navigation. The timings in the PerformanceTiming interface represent the time spent waiting after user navigation in these steps. For example, in the case of speculative resolution that started and finished before user navigation and the user agent was able to use that result, the domainLookupStart and domainLookupEnd attributes should both return the same value as fetchStart. If the speculative resolution started before user navigation and finished after navigationStart and the user agent was able to use that result, the domainLookupStart attribute should return the same value as fetchStart and the domainLookupEnd attribute should return the time immediately after the name lookup is successfully done.
</span>
</p>
</blockquote>

<img style="width: 100%" src="navigation-timing/timing-overview.png" alt="Timing attributes">
</div>

<ol>
	<li>
<p>
<a href="http://www.w3.org/TR/html5/browsers.html#navigate">ナビゲーション</a>
が次の理由で中止された／生じている場合、
<a><code>window.performance.timing</code></a> および <a><code>window.performance.navigation</code></a>
属性には変更を加えずに，この手続きを中止する。
<span lang="en">
If the navigation is aborted for any of the following reasons, abort these steps without changing the attributes in window.performance.timing and window.performance.navigation.
</span></p>

		<ol style="list-style-type:lower-alpha;">
			<li>
ナビゲーションは
<a href="http://www.w3.org/TR/html5/browsers.html#sandboxed-navigation-browsing-context-flag">sandboxed navigation 閲覧文脈フラグ</a>
または
<a href="http://www.w3.org/TR/html5/browsers.html#sandboxed-top-level-navigation-browsing-context-flag">sandboxed top-level navigation 閲覧文脈フラグ</a>
により中止されたか,
または既存の<a>閲覧文脈</a>へのナビゲーションが試みられている。
<span lang="en">
The navigation is aborted due to the sandboxed navigation browsing context flag or the sandboxed top-level navigation browsing context flag, or a preexist attempt to navigate the browsing context.
</span></li>
			<li>
ナビゲーションは、ページ内の
<a href="http://www.w3.org/TR/html5/browsers.html#navigate-fragid-step"><em>素片識別子</em>により生じた</a>。
<span lang="en">
The navigation is caused by fragment identifiers within the page.
</span></li>
			<li>
新たなリソースは、何らかの種類のインライン内容により処理されている。
<span lang="en">
The new resource is to be handled by some sort of inline content.
</span></li>
			<li>
新たなリソースは、<a>閲覧文脈</a>に影響しない仕組みを利用して処理されている。
<span lang="en">
The new resource is to be handled using a mechanism that does not affect the browsing context.
</span></li>
			<li>
利用者が
<a href="http://www.w3.org/TR/html5/browsers.html#refused-to-allow-the-document-to-be-unloaded">文書の unload を拒否した</a>
。
<span lang="en">
The user refuses to allow the document to be unloaded.
</span></li>
		</ol>
	</li>
	<li>
UA による前の
<a href="http://www.w3.org/TR/html5/dom.html#document">文書</a>
の
<a href="http://www.w3.org/TR/html5/browsers.html#prompt-to-unload-a-document">prompts to unload</a>
の直後の時刻を
<code class="_PT">navigationStart</code>
に記録する。
<span lang="en">
Immediately after the user agent prompts to unload the previous document, record the current time as navigationStart.
</span></li>
	<li>
<p>
<a href="#dom-PerformanceNavigation-type"><code>window.performance.navigation.type</code></a>
に現在のナビゲーション種別がまだ設定されていない場合、それを記録する：
<span lang="en">
Record the current navigation type in window.performance.navigation.type if it has not been set:
</span></p>

		<ol style="list-style-type:lower-alpha;">
			<li>
<p>
次のいずれかにより，ナビゲーションが開始された場合のナビゲーション種別は、
<code class="_PN">TYPE_NAVIGATE</code>：
</p>
<ul>
	<li>リンクのクリック</li>
	<li>UA のアドレスバーへの URL 入力</li>
	<li>フォーム送信</li>
	<li>
<a href="http://www.w3.org/TR/html5/browsers.html#dom-location-reload"><code >location.reload()</code></a>
メソッド以外のスクリプト演算を通した初期化
</li>
</ul>

<span lang="en">
If the navigation was started by clicking on a link, or entering the URL in the user agent's address bar, or form submission, or initializing through a script operation other than the location.reload() method, let the navigation type be TYPE_NAVIGATE.
</span>
			</li>
			<li>
［
<a href="http://www.w3.org/TR/html5/document-metadata.html#attr-meta-http-equiv-refresh">meta refresh</a>
の結果, または
<a href="http://www.w3.org/TR/html5/browsers.html#dom-location-reload"><code >location.reload()</code></a>
メソッド
］または他の等価な動作により，ナビゲーションが開始された場合のナビゲーション種別は、
<code class="_PN">TYPE_RELOAD</code>
。
<span lang="en">
If the navigation was started either as a result of a meta refresh, or the location.reload() method, or other equivalent actions, let the navigation type be TYPE_RELOAD.
</span></li>
			<li>
<a>history traversal</a>
の結果，ナビゲーションが開始された場合のナビゲーション種別は、
<code class="_PN">TYPE_BACK_FORWARD</code>
。
<span lang="en">
If the navigation was started as a result of history traversal, let the navigation type be TYPE_BACK_FORWARD.
</span></li>
			<li>
他の場合のナビゲーション種別は、
<code class="_PN">TYPE_RESERVED</code>
。
<span lang="en">
Otherwise, let the navigation type be TYPE_RESERVED.
</span></li>
		</ol>
	</li>
	<li>
現在の文書と前の文書が異なる<a>生成元</a>に属する場合、
<code class="_PT">unloadEventStart</code>
と
<code class="_PT">unloadEventEnd</code>
を 0 にして，
<a>取得開始</a>段
へ進む。
他の場合、 unload イベントの直前の時刻を
<code class="_PT">unloadEventStart</code>
に記録する。
<span lang="en">
If the current document and the previous document are from different origins, set both unloadEventStart and unloadEventEnd to 0 then go to step 6. Otherwise, record unloadEventStart as the time immediately before the unload event.
</span></li>
<li>
unload イベントが完了した直後の時刻を
<code class="_PT">unloadEventEnd</code>
に記録する。
<span lang="en">
Immediately after the unload event is completed, record the current time as unloadEventEnd.
</span></li>

	<li>
<dfn id="step-fetch-start">取得開始</dfn>：<br>
<a>GET 等</a>を用いて新たなリソースが取得される場合、 UA は<a>関連のアプリケーションキャッシュ</a>を検査する直前の時刻を
<code class="_PT">fetchStart</code>
に記録する。
他の場合、 UA は <a>取得処理</a>を開始する直前に現在の時刻を
<code class="_PT">fetchStart</code>
に記録する。
<span lang="en">
If the new resource is to be fetched using HTTP GET or equivalent, immediately before a user agent checks with the relevant application caches, record the current time as fetchStart. Otherwise, immediately before a user agent starts the fetching process, record the current time as fetchStart.
</span></li>
	<li>
<code class="_PT">domainLookupStart</code>,
<code class="_PT">domainLookupEnd</code>,
<code class="_PT">connectStart</code>,
<code class="_PT">connectEnd</code>
を
<code class="_PT">fetchStart</code>
と同じ値にする。
<span lang="en">
Let domainLookupStart, domainLookupEnd, connectStart and connectEnd be the same value as fetchStart.
</span></li>
<li>
リソースが（
<a href="http://www.ietf.org/rfc/rfc2616.txt">HTTP cache</a>
も含めた）<a>関連のアプリケーションキャッシュ</a>や局所リソースから取得される場合、
<a>リクエスト開始</a>段
へ進む。
<span lang="en">
If the resource is fetched from the relevant application cache or local resources, including the HTTP cache, go to step 13.
</span></li>
<li>
ドメイン検索が要求されていない場合、
<a>接続開始</a>段
へ進む。
他の場合、
UA がドメイン名検索を開始する直前の時刻を
<code class="_PT">domainLookupStart</code>
に記録する。
<span lang="en">
If no domain lookup is required, go to step 11. Otherwise, immediately before a user agent starts the domain name lookup, record the time as domainLookupStart.
</span></li>
	<li>
ドメイン名検索に成功した場合、その直後の時刻を
<code class="_PT">domainLookupEnd</code>
に記録する。
UA はその前に複数回の再試行が必要になり得る。
ドメイン検索に失敗した場合、残りの手続きを中止する。
<span lang="en">
Record the time as domainLookupEnd immediately after the domain name lookup is successfully done. A user agent may need multiple retries before that. If the domain lookup fails, abort the rest of the steps.
</span></li>
	<li>
<dfn id="step-connect-start">接続開始</dfn>：<br>
リソース取得に持続的 transport 接続が利用されている場合、
<code class="_PT">connectStart</code>
と
<code class="_PT">connectEnd</code>
を
<code class="_PT">domainLookupEnd</code>
と同じ値にする。
他の場合、サーバへの接続を始める直前の時刻を
<code class="_PT">connectStart</code>
に記録し，サーバまたはプロキシへの接続が確立された直後の時刻を
<code class="_PT">connectEnd</code>
に記録する。
UA はその前に複数回の再試行が必要になり得る。
接続が確立できなかった場合、残りの手続きを中止する。
<span lang="en">
If a persistent transport connection is used to fetch the resource, let connectStart and connectEnd be the same value of domainLookupEnd. Otherwise, record the time as connectStart immediately before initiating the connection to the server and record the time as connectEnd immediately after the connection to the server or the proxy is established. A user agent may need multiple retries before this time. If a connection can not be established, abort the rest of the steps.
</span></li>
	<li>
<p>
<a>接続開始</a>段
において、 UA が
<code class="_PT">secureConnectionStart</code>
属性をサポートする場合、次の追加の手続きも行われるべきである：
<span lang="en">
In step 11, a user agent should also carry out these additional steps if it supports the secureConnectionStart attribute:
</span></p>

		<ol>
			<li>
現在の文書のスキームが HTTPS である場合、
UA は，接続をセキュアにするためのハンドシェイク処理の直前の時刻を
<code class="_PT">secureConnectionStart</code>
に記録しなければならない。
<span lang="en">
If the scheme of the current document is HTTPS, the user agent must record the time as secureConnectionStart immediately before the handshake process to secure the connection.
</span></li>
<li>
現在の文書のスキームが HTTPS でない場合、 UA は
<code class="_PT">secureConnectionStart</code>
の値を 0 にしなければならない。
<span lang="en">
If the scheme of the current document is not HTTPS, the user agent must set the value of secureConnectionStart to 0.
</span></li>
		</ol>
	</li>
	<li>
<dfn id="step-request-start">リクエスト開始</dfn>：<br>
UA が文書に対するリクエストの送信を開始する直前の時刻を
<code class="_PT">requestStart</code>
に記録する。
<span lang="en">
Immediately before a user agent starts sending request for the document, record the current time as requestStart.
</span></li>
	<li>
<dfn id="step-response-start">応答­開始</dfn>：<br>
UA が応答の最初のバイトを受信した直後の時刻を
<code class="_PT">responseStart</code>
に記録する。
<span lang="en">
Record the time as responseStart immediately after the user agent receives the first byte of the response.
</span></li>
	<li>
<dfn id="step-response-end">応答­終了</dfn>：
<p>
UA が応答の最後のバイトを受信した直後の時刻を
<code class="_PT">responseEnd</code>
に記録する。
<span lang="en">
Record the time as responseEnd immediately after receiving the last byte of the response.
</span></p>

<p>
UA が，リクエストの送信, または応答­全体の受信に失敗し，接続の再オープンを要する場合、
<a>接続開始</a>段
へ戻る。
<span lang="en">
Return to step 11 if the user agent fails to send the request or receive the entire response, and needs to reopen the connection.
</span></p>

<div class="example">
<div class="exampleHeader">例</div>

<p>
<a>持続的­接続</a>
<a>[RFC 2616]</a>
が可能化されているときは、
UA はまず最初に，リクエストを送信するためにオープン接続の再利用を（その接続は
<a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec8.html#sec8.1.4">非同期に切断</a>
され得るが）試行してよい。
そのような場合、
<code class="_PT">connectStart</code>,
<code class="_PT">connectEnd</code>,
<code class="_PT">requestStart</code>
は，再オープン接続において収集された計時情報を表現するべきである。
<span lang="en">
When persistent connection [RFC 2616] is enabled, a user agent may first try to re-use an open connect to send the request while the connection can be asynchronously closed. In such case, connectStart, connectEnd and requestStart should represent timing information collected over the re-open connection.
</span></p>

</div>
	</li>
	<li>
<p>
リソース取得の結果が，<a>リダイレクト等</a>になる場合：
<span lang="en">
If the fetched resource results in an HTTP redirect or equivalent, then
</span></p>

		<ol style="list-style-type:lower-alpha;">
			<li>
現在の文書とリダイレクト先の文書が同じ<a>生成元</a>に属さない場合、
<code class="_PT">redirectStart</code>,
<code class="_PT">redirectEnd</code>,
<code class="_PT">unloadEventStart</code>,
<code class="_PT">unloadEventEnd</code>,
<code class="_PN">redirectCount</code>
を 0 にする。
新たなリソースの下に、
<a>取得開始</a>段
へ戻る。
<span lang="en">
if the current document and the document that is redirected to are not from the same origin, set redirectStart, redirectEnd, unloadEventStart, unloadEventEnd and redirectCount to 0. Then, return to step 6 with the new resource.
</span></li>
			<li>
前のリダイレクトの中に，他と異なる<a>生成元</a>に属する文書を対象にするものがある場合、
<code class="_PT">redirectStart</code>,
<code class="_PT">redirectEnd</code>,
<code class="_PT">unloadEventStart</code>,
<code class="_PT">unloadEventStart</code>,
<code class="_PN">redirectCount</code>
を 0 にする。
新たなリソースの下に、
<a>取得開始</a>段
へ戻る。
<span lang="en">
if there is previous redirect involving documents that are not from the same origin, set redirectStart, redirectEnd, unloadEventStart, unloadEventStart and redirectCount to 0. Then, return to step 6 with the new resource.
</span></li>
			<li>
<code class="_PN">redirectCount</code>
を 1 増やす。
<span lang="en">
Increment redirectCount by 1.
</span></li>
			<li>
<code class="_PT">redirectStart</code>
の値が 0 の場合、
その値 ←
<code class="_PT">fetchStart</code>
の値とする。
<span lang="en">
If the value of redirectStart is 0, let it be the value of fetchStart.
</span></li>
			<li>
<code class="_PT">redirectEnd</code>
←
<code class="_PT">responseEnd</code>
の値。
<span lang="en">
Let redirectEnd be the value of responseEnd.
</span></li>
			<li>
<code class="_PT">navigationStart</code>,
<code class="_PT">redirectStart</code>,
<code class="_PT">redirectEnd</code>,
<code class="_PT">unloadEventStart</code>,
<code class="_PT">unloadEventEnd</code>
を除く， <a><code>window.performance.timing</code></a> のすべての属性を 0 にする。
<span lang="en">
Set all the attributes in window.performance.timing to 0 except navigationStart, redirectStart, redirectEnd, unloadEventStart and unloadEventEnd.
</span></li>
			<li>
新たなリソースの下に、
<a>取得開始</a>段
へ戻る。
<span lang="en">
Return to step 6 with the new resource.
</span></li>
		</ol>
	</li>
	<li>
UA が<a>文書の現在の準備度</a>を "loading" に設定する直前の時刻を
<code class="_PT">domLoading</code>
に記録する。
<span lang="en">
Record the time as domLoading immediately before the user agent sets the current document readiness to "loading".
</span></li>
	<li>
UA が<a>文書の現在の準備度</a>を "interactive" に設定する直前の時刻を
<code class="_PT">domInteractive</code>
に記録する。
<span lang="en">
Record the time as domInteractive immediately before the user agent sets the current document readiness to "interactive".
</span></li>
	<li>
UA が文書に対し
<a><code>DOMContentLoaded</code> イベント</a>
を発火する直前の時刻を
<code class="_PT">domContentLoadedEventStart</code>
に記録する。
<span lang="en">
Record the time as domContentLoadedEventStart immediately before the user agent fires the DOMContentLoaded event at the document.
</span></li>
	<li>
<a><code>DOMContentLoaded</code> イベント</a>
が完了した直後の時刻を
<code class="_PT">domContentLoadedEventEnd</code>
に記録する。
<span lang="en">
Record the time as domContentLoadedEventEnd immediately after the DOMContentLoaded event completes.
</span></li>
	<li>
UA が<a>文書の現在の準備度</a>を "complete" に設定する直前の時刻を
<code class="_PT">domComplete</code>
に記録する。
<span lang="en">
Record the time as domComplete immediately before the user agent sets the current document readiness to "complete".
</span></li>
	<li>
UA が load イベントを発火する直前の時刻を
<code class="_PT">loadEventStart</code>
に記録する。
<span lang="en">
Record the time as loadEventStart immediately before the user agent fires the load event.
</span></li>
	<li>
UA が load イベントを完了した直後の時刻を
<code class="_PT">loadEventEnd</code>
に記録する。
<span lang="en">
Record the time as loadEventEnd immediately after the user agent completes the load event.
</span></li>
</ol>

<!--
Note: the following statement is decided to be removed per discussion on
http://lists.w3.org/Archives/Public/public-web-perf/2012Jun/0029.html
<p>Some user agents maintain the DOM structure of the document in memory
during navigation operations such as forward and backward. In those cases,
the window.performance.timing and window.performance.navigation objects must not
be altered during the navigation.</p>
-->

	</section>
	<section id="garbage-collection">
<h3 title="Garbage Collection">5.2. ガーベジコレクション</h3>
<p>
window オブジェクトからその
<a><code>window.performance.timing</code></a> と <a><code>window.performance.navigation</code></a>
オブジェクトへの
<a href="http://www.w3.org/TR/html5/infrastructure.html#implied-strong-reference">暗黙的な強い参照</a>
が存在する。
<span class="trans-note">【強い参照：参照元が参照先を “所有” する（<a href="http://ja.wikipedia.org/wiki/%E5%BC%B1%E3%81%84%E5%8F%82%E7%85%A7" >参考</a>）】</span>
<span lang="en">
There are implied strong references from the window object to its window.performance.timing and window.performance.navigation objects.
</span></p>

	</section>
	<section id="mono-clock">
<h3 title="Monotonic Clock">5.3. 単調増加クロック</h3>
<p>
計時属性の値は、ナビゲーションの間，計時属性がシステムクロックに対する調整によりスキューされないように、単調増加でなければならない。
時系列順に記録された２つの計時属性の差分は決して負であってはならない。
下位文書のナビゲーションも含む，すべてのナビゲーションにおいて、
UA はルート文書ナビゲーションの開始時点のシステムクロックを記録し，後続の計時属性は、ナビゲーションの開始からの経過時間を測定する単調増加クロックの下で定義されなければならない。
<span lang="en">
The value of the timing attributes must monotonically increase to ensure timing attributes are not skewed by adjustments to the system clock during the navigation. The difference between any two chronologically recorded timing attributes must never be negative. For all navigations, including subdocument navigations, the user agent must record the system clock at the beginning of the root document navigation and define subsequent timing attributes in terms of a monotonic clock measuring time elapsed from the beginning of the navigation.
</span></p>

	</section>
	<section id="vendor-prefixes">
<h3 title="Vendor Prefixes">5.4. ベンダ接頭辞</h3>
<p>
ベンダ固有のプロプライエタリ UA 拡張は推奨されない。
例えば，試験的な目的でその種の拡張が必要になった場合、ベンダは次の拡張の仕組みを利用しなければならない：
<span lang="en">
Vendor-specific proprietary user agent extensions are discouraged. If such extensions are needed, e.g., for experimental purposes, vendors must use the following extension mechanisms:
</span></p>

<ul>
	<li>
<p>
追加の拡張が新たなナビゲーション種別である場合、その種別は次を満たさなければならない：
<span lang="en">
If the extension to be added is an navigation type, the new type must
</span></p>
		<ul>
			<li>
命名規約：
TYPE_<var>[VENDORPREFIX]</var>_<var >[TYPE]</var> （
<var >[VENDORPREFIX]</var> はベンダ識別する名前）に従う。
<span class="trans-note">【文字の大小にも注意 — 以下同様】</span>
<span lang="en">
follow the naming convention: TYPE_[VENDORPREFIX]_[TYPE], where [VENDORPREFIX] is a name that identifies the vendor.
</span></li>
			<li>
100 〜 200 の範囲の値をとる。
<span lang="en">
have a value in the range of 100 to 200.
</span></li>
		</ul>
	</li>
	<li>
<p>
追加の拡張が新たな計時属性である場合、その属性は次を満たさなければならない：
<span lang="en">
If the extension is a new timing attribute, it must
</span></p>
		<ul>
			<li>
命名規約：
<var >[vendorPrefix]</var><var >TimeAttribute</var> （
<var >[vendorPrefix]</var> はベンダを識別する名前,
<var >TimeAttribute</var> は計時属性を識別する名前
）に従う。
<span lang="en">
follow the naming convention: [vendorPrefix]TimeAttribute, where [vendorPrefix] identifies the vendor name and TimeAttribute identifies the name of the timing attribute.
</span></li>
			<li>
5.3 節にて定義される，<a href="#mono-clock">単調増加クロック</a>を利用すること。
<span lang="en">
use a monotonically increasing clock, as defined in Section 5.3 Monotonic Clock.
</span></li>
			<li>
<a href="#_measured-since">3 節</a>
にて定義されるように， 1970 年 1 月 1 日 0 時 0 分 0 秒 (UTC) を起点として測定されるミリ秒であること。
<span lang="en">
be measured in milliseconds since midnight of January 1, 1970 (UTC), as defined in Section 3 Terminology.
</span></li>
		</ul>
	</li>
	<li>
拡張が新たなナビゲーション属性である場合、
命名規約：
<var >[vendorPrefix]</var><var >NavigationAttribute</var> （
<var >[vendorPrefix]</var> はベンダを識別する名前,
<var >NavigationAttribute</var> はナビゲーション属性を識別する名前
）に従わなければならない。
<span lang="en">
If the extension is a new navigation attribute, it must follow the naming convention: [vendorPrefix]NavigationAttribute, where [vendorPrefix] identifies the vendor name and NavigationAttribute identifies the name of the navigation attribute.
</span></li>
  
</ul>

	</section>
</section>
<section id="privacy">
<h2 title="Privacy">6. プライバシー</h2>
<p>
この節は規定ではない。
<span lang="en">
This section is non-normative.
</span></p>

	<section id="info_disclosure">
<h3 title="Information disclosure">6.1. 情報の流出</h3>
<p>
注意深く組み上げられた計時­攻撃の利用により、末端利用者による閲覧と行動の履歴が流出する可能性がある。
例えば、 unload 時刻から前のページの unload ハンドラに要した時間が明らかにされ，利用者のログイン状態の推定に利用され得る。
これらの攻撃は、前のナビゲーションを孕んでいる計時情報へアクセスする際に 同一<a>生成元</a>ポリシーを施行することにより，軽減される。
<span lang="en">
There is the potential for disclosing an end-user's browsing and activity history by using carefully crafted timing attacks. For instance, the unloading time reveals how long the previous page takes to execute its unload handler, which could be used to infer the user's login status. These attacks have been mitigated by enforcing the same origin policy when timing information involving the previous navigation is accessed.
</span></p>

<p>
<a href="http://www.w3.org/TR/html5/browsers.html#relaxing-the-same-origin-restriction">緩い同一生成元ポリシー</a>
は、文書­間に渡る，未承認の訪問に対する十分な保護を提供しない。
共有されているホストにおいては、信用できない第三者が，同じ IP アドレスの異なるポートの HTTP サーバをホストし得る。
<span lang="en">
The relaxed same origin policy doesn't provide sufficient protection against unauthorized visits across documents. In shared hosting, an untrusted third party is able to host an HTTP server at the same IP address but on a different port.
</span></p>

	</section>
	<section id="cross-directory">
<h3 title="Cross-directory access">6.2. ディレクトリ間をまたがるアクセス</h3>
<p>
同じホスト名を共有する異なるページ，例えばサイトにホストされている異なるページ作者による，利用者が生成した内容を伴う内容は、パス名に応じたアクセス制限の機能が存在しないため，同じ生成元に属するものと見なされる。
これらのページ間のナビゲーションおいては、後のページから，リダイレクトや unload イベントに対する計時など，前のページの計時情報へのアクセスが可能になる。
<span lang="en">
Different pages sharing one host name, for example contents from different authors hosted on sites with user generated content are considered from the same origin because there is no feature to restrict the access by pathname. Navigating between these pages allows a latter page to access timing information of the previous one, such as timing regarding redirection and unload event.
</span></p>

	</section>
</section>
<section id="security">
<h2 title="Security">7. セキュリティ</h2>
<p>
この節は規定ではない。
<span lang="en">
This section is non-normative.
</span></p>

	<section id="authentication">
<h3 title="Detecting proxy servers">7.1. プロキシサーバの検出</h3>
<p>
UA とウェブサーバとの間にプロキシが配備されている場合、
<code class="_PT">connectStart</code>
と属性と
<code class="_PT">connectEnd</code>
属性の間の時区間は、 ウェブサーバではなく，プロキシと UA との間の遅延を示すものになる。
それにより、ウェブサーバは，プロキシの存在を推定できる可能性がある。
SOCKS プロキシについては、この時区間にはプロキシ認証に要した時間とプロキシがウェブサーバへの接続に要した時間も含まれ，プロキシの検出を難しくする。
HTTP プロキシの場合、 UA はプロキシサーバについての知識を一切持たないこともあるので、この攻撃の軽減が常に実現できるとは限らない。
<span lang="en">
In case a proxy is deployed between the user agent and the web server, the time interval between the connectStart and the connectEnd attributes indicates the delay between the user agent and the proxy instead of the web server. With that, web server can potentially infer the existence of the proxy. For SOCKS proxy, this time interval includes the proxy authentication time and time the proxy takes to connect to the web server, which obfuscate the proxy detection. In case of an HTTP proxy, the user agent might not have any knowledge about the proxy server at all so it's not always feasible to mitigate this attack.
</span></p>

	</section>
	<section id="readonly">
<h3 title="Tampering by replacing timing objects">7.2. 計時オブジェクトの置換による干渉</h3>
<p>
<a><code>window.performance</code></a> オブジェクトは、同じオブジェクトを利用する既存ページとの競合を避けるため、他のものに置換し得る
<span class="trans-note">【
詳細は， WebIDL 仕様の
<a href="http://heycam.github.io/webidl/#Replaceable">[Replaceable] 拡張属性</a>
に
】</span>
。
それにより、第三者がそのオブジェクトを置換して，この仕様に述べたインタフェースに依拠するスクリプトを破壊できる可能性がある。
<span lang="en">
The window.performance object is replaceable to avoid conflicts with existing pages using the same object. By doing that, it is possible for third-party to replace the object and scripts relying on the interface described in this work would break.
</span></p>

	</section>
</section>
<section id="references">
<h2 title="References">8. 参照文献</h2>

	<section id="normative-references">
<h3 title="Normative References">8.1. 参照文献（規範）</h3>

<dl>
	<dt id="rfc2119">[RFC 2119]</dt>
	<dd>
<cite><a href="http://www.ietf.org/rfc/rfc2119.txt">Key words for use in RFCs to Indicate Requirement Levels</a></cite>,
Scott Bradner, Author. Internet Engineering Task Force, March 1997.
Available at
<a href="http://www.ietf.org/rfc/rfc2119.txt">http://www.ietf.org/rfc/rfc2119.txt</a>.
	</dd>
	<dt id="rfc2616">[RFC 2616]</dt>
	<dd>
<cite><a href="http://www.ietf.org/rfc/rfc2616.txt">Hypertext Transfer Protocol -- HTTP/1.1</a></cite>,
R. Fielding et al., Authors. Internet Engineering Task Force, June 1999.
Available at<br />
<a href="http://www.ietf.org/rfc/rfc2616.txt">http://www.ietf.org/rfc/rfc2616.txt</a>.
	</dd>
	<dt id="rfc6454">[RFC 6454]</dt>
	<dd>
<cite><a href="http://tools.ietf.org/html/rfc6454">The Web Origin Concept</a></cite>,
Adam Barth, Author.  Internet Engineering Task Force, December 2011.
Available at
<a href="http://www.ietf.org/rfc/rfc6454.txt">http://www.ietf.org/rfc/rfc6454.txt</a>.
	</dd>
	<dt id="ECMA262">[ECMA-262]</dt>
	<dd>
<cite><a href="http://www.ecma-international.org/publications/standards/Ecma-262.htm">ECMAScript Language Specification</a></cite>,
5.1 Edition.
ECMA International, Standard ECMA-262, June 2011.
This version of the ECMAScript Language is available from
<a href="http://www.ecma-international.org/publications/standards/Ecma-262.htm">http://www.ecma-international.org/publications/standards/Ecma-262.htm</a>.
	</dd>
	<dt id="HTML5">[HTML5]</dt>
	<dd>
<cite><a href="http://www.w3.org/TR/html5/">HTML5</a></cite>,
Robin Berjon et al., Editors. World Wide Web Consortium, December 2012.
This version of the HTML5 is available from
<a href="http://www.w3.org/TR/html5/">http://www.w3.org/TR/html5/</a>.
The latest editor's draft of HTML5 is available at http://www.w3.org/html/wg/drafts/html/CR/.
	</dd>
	<dt id="WebIDL">[Web IDL]</dt>
	<dd>
<cite><a href="http://www.w3.org/TR/2012/CR-WebIDL-20120419/">Web IDL</a></cite>,
Cameron McCormack, Editor.
World Wide Web Consortium, April 2012.
This version of the Web IDL specification is available from http://www.w3.org/TR/2012/CR-WebIDL-20120419/.
The
<a href="http://www.w3.org/TR/WebIDL/">latest version of Web IDL</a>
is available at http://www.w3.org/TR/WebIDL/.
	</dd>
</dl>

	</section>
	<section id="informative-references">
<h3 title="Informative References">8.2. 参照文献（参考）</h3>

<dl>
	<dt id="JSMeasure">[JSMEASURE]</dt>
	<dd>
<cite><a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.69.7329&amp;rep=rep1&amp;type=pdf">Measuring Client-Perceived Response Times on the WWW</a></cite>,
R. Rajamony and M. Elnozahy, The Proceedings of the 3rd USENIX Symposium on Internet Technologies and Systems (USITS), March 2001.
	</dd>
	<dt id="NavigationTiming2">[Navigation Timing 2]</dt>
	<dd>
<cite><a href="http://w3c-test.org/webperf/specs/NavigationTiming2/">Navigation Timing 2</a></cite>,
Jatinder Mann, Arvind Jain, Editors.
World Wide Web Consortium, <em>unpublished</em>.
	</dd>
</dl>

	</section>
</section>
<section id="acknowledgements">
<h2 title="Acknowledgements">謝辞</h2>

<p>
この草案を手がけるにあたってレビューとフィードバックを寄せられた次の方々に謝意を表したい：
<span lang="en">
I would like to offer my sincere thanks to all the people that I have been in touch with regarding this draft, including 
</span></p>

<p >
Anderson Quach, Alex Russell, Alois Reitbauer, Annie Sullivan, Christian Biesinger, Darin Fisher, Eric Lawrence, James Simonsen, Jatinder Mann, Jason Sobel, Jason Weber, Jonas Sicking, Kyle Scholz, Lenny Rachitsky, Nic Jansma, Richard Rabbat, Sergey Novikov, Sigbjørn Vik, Steve Souders, Tony Gentilcore for their reviews and feedback.
</p>

</section>
</main><!-- id="MAIN" -->


<!--% DATA SECTION -->
<div style="display:none;">

<input type="hidden" id="_page_config" value="" />

<script type="text/plain" id="_link_map1">
取得:www.w3.org/TR/html5/infrastructure.html#fetching-resources
取得処理:www.w3.org/TR/html5/infrastructure.html#fetching-resources
閲覧文脈:www.w3.org/TR/html5/browsers.html#browsing-context
生成元:tools.ietf.org/html/rfc6454
	異なる生成元:tools.ietf.org/html/rfc6454#section-5

関連のアプリケーションキャッシュ:www.w3.org/TR/html5/browsers.html#relevant-application-cache
文書の現在の準備度:www.w3.org/TR/html5/dom.html#current-document-readiness
history traversal:www.w3.org/TR/html5/browsers.html#traverse-the-history
等:www.w3.org/TR/html5/infrastructure.html#concept-http-equivalent-codes
持続的­接続:www.w3.org/Protocols/rfc2616/rfc2616-sec8.html#sec8.1
[RFC 2616]:#rfc2616
DOMContentLoaded イベント:www.w3.org/TR/html5/syntax.html#the-end
リダイレクト等:#redirect-or-equivalents
GET 等:#GET-or-equivalents

PerformanceTiming:#PerformanceTiming
PerformanceNavigation:#PerformanceNavigation
window.performance:#dom-Window-performance
window.performance.timing:#dom-Performance-timing
window.performance.navigation:#dom-Performance-navigation


接続開始:#step-connect-start
リクエスト開始:#step-request-start
取得開始:#step-fetch-start

</script>

<!-- ~HTML5 = http://www.w3.org/TR/html5

"complete":~HTML5/syntax.html#the-end
"interactive":~HTML5/syntax.html#the-end
"loading":~HTML5/dom.html#current-document-readiness
[HTML5]:#HTML5
[JSMEASURE]:#JSMeasure
[Navigation Timing 2]:#NavigationTiming2
[RFC 2119]:#rfc2119
[Web IDL]:#WebIDL
[RFC 6454]:#rfc6454

単調増加クロック:#mono-clock
Document:~HTML5/dom.html#document
ECMA-262:#ECMA262
取得開始の時刻:#dom-performancetiming-fetchstart
HTTP cache:http://www.ietf.org/rfc/rfc2616.txt
HTTP キャッシュ:http://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html#sec13
HTTPS:http://tools.ietf.org/html/rfc2817
location.reload():~HTML5/browsers.html#dom-location-reload
meta refresh:~HTML5/document-metadata.html#attr-meta-http-equiv-refresh
navigating:~HTML5/browsers.html#navigate
	performance:#dom-Window-performance
	Performance:#Performance
	PerformanceNavigation:#PerformanceNavigation
	PerformanceTiming:#PerformanceTiming
prompting to unload:~HTML5/browsers.html#prompt-to-unload-a-document
prompts to unload:~HTML5/browsers.html#prompt-to-unload-a-document
Refresh pragma directive:~HTML5/document-metadata.html#attr-meta-http-equiv-refresh
sandboxed navigation browsing context flag:~HTML5/browsers.html#sandboxed-navigation-browsing-context-flag
sandboxed top-level navigation browsing context flag:~HTML5/browsers.html#sandboxed-top-level-navigation-browsing-context-flag
unload:~HTML5/browsers.html#unload-a-document
unload:~HTML5/browsers.html#unloading-documents
URL スキーム:~HTML5/infrastructure.html#url-scheme
Window:~HTML5/browsers.html#window
window.performance.navigation.type:#dom-PerformanceNavigation-type
ナビゲーション:~HTML5/browsers.html#navigate
またはそれに等価なもの:~HTML5/infrastructure.html#concept-http-equivalent-codes
等:~HTML5/infrastructure.html#concept-http-equivalent-codes
またはそれに等価なもの:~HTML5/infrastructure.html#concept-http-equivalent-get
暗黙的な強い参照:~HTML5/infrastructure.html#implied-strong-reference
緩い同一生成元ポリシー:~HTML5/browsers.html#relaxing-the-same-origin-restriction
現在の文書の Window オブジェクトが作成される:~HTML5/browsers.html#create-a-document-object
素片識別子:~HTML5/browsers.html#navigate-fragid-step
非同期に切断:http://www.w3.org/Protocols/rfc2616/rfc2616-sec8.html#sec8.1.4
文書:~HTML5/dom.html#document
文書の unload を拒否した:~HTML5/browsers.html#refused-to-allow-the-document-to-be-unloaded

 -->

<script type="text/javascript" >
new function(){
	var map = Util.getMapping('_link_map1');
	var ifc_map = {
		_P: 'Performance',
		_PT: 'PerformanceTiming',
		_PN: 'PerformanceNavigation'
	}

	var ELEMs = document.getElementsByTagName('a');
	var L = ELEMs.length;
	for(var i = 0; i < L; i++){
		var a = ELEMs.item(i);
		if(a.href) continue;
		var text = a.textContent;
		var href;
		var ifc = ifc_map[a.parentNode.id];
		if(ifc){ // a is a child of pre.idl
			href = '#dom-' + ifc + '-' + text;
		} else {
			href = map[text];
			if(!href) continue;
			if(href.charAt(0) !== '#') {
				href = 'http://' + href;
			}
		}
//		a.setAttribute('href', href);
		a.href = href;
	}

	var ELEMs = document.getElementsByTagName('code');
	var L = ELEMs.length;
	for(var i = 0; i < L; i++){
		var code = ELEMs.item(i);
		var ifc = ifc_map[code.className];
		if(!ifc) continue;
		var a = C('a');
		var name = code.textContent;
		a.href = '#dom-' + ifc + '-' + name;
		code.parentNode.insertBefore(a, code);
		a.appendChild(code);
	}
}
</script>

<script id="replace_table" type="text/plain">
	transport 6
アクセス:access
アドレス:address
アドレスバー:address bar
アプリケーション:application
アプリケーションキャッシュ:application cache
アルゴリズム:algorithm
イベント:event
インスタンス:instance
インタフェース:interface
インライン:inline
ウィンドウ:window
ウェブ:web
ウェブサーバ:web server
利用者エージェント:user agent
エンドツーエンド:end-to-end
オープン:open
再オープン:reopen
オブジェクト:object
オプション:option
ガーベジコレクション:garbage collection
カプセル化:encapsulation
キャッシュ:cache
クライアント:client
クリック:click
ディレクトリ:directory
コスト:cost
	コメント:comment
サーバ:server
サイト:site
サブミリ秒:sub-milliseconds
サポート:support
システムクロック:system clock
スキーム:scheme
スキュー:skew
スクリプト:script
	スペース:space
セキュア:secure
セキュリティ:security
ゼロ:zero
タグ:tag
検査:check
データ:data
ドメイン:domain
ナビゲーション:navigation
	navigating
ネットワーク:network
バイト:byte
パス:path
ハンドシェイク:handshake
ハンドシェイク処理:handshake process
ハンドラ:handler
ビット:bit
フォーム送信:form submission
プライバシー:privacy
プロキシ:proxy
プロキシサーバ:proxy server
プロセス:process
プロプライエタリ:proprietary
ページ:page
ベンダ:vendor
ベンダ固有:vendor-specific
ベンチマーク:benchmark
ポート:port
ホスト:host
ポリシー:policy
ミリ秒:millisecond
メソッド:method
モデル:model
利用者体験:user experience
	ユーザエクスペリエンス
リクエスト:request
リスト:list
リソース:resource
リダイレクト:redirect
リンク:link
ルート:root
	層:layer
ログイン:login
暗黙的:implicit
	以外の:other than
	以降:since
依拠-:rely
	意図-:intend:~
	異なる:different
	維持:maintain
	影響-:affect
	閲覧:browsing
閲覧文脈:browsing context
演算:operation
操作:operation
下位文書:subdocument
	下線付き:
	可能: 3
	可能性: 4
	解決:address
	解決-:resolve
	投機的解決:speculative resolution
	投機的:speculative

	解釈-:interpret
解像度:resolution
検索取得:retrieval
検索取得-:retrieve
	回数:number of
開始時点:beginning
	概要: 2
拡張:extension
拡張-:extend
確立:establish
	括弧内: 1
完全:complete
全部的:full
完了:completion
完了-:complete
	完了時刻:completion time
	干渉:tampering
感知:perceive
	関連の:related
	関連の:relevant
	関連のアプリケーションキャッシュ:relevant application cache
	関連仕様:
	既存: 2
	規定:normative
	記憶:store
	記述: 3
記録:record
	起点: 2
拒否:refuse
	許容: 1
共有-:share
局所リソース:local resources
	保持するための区域:hosting area
経過時間:time elapsed
計時:timing
	計時関連:timing-related
計時情報:timing 情報
	情報:information
計時属性:timing attribute
属性:attribute
計測:measure
測定:measure
	軽減:mitigate
	決定: 1
	結果:result
	検出: 3
	現在:current
	文書の現在の準備度:current document readiness
	言及:phrase
	後続:subsequent
	語法:terminology
攻撃:attack
	流出:disclosing
	閲覧と行動の履歴:browsing and activity history
	競合:conflict
	差分:difference
	再試行:retry
	再利用:re-use
	最後: 7
	最初: 6
	作成:create
	参照: 3
	算出: 2
	仕組み:mechanisms
	仕様:specification
	仕立て上げ:modify
	生じさせ:initiate
	指示-:indicate
	試験的:experimental
	試行:attempt
持続的:persistent
持続的接続:persistent connection
時区間:time interval
	時系列順:chronologically
時間:time
時刻:time

	時点: 1
識別:identify
失敗-:fail
	実現できる:feasible
	実行:execute
	実際の:actual
	実装:implementation
	実装-:implement
	実装報告:implementation report
取得:fetch
	取得:fetching
先行取得:prefetch
	リソース取得:resoucre の fetch
取得開始:fetch start
取得処理:fetching process

	手続き:steps
種別:type
	種類:sort
受信:receive
	収集:collect
開始:start
接続開始:connect start
終了-:finish
終了:end
応答:response

	十分: 1
	重要: 1
	出現: 1
	述べられる:described
準備度:readiness
	処理:processing
初期化:initializing
	状態:state, status
	信頼できない:untrusted
	図式: 3
	推奨-:recommend
	推定:infer
	制限:restrict
成功:success
	生成:generate
生成元:origin
切断:close
接続-:connect
接続:connection
接頭辞:prefix
設定:set
	ページ遷移:navigation
	前の:previous*
素片識別子:fragment
	相互運用性:interoperability
再送信:resend
送信-:send
送信:sending
	即時に:immediately
パフォーマンス:performance
属性値:attribute 値
	存在: 6
	対応-:correspond
	対応している:corresponding
	対象: 2
	代わりに:instead
	大半:most
第三者:third-party
	単純な方法:naive attempt
単調増加:monotonic
単調増加クロック:monotonically increasing clock
	monotonic clock
	段:step
	値:value
	知覚: 1
	知識:knowledge
	置換-:replace
遅延:latency
遅延測定:latency measurements

中止:abort
	注意深く組み上げられた:carefully crafted
	注記:notes
	調整:adjustments
	直近:most recent
	直後:immediately after
	直前:immediately before
	追加: 3
	定義-:define
	提案-:propose:~
	提供-:provide:~
適合:conforming
適合性:conformance
	適切:appropriate
	施行:enforcing
	当該箇所: 1
	等:or equivalent
	等価:equivalent
	動作:act action
同一生成元:same origin
	導入-:introduce
	読み込み:load
	読み込み中:loading
	内部処理:internal processing
内容:content
	入力:entering
	任意:any
	任意選択:optional
認証:authentication
	破壊:break
	配備:deploy
発火:fire
	範囲:range
非同期:asynchronous
	非標準:non-normative
	必要:need
	必要性:need
	表現-:represent
	単位: 1
	品質:quality
	複数回:multiple
文書:document
ページ作者:author
	変化:change
	変更:change
	便宜上:facilitate
	保護:protection
	包括的な手段:comprehensive instrumentation
	報告:report
	方法: 1
	未承認の訪問:unauthorized visit
末端利用者:end-user
	不能化:disable
	不能化:disabling
	可能化-:enable
ドメイン名検索:domain name lookup
ドメイン検索:domain lookup
名前:name
命名:naming
命名規約:naming convention
明示的:explicit
	目的:purpose
	様相:picture
	要求:require
要件:requirements
要素:element
	利点:benefit
	利用: 20
	可用:available
利用者:user
利用者遅延:user latency

	理由:reason

</script>

</div>

</body>
</html>

<!-- 
	勧告:recommendation
	勧告候補:candidate recommendation

 -->