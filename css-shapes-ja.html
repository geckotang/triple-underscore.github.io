<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8">
<title>CSS Shapes Module Level 1</title>

<link rel="stylesheet" href="common.css" type="text/css" />
<link rel="stylesheet" href="common-css.css" type="text/css" />
<script src="common0.js" ></script>
<script src="common1.js" async></script>

<script >
var source_data;

COMMON_DATA.page_state_key = '___CSS';
COMMON_DATA.init = function(expanded){
	var options = {
		original_url: 'https://drafts.csswg.org/css-shapes/',
		spec_status: 'ED',
		main: 'MAIN',
//		toc: 'contents',
		fill_text_link: '#_versions > dd, #references dd',
		alt_refs: 'references',
		ref_id_prefix: 'biblio-',
		ref_id_lowercase: true,
	};


	if(expanded) return options;

	source_data = {
		html: E('MAIN').innerHTML,
		link_map: Util.getMapping('_link_map'),
		collectParts: Util.collectParts,
		toc_main: 'MAIN0',
		levels: '英語主体:英語寄り:漢字主体:カナ主体',
		level: 2,
		generate: expand
	};
	Util.switchWordsInit(source_data);

//	Util.del_j(); //checked 150920 spec

	return options;
}

function expand(mapping1){
	var link_map = this.link_map;
	var context_prop = '';
	var class_map = {
		r: 'ref', // 参照文献
		p: 'property', // prop
		css: 'css',
		e: 'element',
		v: 'value',
		vt: 'type',
		f: 'func',
		t: 'type',
		NOTE: 'trans-note'
	};
	var tag_map = {
		p: 'code',
		t: 'var',
		vt: 'var',
		pt: 'var',
		css: 'code',
		e: 'code',
		v: 'code',
		f: 'code',
		c: 'code',
		V: 'var',
		NOTE: 'span'
	}

	E('MAIN').innerHTML = Util.replaceWords1(
		this.html.replace(
			/◎[^`<◎]*|【.*?】|`(.*?)([$@^])(\w*)/g,
			create_html
		),
		mapping1
	);


	function create_html(match, key, indicator, klass){
if(!indicator) {
	switch(match.charAt(0)){
	case '【':
		return '<span class="trans-note">' + match + '</span>'
	case '◎':
	default:
	}
	return '<span lang="en">' + match.slice(1) + '</span>';
}

var text = key;
var href = '';
var classname = class_map[klass];
var tag = tag_map[klass];

switch(klass){
case '': // plain
	if(indicator === '^') return mapping1[key];// remap
	break;
case 'r': // ref
	text = '[' + key + ']';
	href = '#biblio-' + key.toLowerCase();
	break;
case 'p': // property
	break;
case 'pt': // property
	text = '&lt;‘<code class="property">' + key + '</code>’&gt;';
	break;
case 't': // typedef
	text = '&lt;' + key + '&gt;';
	href= '#typedef-' + key;
	break;
case 'f': // func
	text = key + '()';
	break;
case 'v': // css values
	break;
case 'vt': // css values
	text = '&lt;' + key + '&gt;';
	break;
case 'e': // HTML element
	break;
case 'css': // css codes
	break;
case 'V': // variables
	break;
case 'dgm':
	return '<a id="_dgm-' + key + '"></a>';
default:
//		console.log(match);
//	return match;
}


if(tag) {
	text = '<' + tag + (
		classname ? ' class="' + classname + '"' : ''
	) + '>' + text + '</' + tag + '>';
}


if(indicator !== '^'){
	href = link_map[klass ? (klass + '.' + key) : key] || href;
	if(!href){
		console.log(match); // check error
		return match;
	}

	switch(indicator){
	case '$':
		text = '<a href="' + href + '">' + text + '</a>';
		break;
	case '@':
//		href = href_data_map[key] || href;
		text = '<dfn id="' + href.slice(1) + '">' + text + '</dfn>';
		break;
	default:
		console.log(match);
		return match;
	}
}

return text;

	}
}
</script>

<!--% 訳文 id → 原文 id -->
<script type="text/plain" id="_original_id_map">
</script>

<!--%置換語 -->
<script type="text/plain" id="words_table1">

</script>

<!--%links -->
<script type="text/plain" id="_link_map">
p.shape-image-threshold:#propdef-shape-image-threshold
p.shape-margin:#propdef-shape-margin
p.shape-outside:#propdef-shape-outside
p.margin:~CSS2BOX#propdef-margin
p.background-clip:~CSSBG#background-clip
p.border-radius:~CSSBG#border-radius
pt.border-radius:~CSSBG#border-radius
p.fill-rule:~SVG11/painting.html#FillRuleProperty

v.border-box:#valdef-shape-box-border-box
v.content-box:#valdef-shape-box-content-box
v.padding-box:#valdef-shape-box-padding-box
v.margin-box:#valdef-shape-box-margin-box

v.closest-side:#closest-side
v.farthest-side:#farthest-side

v.none:#valdef-shape-outside-none
vt.image:#valdef-shape-outside-image

vt.length:#valdef-shape-margin-length
vt.percentage:#valdef-shape-margin-percentage
vt.number:#valdef-shape-image-threshold-number

	v.closest-side:~CSSIMAGE#valdef-size-closest-side
v.evenodd:https://drafts.fxtf.org/css-masking-1/#valdef-clip-rule-evenodd
	v.farthest-side:~CSSIMAGE#valdef-size-farthest-side
v.nonzero:https://drafts.fxtf.org/css-masking-1/#valdef-clip-rule-nonzero
vt.basic-shape:#valdef-shape-outside-basic-shape

t.basic-shape:#typedef-basic-shape
t.fill-rule:#typedef-fill-rule
t.shape-box:#typedef-shape-box
t.shape-radius:#typedef-shape-radius
t.box:~CSSBG#box
t.image:~CSSIMAGE#typedef-image
t.number:~CSSVAL#number-value
t.length:~CSSVAL#length-value
t.percentage:~CSSVAL#percentage-value
t.length-percentage:~CSSVAL#typedef-length-percentage
t.position:~CSSBG#position


f.circle:#funcdef-circle
f.ellipse:#funcdef-ellipse
f.inset:#funcdef-inset
f.polygon:#funcdef-polygon

基準box:#reference-box
浮動区画:#float-area
空の浮動区画:#empty-float-area
回込んで:#wrap
回込める:#wrap
回込む:#wrap
回込み:#wrap
回込ませる:#wrap

	●他
実数として:~TRANSITION#animtype-number
長さ, 百分率, または calc 式として:~TRANSITION#animtype-lpcalc
単純~listとして:~TRANSITION#animtype-simple-list

関数記法:~CSSVAL#functional-notation
値~定義~構文:~CSSVAL#value-defs
曲げ:~CSSBG#corner-shaping
	potentially CORS-enabled fetch:~HTML50/infrastructure.html#cors-enabled-fetch
~margin~box:~CSS2BOX#box-dimensions

時計回りに設定する:~CSSBG#setup-clockwise
側方:~CSS2VISUREN#_next-to
排他体:~CSSEXCLUSION#exclusion-box
排他~区画:~CSSEXCLUSION#exclusion-area
浮動体:~CSS2VISUREN#floats
置換要素:~CSS2CONFORM#replaced-element
内容~box:~CSS2BOX#content-box
	~padding~box:~CSS2BOX#padding-box
	~border~box:~CSS2BOX#border-box
~margin~box:~CSS2BOX#margin-box
内容~辺:~CSS2BOX#content-edge
~padding辺:~CSS2BOX#padding-edge
~border辺:~CSS2BOX#border-edge
~margin辺:~CSS2BOX#margin-edge

	"Animation of property types":~TRANSITION#animatable-types
	CSS:http://www.w3.org/TR/CSS/
	December 13th 2011:http://www.w3.org/TR/2011/WD-css3-exclusions-20111213/
	December 3rd 2013:http://www.w3.org/TR/2013/WD-css-shapes-1-20131203/
	February 11th 2014:http://www.w3.org/TR/2014/WD-css-shapes-1-20140211/
	GIF:http://www.w3.org/Graphics/GIF/spec-gif89a.txt
	June 20th 2013:http://www.w3.org/TR/2013/WD-css-shapes-1-20130620/
	March 20th 2014:http://www.w3.org/TR/2014/CR-css-shapes-1-20140320/
	May 3rd 2012:http://www.w3.org/TR/2012/WD-css3-exclusions-20120503/
	Value Definition Syntax:~CSSVAL#value-defs

</script>

<!--%語彙 -->
<script type="text/plain" id="words_table">


UA:user agent:UA
	animationを伴う:animated
comma:::カンマ
data:::データ
	面積ゼロwith no extent:::
fetch:::
frame:::フレーム
list:::リスト
log:::ログ
logo:::ロゴ
	~method:::メソッド
	mode:::モード
network:::ネットワーク
pair:::ペア
raster:::ラスター
	shrink-wrap:shrink-wrap:~
space:::スペース
zero:::ゼロ

	●幾何

inset:
offset:::
overflow:::過フロー:オーバーフロー
padding:::パディング
path:::パス
size:::サイズ
border:::ボーダー
bounding:::
box:::ボックス
margin:::マージン
三角形の:triangular:~
三次元版:3D version:~
	元の:underlying:~
不透明:opaque:~
不透明度:opacity:~
位置:position:~
位置決め:positioning:~
作成-:create:~
供与-:contribute:~
依存-:depend:~
	依然として:still:~
	個々の:individual:~
値:value:~
入力:input:~

	内側:inside:~
中心:center:~
上端:top:~
下向き:downward:~
下端:bottom:~
丸め:rounding:~
側:side:~
脇:side:~
内縁
基準box:reference box:基準 box:基準ボックス
図形:shape:~
境界:boundaries:~
外側:outside:~
外方:outward:~
外縁
形状付け:shaping:~
方向:direction:~
横幅:width:~
横方向:horizontal:~
曲げ:curvature:~
楕円:ellipse:~
次元:dimension:~
正方形:square:~
正規化-:normalize:~
真円:circle:~
矩形:rectangle:~
矩形でな:rectangular でな:~
比率:ratio:~
狭めら
狭める-:reduce:~
閾値:threshold:~
短縮-:shorten:~
軸:axis:~
辺:edge:~
隅:corner:~
多角形:polygon:~
多角形の:polygonal:~
始端:start:~
開始-:start:~
寸法:dimension:~
封入-:enclose:~
囲われ
囲う
	enclosing
尖った:sharp:~
gradient:
幾何:geometry:~
幾何的:geometric:~
縦幅:height:~
縦方向:vertical:~
座標:coordinate:~
座標系:coordinate system:~
拡幅:expanding:~

拡げる-:increase する:~
内方:inward:~
区画:area:~
半径:radius:~
	両~半径:radii:~
切取られ:clip され:切り取られ
原点:origin:~
左上:top-left:~

alpha:::アルファ
channel:::チャンネル
影:shadow::~
輝度:luminance:~
抽出-:extract:~
透明な:transparent:~
	最も近い~closest
	最も遠い~farthest
内部域:interior:内部とされる領域
	~~周り／:around:~
	~~重な:intersection:~
	空けるように~open
	重なる~overlay
	以内の地点すべてを含むような，最小の …take all points on the circle centered at the point
	側方:next to:~

	●layout
flow:::フロー
包含塊:containing block::包含ブロック
浮動体:float:~
浮動-:float:~
浮動:floating:~
	floating
浮動区画:float area:~
左浮動:left-floated:~
右浮動:right-floated:~
左:left:~
右:right:~
	回込-:wrap-around:~
回込み:wrapping around:回り込み
回込んで:wrap around して:回り込んで
回込める:wrap around できる:回り込める
回込む:wrap around する:回り込む
	回込み:wrap
回込ませ:wrap around させ:回り込ませ

	地点:point:~
	垂直の:perpendicular:~
型:type:~
基本:basic:~
堆積法:stacking:~
	塊:block::ブロック
変形:transformation:~
距離:distance:~
	転換-:turn into:~
頂点:vertex:~
接続-:connect:~


	●CSS
animate:::アニメート
animation:::アニメーション
fallback:::フォールバック
keyword:::キーワード
level:::レベル
prop:property::プロパティ
略式:shorthand:~
source:::ソース
style:::スタイル
	styling
stylesheet:::スタイルシート
token:::トークン
名前:name:~
適用対象:applies to:~
継承-:inherit:~
媒体:media::~:メディア
百分率:percentage:~
算出-:compute:~
算出値:computed value:~
指定値:specified value:~
初期値:initial value:~
正準的順序:canonical order:~
視覚的:visual:~
利用不可:N/A:~

排他:exclusion:~
排他体:exclusion:~
画像:image:~
画素:pixel:~
相対的:relative:~
確立-:establish:~
堆積-:stack:~
終端:end:~
絶対:absolute:~
置換-:replace:~
置換要素:replaced element:~
背景:background:~
行0:line:行
行box:line-box:行 box:行ボックス
行内:inline:~
補間-:interpolate:~
補間:interpolation:~
要素:element:~
規則:rule:~
解決-:resolve:~
関数:function:~
関数記法:functional notation:~
内容:content:~
宣言-:declare:~
宣言法:declaring:~
展開-:expand:~
属性:attribute:~
式:expression:~
描画-:render:~
描画:rendering:~
整形-:format:~
整形:formatting:~
文書:document:~
文法:grammar:~
文脈:context:~
遷移:transition:~
長さ:length:~
書字mode:writing mode::書字モード
構文:syntax:~
具現化法:rendering:~::レンダリング

	●仕様
指定-:specify:~
error:::エラー
model:::モデル
module:::モジュール
support:::サポート
version:::バージョン
system:::システム
	両者:both:~
予期-:expect:~
期待-:expect:~
使用:used:~
事例:case:~
	二番目の:second:~
	仕方:way:~
仕様:spec:~
例外:exception:~
省略可:optional:~

図式:diagram:~
	図:figure:~
	図:picture:~
妥当:valid:~
制御-:control:~
効果:effect:~
単純:simple:~
単純化-:simplify:~
可能0:possible:可能
各種用語:terminology:~
定義-:define:~
定義:definition:~
実装-:implement:~
実際の:actual:~
	対応ing:corresponding:~
将来の:future:~
	常に:always:~
拡張-:extend:~
引数:argument:~
	形:form:~
形式:format:~
影響-:affect:~
	後:after:~
	必要:necessary:~
意味-:mean:~
意味:meaning:~
成分:component:~
所与の:given:与えられた
挙動:behavior:ふるまい
改変:modification:~
改変-:modify:~
	数:number:~
新たな:new:~
方式:manner:~
	方法:how:~
既定の:default:~
明確化-:clarify:~
決定-:determine:~
用語:term:~
相互作用:interaction:~
	章:chapter:~
	節:section:~
要求-:require:~
許容-:allow:~
詳細:details:~
	起-:happen:~
通常の:normal な:~
通常は:normal には:~
適用-:apply:~
避ける:avoid する:~
選好-:prefer:~
	preferring
関係:relation:~
類似的:similar:~
考慮-:consider:~
相違:difference:~
更新:update:~
無効な:invalid:~
特色機能:feature:~
省略-:omit:~
省略:omitting:~

	●未分類
種類:kind:~
段落:paragraph:~
状態:state:~
生産-:produce:~
直列化-:serialize:~
直列化:serialization:~
空白区切りの:space-separated:~
範囲:range:~
組合せ:combination:~
表現-:represent:~
表示-:display:~
設定-:set:~
追加-:add:~
連結-:join:~
除去-:remove:~
変更-:change:~
順序:order:~
切替え:switch:~
切詰めた:clamp した:~
切詰めら:clamp さ:~
	利用-:use:~
	containing:~
包含-:contain:~
単独の:single:~
	一致する:identical:~

	示-:show:~
	最初の:first:~
	最後の:last:~
	結果:result:~
	自身:itself:~
	給する:supply:~
	表す:express:~
	4 つの:four:~
	::~
	:内方への offset:内方へのオフセット
	URI
	URL
	e::~
	CSS
	Edge
	Level
	Model
	~against
	〜とも~apiece
	~arranged
破線:dotted line:~
簡約-:reduce:~
	再構成:reformulate:~
	~changing
	選ぶ~choosing
	~come
	~darker
	~defined
	~eight
	~ever
	~filling
	~finding
	~follow
	~following
	~lighter
	~made
	~margin-top:margin-top:~
	~note
	~per
	全く~perfectly
	~ref
	~refer
	~referrer
	~respective
	~running
	~rx
	~ry
	~sense
	~stay
	~written
	前:before:~
	通:through:~
	各:each:~
	合間:between:~
	含-:include:~

	藤色:mauve:~
	水色:blue:~
	黄色:yellow:~
	黒色:black:~
	~~代用:stand in:~
	〜に則って:according:~
	〜に基づいて:based:~
	〜の代わりに:instead:~
	この:this:~
	これらの:these:~
	すべての:all:~
	その:that:~
	そのような:such:~
	それらの:their:~
	それらの:those:~
	より大きい:greater:~
	より大きい:larger:~
	より小さい:smaller:~
	三つ:three:~
	上の:above:~
	下:below:~
	与-:give:~
	並び:sequence:~
	丸まった:rounded:~
	二つの:two:~
	他の:other:~
	他の場合:otherwise:~
	任意の:arbitrary:~
	例:example:~
	全:fully:~
	再利用-:re-use:~
	別々の:separate:~
	同じ:same:~
	含めて:including:~
	場合によっては:possibly:~
	少なくとも:least:~
	更なる:further:~
	最も小さい:smallest:~
	次の:the-following:~
	残り:rest:~
	濃い水色~darker blue
	無い:absence:~
	現れ show up
	異なる:different:~
	空の:empty
	薄い水色~lighter blue
	複雑な:complex:~
	見な-:consider:~
	見よ:see:~
	負の:negative:~
	述-:describe:~
	閉じ:close:~

</script>


<!--%style -->
<style type="text/css">

</style>
</head>

<body>



<div style="display:none;">
<input type="hidden" id="_page_config" value="" />

<!--%resource pool -->
	<div id="_persisted_parts">
<img
	id="_dgm-hand-funnel"
	src="css-shapes/hand-funnel.png"
	alt="Using the shape-outside property with floats"
>
<img
	id="_dgm-float-side-example"
	src="css-shapes/float-side-example.png"
	alt="wrapping around right side of a left-float float area"
>
<img
	id="_dgm-stacked-float-example"
	src="css-shapes/stacked-float-example.png"
	alt="Stacking two floats with a small shape-outside"
>
<img
	id="_dgm-shape-outside-image"
	src="css-shapes/shape-outside-image.png"
	alt="A float shape around an image using its alpha-channel"
>
<img
	id="_dgm-box-edges-simple"
	src="css-shapes/box-edges-simple.png"
	alt="Colored boxes representing simple box edges"
>
<img
	id="_dgm-box-edges-complex"
	src="css-shapes/box-edges-complex.png"
	alt="Colored boxes representing complex box edges"
>
<img
	id="_dgm-normal-wrap"
	src="css-shapes/normal-wrap.png"
	alt="Text wrapping around float with no shape"
>
<img
	id="_dgm-margin-box-wrap"
	src="css-shapes/margin-box-wrap.png"
	alt="Text wrapping around float with margin-box shape"
>
<img
	id="_dgm-nepal-flag-shape"
	src="css-shapes/nepal-flag-shape.png"
	alt="Example of a shape-margin offset"
>
<img
	id="_dgm-shape-outside-image-with-margin"
	src="css-shapes/shape-outside-image-with-margin.png"
	alt="A float shape around an image using its alpha-channel with a 35 pixels shape-margin"
>
	</div>
</div>


<aside class="trans-meta">
<h1>CSS Shapes Module Level 1 日本語訳</h1>
<p>
<a id="_THIS_PAGE">このページ</a>
は、
<a href="http://www.w3.org/">W3C</a> により，副題の日付にて<strong >編集者草案</strong>として公開された
<a id="_SPEC_URL">CSS Shapes Module Level 1</a>
を日本語に翻訳したものです。
<strong >この翻訳の正確性は保証されません。</strong>
この仕様の公式な文書は英語版であり、この日本語版は公式のものではありません。
【 と 】で囲まれた部分は<span class="trans-note">【訳者による注釈】</span>です。
（<a href="index.html">他のウェブ関連仕様の一覧と共通機能の詳細</a>）
</p>

<p >
更新：<time>2016-08-05</time>
（公開：<time>2015-11-04</time> ）
</p>

<p>
このページの大部分はスクリプトにより生成されています（
古いブラウザなど，一部のブラウザには対応していません：
<span id="_GENERATING"></span>）。
</p>

<p>
本文ダブルクリックで当該箇所の原文が表示されます（左下隅に各種 表示切替ボタン — CSS や DOM の対応が古いブラウザでは、一部機能しないことがあります）。
</p>

<address id="_CONTACT">　</address>

</aside>


<header>
<a href="https://www.w3.org/" id="_W3C">W3C</a>
	<hgroup>
<h1 id="title">CSS Shapes Module Level 1</h1>
<h2 id="subtitle">2016 年 8 月 3 日付 編集者草案</h2>
	</hgroup>

<dl id="_versions">
	<dt title="This version:">このバージョン</dt>
	<dt title="Editor’s Draft:">編集者草案</dt>
	<dd>https://drafts.csswg.org/css-shapes/</dd>

	<dt title="Latest published version:">最新発行バージョン</dt>
	<dd>https://www.w3.org/TR/css-shapes/</dd>
<!-- 
	<dt title="Previous versions:">以前のバージョン</dt>
-->

	<dt title="Test suite:">テスト一式</dt>
	<dd>http://test.csswg.org/suites/css-shapes-1_dev/nightly-unstable/</dd>

	<dt title="Editors:">編集</dt>
	<dd><a href="mailto:vhardy@adobe.com">Vincent Hardy</a> (Adobe Systems, Inc.)</dd>
	<dd><a href="mailto:ratan@microsoft.com">Rossen Atanassov</a> (Microsoft Corporation)</dd>
	<dd><a href="mailto:stearns@adobe.com">Alan Stearns</a> (Adobe Systems, Inc.)</dd>

	<dt title="Issue Tracking:">最新の課題</dt>
	<dd><a href="https://github.com/w3c/csswg-drafts/labels/css-shapes-1">GitHub Issues</a></dd>

	<dt title="Issues List:">課題一覧</dt>
	<dd><a href="https://www.w3.org/Bugs/Public/buglist.cgi?query_format=advanced&amp;product=CSS&amp;component=Shapes&amp;resolution=---&amp;cmdtype=doit">In Bugzilla</a></dd>
</dl>


<small class="copyright" data-fill-with="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2016 <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply. </small>

</header>


<div id="MAIN" style="display:none;">


	<section id="abstract">
<h2 title="Abstract">要約</h2>

<p>
CSS Shapes は、 CSS にて利用するための幾何的~図形について述べる。
この Level 1 の CSS Shapes は、`浮動体$に適用し得る。
例えば、浮動体に真円~図形が指定された場合、行内~内容は，浮動体の`~margin~box$に代わって，その真円~図形を`回込む$ようになる。
◎
CSS Shapes describe geometric shapes for use in CSS. For Level 1, CSS Shapes can be applied to floats. A circle shape on a float will cause inline content to wrap around the circle shape instead of the float’s bounding box.
</p>

<p>
<a href="http://www.w3.org/TR/CSS/">CSS</a>
は、（ HTML や XML などの）構造を備える文書から，
スクリーン, 紙, スピーチ, 等々
の媒体への具現化法を記述するための言語である。
<span lang="en">
CSS is a language for describing the rendering of structured documents (such as HTML and XML) on screen, on paper, in speech, etc.
</span></p>


	</section>
	<section id="status">
<h2 title="Status of this document">この文書の位置付け</h2>

<p>
これは編集者草案の公開の複製です…
<span class="trans-note">【
以下，この節の他の内容は
<a href="css-common-ja.html#status">CSS 日本語訳 共通ページ</a>
に委譲
】</span></p>

	</section>

<main id="MAIN0">

	<section id="intro">
<h2 title="Introduction">1. 序論</h2>

~INFORMATIVE

<p>
図形（ shape ）は、 CSS 値として利用できる任意の幾何を定義する。
この仕様は、要素の`浮動区画$の幾何を制御する，各種~propを定義する。
`shape-outside$p ~propは、図形~値を利用して，`浮動体$に対する`浮動区画$を定義する。
◎
Shapes define arbitrary geometries that can be used as CSS values. This specification defines properties to control the geometry of an element’s float area. The shape-outside property uses shape values to define the float area for a float.
</p>

<p class="note">注記：
CSS Shapes の将来の~levelでは、浮動体でない要素~上での図形の利用も許容することになる。
CSS Masking `CSS-MASKING$r,
CSS Exclusions `CSS3-EXCLUSIONS$r
などの他の CSS ~moduleも図形を用立て得る。
◎
Note: Future levels of CSS Shapes will allow use of shapes on elements other than floats. Other CSS modules can make use of shapes as well, such as CSS Masking [CSS-MASKING] and CSS Exclusions [CSS3-EXCLUSIONS].
</p>

<p class="note">注記：
CSS Shapesと CSS Exclusions の両者とも実装する~UAでは、
`shape-outside$p ~propが`排他体$に対する`排他~区画$を定義する。
◎
Note: If a user agent implements both CSS Shapes and CSS Exclusions, the shape-outside property defines the exclusion area for an exclusion.
</p>

<p class="note">注記：
CSS Shapes の将来の~levelでは、要素の中で内容が`回込む$図形を定義するような，
`shape-inside^p ~propが定義されることになる。
◎
Note: A future level of CSS Shapes will define a shape-inside property, which will define a shape to wrap content within the element.
</p>



		<section id="module-interactions">
<h3 title="Module Interactions">1.1. ~module間の相互作用</h3>

<p>
この~moduleは、
`CSS21$r
9 章に定義される`浮動体$の特色機能を拡張する。
◎
This module extends the float features defined in [CSS21] chapter 9.
</p>

		</section>
		<section id="values">
<h3 title="Values">1.2. 値</h3>
<h3 id="animations" title="Animated Values">1.3. 値の~animation</h3>

<p class="trans-note">【
これらの節の内容は
<a href="css-common-ja.html#values">CSS 日本語訳 共通ページ</a>
に委譲。
】</p>

<!-- 
~TRANSITION#animatable-types">"Animation of property types"

It is expected that CSS will include ways to animate transitions between styles. (The section "Animation of property types" of the CSS Transitions module [CSS3-TRANSITIONS] is expected to define how different kinds of values are interpolated during a transition.) In anticipation of that, this module includes a line "Animatable" for each property, which specifies whether and how values of the property can be animated.
-->


		</section>
		<section id="terminology">
<h3 title="Terminology">1.4. 各種用語</h3>

<dl>
	<dt>`回込む@ （ wrap する）</dt>
	<dd>
この仕様で利用する用語 `回込む$は、
`CSS21$r 9 章に定義されるように，内容が`浮動区画$の脇に~flowすることを~~意味する。
内容は、左浮動~boxに対しては その右~脇に，右浮動~boxに対しては その左~脇に`回込む$。
この`回込み$により、`浮動体$の`側方$に来る各~行boxは，`浮動区画$と~~重ならないよう，必要に応じて短縮されることになる。
◎
This specification uses the term wrap to refer to flowing content around the sides of a float area, defined in [CSS21] chapter 9. Content wraps around the right side of a left-floated box, and content wraps around the left side of a right-floated box. One result of this wrapping is that line boxes next to a float are shortened as necessary to avoid intersections with the float area.
</dd>

	<dt>`浮動区画@ （ float area ）</dt>
	<dd>
`浮動体$の~~周りに内容が`回込む$ときに利用される区画。
浮動体の挙動を定める規則にて，内容がどこへ~flowするかを決定するときは、`浮動区画$の各~側が利用される。
既定では、`浮動区画$は，浮動体の`~margin~box$になる（注意：
`margin-box$v 値による`浮動区画$は、 `border-radius$p による`曲げ$も含むので， これとは異なり得る）。
この仕様の `shape-outside$p ~propを利用すれば、矩形でない任意の`浮動区画$を定義できる。
◎
The area used for wrapping content around a float element. The rules for float behavior use the sides of the float area to determine where content flows. By default, the float area is the float element’s margin box (note this can be different than the float area produced by the margin-box value, which includes border-radius curvature). This specification’s shape-outside property can be used to define an arbitrary, non-rectangular float area.
</dd>

</dl>



		</section>
	</section>
	<section id="relation-to-box-model-and-float-behavior">
<h2 title="Relation to the box model and float behavior">2. ~box~modelと浮動体の挙動との関係</h2>

<p>
行内~flow内容を`浮動体$の外側に`回込ませる$ために利用する境界は、図形を利用して定義できるが、実際の~box~modelを変更することはない。
要素に指定されている［
~margin ／ ~border ／ ~padding
］は、 <!-- ＊ -->`CSS3BOX$r ~moduleに則って算出され, 描画されることになる。
また、`浮動区画$を図形で定義しても，`浮動体$の位置決めと堆積法は影響されない。
◎
While the boundaries used for wrapping inline flow content outside a float can be defined using shapes, the actual box model does not change. If the element has specified margins, borders or padding they will be computed and rendered according to the [CSS3BOX] module. Also, float positioning and stacking are not affected by defining a float area with a shape.
</p>

<p>
`浮動区画$を定義する図形は，`浮動体$の`~margin~box$で切取られる。
言い換えれば、図形は【既定の】`浮動区画$を狭めるのみであり，拡げることはない。
`浮動区画$が狭められる結果、通常では浮動体により短縮されるような行boxが，短縮されなくなることも起こり得る。
`空の浮動区画@
（面積ゼロの区画）に対しては、どの行boxも短縮されなくなる
【すなわち、浮動体は空間を排他的に占めなくなる】
。
◎
When a shape is used to define a float area, the shape is clipped to the float’s margin box. In other words, a shape can only ever reduce a float area, not increase it. A reduced float area may have no effect on some line boxes that would normally be affected by the float. An empty float area (where the shape encloses no area) has no effect on line boxes.
</p>

<p>
`浮動区画$を図形で定義することにより、通常の`浮動区画$をすべての側で狭めることが可能になるが、内容が浮動体の両~脇に`回込む$ことを許容するものではない。
`浮動体$が `shape-outside$p を伴っていても、内容が`回込める$のは，左~浮動体に対しては右~脇のみ, 右~浮動体に対しては左~脇のみに限られる。
◎
A float area defined by a shape may reduce the normal float area on all sides, but this does not allow content to wrap on both sides of a float. Left floats with a shape-outside still only allow content wrapping on the right side, and right floats only allow wrapping on the left.
</p>

<div class="example">

<p>
次の例では、左／右へ浮動する各 `img^e 要素には、
`shape-outside$p ~propを利用して三角形の図形が指定されている。
◎
In the following example the left and right floating img elements specify a triangular shape using the shape-outside property.
</p>


<pre>
&lt;img class="left" src="hand.svg"/&gt;
&lt;img class="right" src="hand.svg"/&gt;
&lt;p&gt;
  Sometimes a web page’s text content appears to be
  funneling your attention towards a spot on the page
  to drive you to follow a particular link. Sometimes
  you don’t notice.
&lt;/p&gt;

&lt;style type="text/css"&gt;
  .left {
    shape-outside: polygon(0 0, 100% 100%, 0 100%);
    float: left;
    width: 40%;
    height: 12ex;
    transform: scaleX(-1);
  }

  .right {
    shape-outside: polygon(100% 0, 100% 100%, 0 100%);
    float: right;
    width: 40%;
    height: 12ex;
  }

  p {
    text-align: center;
  }
&lt;/style&gt;
</pre>

<figure>`hand-funnel^dgm</figure>

</div>

<div class="example">

<p>
どの図形も`浮動体$の`~margin~box$で切取られるので、上の左~浮動体にこの図形を追加しても，結果の描画は同じになる。
◎
Since shapes are clipped to the float’s margin box, adding this shape to the left float above would result in the same rendering.
</p>
<pre>
shape-outside: polygon(0 0, 500% 500%, 0 500%);
</pre>

</div>

<div class="example">

<p>
面積ゼロの図形に対しては、`空の浮動区画$が作成されることになる。
`回込み$において考慮されるのは，`浮動区画$のみなので、浮動体に下のいずれの図形が適用されても，行内~内容は浮動体の~box全体に重なるように~flowすることも許容されることになる。
◎
A shape with no extent will create a float area with no extent. Because wrapping only considers the float area, either shape below applied to a float will allow inline content to flow through all of the float’s box.
</p>
<pre>
shape-outside: inset(50% 50% 50% 50%);
shape-outside: inset(150% 150% 0% 0%);
</pre>
</div>

<div class="example">

<p>
`shape-outside$p により，`浮動区画$の 左／右 両~脇を~~空けるように区画を作成できる。
次の事例では、内容が`回込める$のは，依然として浮動体の片方の脇のみになる。
図では、図形は水色に, 図形の外側の内容~区画は藤色に描画されている。
◎
A shape-outside can create open areas on both the left and right of a float area. Content still wraps only on one side of a float in this case. In the picture, the shape is rendered in blue, and the content area outside the shape in mauve.
</p>

<pre>
shape-outside: polygon(50px 0px, 100px 100px, 0px 100px);
</pre>

<figure>`float-side-example^dgm</figure>

</div>

<div class="example">

<p>
次の~style付けは、浮動体の内容~区画よりずっと小さい図形を作成し，浮動体に上端~marginを追加している。
図では、［
図形は水色,
図形の外側の内容~区画は藤色,
浮動-~boxの~margin区画は黄色
］に描画されている。
行内~内容は、図形のみを`回込む$ようになり，残りの~margin区画に重なる。
◎
The following styling creates a shape much smaller than the float’s content area, and adds a margin-top to the float. In the picture, the shape is rendered in blue, the content area outside the shape in mauve, and the margin area of the float box in yellow. The inline content only wraps around the shape, and otherwise overlays the rest of the float margin box.
</p>

<pre>
.float-left {
  shape-outside: polygon(0% 50%, 50% 100%, 0 100%);
  float: left;
  width: 100px;
  height: 100px;
  margin-top: 20px;
}
</pre>

<figure>`float-margin-example^dgm</figure>


<p>
次の図は、二つの浮動体が互いに`側方$に堆積された場合にあり得る結果を示す。
各~浮動体は、`浮動区画$ではなく，自身の`~margin~box$を利用して位置されることに注意。
◎
The next picture shows a possible result if two of these floats were stacked next to each other. Note that the floats are positioned using their margin boxes, not the float area.
</p>

<figure>`stacked-float-example^dgm</figure>

</div>


	</section>
	<section id="basic-shape-functions">
<h2 title="Basic Shapes">3. 基本~図形</h2>

<p>
`basic-shape@t
型は、下に述べる基本~図形~関数を利用して指定できる。
この構文を利用して図形を定義するときの
`基準box@
は、 `basic-shape$t 値を利用する各~propにて定義される。
図形に対する座標系の原点は、`基準box$の左上~隅になる
— ここで， x-軸は~~右向き, y-軸は下向きである。
百分率で表されるすべての長さは、`基準box$の使用~sizeから解決される。
◎
The &lt;basic-shape&gt; type can be specified using basic shape functions. When using this syntax to define shapes, the reference box is defined by each property that uses &lt;basic-shape&gt; values. The coordinate system for the shape has its origin on the top-left corner of the reference box with the x-axis running to the right and the y-axis running downwards. All the lengths expressed in percentages are resolved from the used dimensions of the reference box.
</p>

		<section id="supported-basic-shapes">
<h3 title="Supported Shapes">3.1. ~supportされる図形</h3>

<p>
次の図形が~supportされる。
すべての `basic-shape$t 値は、`関数記法$を利用し，`値~定義~構文$を利用して，ここに定義される。
◎
The following shapes are supported. All &lt;basic-shape&gt; values use functional notation and are defined here using the Value Definition Syntax.
</p>

<dl class="valdef">
    <dt>`inset@f = inset( `length-percentage$t{1,4} [round `border-radius$pt]? )</dt>
	<dd>
<p>
内方へ~offsetされた矩形を定義する。
◎
Defines an inset rectangle.
</p>
		<ul>
			<li>
1 〜 4 個の `length-percentage$t 引数は、［
`基準box$の各~側からの~inset（内方への~offset）
］を`時計回りに設定する$。
◎
When all of the first four arguments are supplied they represent the top, right, bottom and left offsets from the reference box inward that define the positions of the edges of the inset rectangle. These arguments follow the syntax of the margin shorthand, that let you set all four insets with one, two or four values.
</li>
			<li>
`border-radius$pt 引数（省略可）は、
`border-radius$p 略式~prop構文を利用して，~offsetされた矩形の各~隅の丸めを定義する。
◎
The optional &lt;‘border-radius’&gt; argument(s) define rounded corners for the inset rectangle using the border-radius shorthand syntax.
</li>
		</ul>
</dd>
	<dd>
いずれかの次元において、両側の［
内方への~offset
］の合計が`基準box$の使用~size以上になる場合（左, 右とも 75% など）、図形の面積はゼロになり，結果は`空の浮動区画$になる。
◎
A pair of insets in either dimension that add up to more than the used dimension (such as left and right insets of 75% apiece) define a shape enclosing no area. For this specification, this results in an empty float area.
</dd>

	<dt>`circle@f = circle( `shape-radius$t? [at `position$t]? )</dt>
	<dd>
<p>
真円を定義する。
</p>
		<ul>
			<li>
`shape-radius^t 引数は、真円の半径を表現する。
負の値は無効。
百分率~値は、`基準box$の使用 ( 横幅, 縦幅 ) から，式［
√( 横幅の二乗 + 縦幅の二乗 ) ÷ √ 2
］で解決される。
◎
The shape-radius argument represents r, the radius of the circle. Negative values are invalid. A percentage value here is resolved from the used width and height of the reference box as sqrt(width2+height2)/sqrt(2).
</li>
			<li>
`position$t 引数は、真円の中心を定義する。
省略-時の既定は `center^v （`基準box$の中心）になる。
◎
The position argument defines the center of the circle. This defaults to center if omitted.
</li>
		</ul>
    </dd>

	<dt>`ellipse@f = ellipse( `shape-radius$t{2}? [at `position$t]? )</dt>
	<dd>
<p>
楕円を定義する。
</p>
		<ul>
			<li>
2 個の `shape-radius^t 引数は、順に，楕円の［
x-軸, y-軸
］半径を表現する。
各~引数に対する百分率~値は、順に，`基準box$の使用［
横幅, 縦幅
］に対し解決される。
いずれも，負の値は無効。
◎
The shape-radius arguments represent rx and ry, the x-axis and y-axis radii of the ellipse, in that order. Negative values for either radius are invalid. Percentage values here are resolved against the used width (for the rx value) and the used height (for the ry value) of the reference box.
</li>
			<li>
`position^t 引数は、楕円の中心を定義する。
省略-時の既定は `center^v （`基準box$の中心）になる。
◎
The position argument defines the center of the ellipse. This defaults to center if omitted.
</li>
		</ul>
    </dd>

	<dt>`polygon@f = polygon( `fill-rule$t?, [`length-percentage$t `length-percentage$t]# )</dt>
	<dd>
<p>
多角形を定義する。
</p>
		<ul>
			<li>
`nonzero$v, `evenodd$v いずれかをとり得る
`fill-rule@t
引数は、多角形の内部域を決定する規則に利用される
— 詳細は SVG の `fill-rule$p ~propを見よ。
省略-時の既定は `nonzero$v 。
◎
&lt;fill-rule&gt; - The filling rule used to determine the interior of the polygon. See fill-rule property in SVG for details. Possible values are nonzero or evenodd. Default value when omitted is nonzero.
</li>
			<li>
~list内の各［
`length-percentage$t 引数~pair
］は、多角形の各~頂点を順々に与える［
x, y
］座標を表現する。
◎
Each pair argument in the list represents xi and yi - the x and y axis coordinates of the i-th vertex of the polygon.
</li>
		</ul>
	</dd>
	<dd>
~UAは、この~listの最後の頂点から最初の頂点へ接続して多角形を閉じ~MUST。
◎
The UA must close a polygon by connecting the last vertex with the first vertex of the list.
</dd>
	<dd>
面積ゼロの
— すなわち，内部域が空になる（例えば頂点が 2 個以下の） —
多角形に対する結果は、`空の浮動区画$になる。
◎
At least three vertices are required to define a polygon with an area. This means that (for this specification) polygons with less than three vertices (or with three or more vertices arranged to enclose no area) result in an empty float area.
</dd>
</dl>

<p>
上で定義されていない各~引数は、次で定義される：
◎
The arguments not defined above are defined as follows:
</p>

<dl class="valdef">
	<dt>`shape-radius@t = `length-percentage$t | `closest-side$v | `farthest-side$v</dt>
	<dd>
<p>
真円／楕円
に対する半径を定義する。
省略-時の既定の値は， `closest-side^v 。
◎
Defines a radius for a circle or ellipse. If omitted it defaults to closest-side.
</p>


		<dl class="valdef">
			<dt>`closest-side@v</dt>
			<dd>
図形の中心から `基準box$の最も近い側までの長さを利用する。
真円に対しては、両~次元にて最も近い側になる。
楕円に対しては、各~半径に対し，その次元にて最も近い側になる。
◎
closest-side uses the length from the center of the shape to the closest side of the reference box. For circles, this is the closest side in any dimension. For ellipses, this is the closest side in the radius dimension.
</dd>
			<dt>`farthest-side@v</dt>
			<dd>
図形の中心から `基準box$の最も遠い側までの長さを利用する。
真円に対しては、両~次元にて最も遠い側になる。
楕円に対しては、各~半径に対し，その次元にて最も遠い側になる。
◎
farthest-side uses the length from the center of the shape to the farthest side of the reference box. For circles, this is the farthest side in any dimension. For ellipses, this is the farthest side in the radius dimension.
</dd>
		</dl>
	</dd>
</dl>


		</section>
		<section id="basic-shape-computed-values">
<h3 title="Computed Values of Basic Shapes">3.2. 基本~図形の算出値</h3>

<p>
`basic-shape$t 関数の算出値は、次の例外を除いて指定値のままになる：
◎
The values in a &lt;basic-shape&gt; function are computed as specified, with these exceptions:
</p>

<ul>
	<li>
省略-時の値は含まれ、その既定の値に算出される。
◎
Omitted values are included and compute to their defaults.
</li>
	<li>
`circle$f ／ `ellipse$f
における `position$t 値は、左上 原点からの~offset~pair（横方向, 縦方向の順）に算出され、それぞれは，絶対~長さと百分率の組合せとして与えられる。
◎
A &lt;position&gt; value in circle() or ellipse() is computed as a pair of offsets (horizontal then vertical) from the top left origin, each given as a combination of an absolute length and a percentage.
</li>
	<li>
`inset$f における `border-radius$pt 値は、 8 個すべての［
`length$t ／ `percentage$t
］値に展開された~listとして算出される。
◎
A &lt;border-radius&gt; value in inset() is computed as an expanded list of all eight &lt;length&gt; or percentage values.
</li>
</ul>

		</section>
		<section id="basic-shape-serialization">
<h3 title="Serialization of Basic Shapes">3.3. 基本~図形の直列化</h3>

<div class="p">
<p>
`basic-shape$t 関数を直列化するときは、それらの個々の文法に従う
— その際には：
</p>

<ul ><li>文法による順序を利用し、
</li><li>可能0な所では `calc^f 式を避け、
</li><li>`calc^f 変形を避け、
</li><li>意味を変えずに省略できる所では 成分を省略して、
</li><li>空白区切りの~tokenは単独の~spaceで連結して、
</li><li>直列化される各~commaには単独の~spaceを後続させる。
</li></ul>

◎
To serialize the &lt;basic-shape&gt; functions, serialize as per their individual grammars, in the order the grammars are written in, avoiding calc() expressions where possible, avoiding calc() transformations, omitting components when possible without changing the meaning, joining space-separated tokens with a single space, and following each serialized comma with a single space.
</div>

<div>
<p>
`ellipse$f ／ `circle$f 内の `position$t 値（省略-時の既定も含む）を直列化するときは：
</p>

<ul ><li>その 2-値~形または 4-値~形のみに直列化し、
</li><li>`calc^f なしに表せるときは 2-値~形が選好され、
</li><li>原点は左上が選好され，~zero長さよりも 0% が選好される。
</li></ul>

◎
The &lt;position&gt; values (including the defaults) in ellipse() and circle() serialize to their 2- and 4-value forms only, preferring the 2-value form when it can be expressed without calc(), preferring left and top origins, and preferring 0% over a zero length.

The &lt;position&gt; values 
</div>


<div class="example">

<p>
`position$t に与える~offsetを伴わない~keywordは、百分率の~~代用なので，百分率に転換する：
◎
Since &lt;position&gt; keywords stand in for percentages, keywords without an offset turn into percentages.
</p>

<pre>
入力： circle(at left bottom)

結果： "circle(at 0% 100%)"
</pre>

<p>
成分の省略は，既定の値が直列化に現れないことを意味する。
ただし、 `position$t は常に 2-値~形か 4-値~形を利用するので、既定の `position$t は省略されない：
◎
Omitting components means that some default values do not show up in the serialization. But since &lt;position&gt; always uses the 2- or 4-value form, a default &lt;position&gt; is not omitted.
</p>

<pre>
入力： circle(closest-side at center)

結果： "circle(at 50% 50%)"
</pre>

<p>
文法による順序を利用するとは、
`position$t
値は，常に［
横方向, 縦方向
］成分の順に与えることを意味する：
◎
Using grammar order means that &lt;position&gt; values always give horizontal components first, then vertical.
</p>

<pre>
入力： circle(at bottom left)

結果： "circle(at 0% 100%)"
</pre>

<p>
`calc^f 式を避けるとは、 
`position$t 値は， `calc^f 式を利用して 2-値~形に単純化できるときでも， 4-値~形に直列化され~MUSTことを意味する：
◎
Avoiding calc() expressions means that some &lt;position&gt; values that could be simplified to the 2-value form must be serialized in 4-value form instead.
</p>

<pre>
入力： circle(at right 5px bottom 10px)

結果： "circle(at right 5px bottom 10px)"

次ではなく： "circle(at calc(100% - 5px) calc(100% - 10px))"
</pre>

<p>
`calc^f 式の変形を避けるとは、指定値（または算出値）において
`calc^f 式が `calc^f 形のままにされ~MUST場合は、式を別の原点で再構成したり 簡約することなく，そのまま利用することを意味する：
◎
Avoiding calc() transformations means that if a specified (or computed) calc() must stay in calc() form, it will be used as-is, not reformulated with a different origin or reduced.
</p>



<pre>
入力： bottom calc(10% + 5px)

結果： "bottom calc(10% + 5px)"

次ではなく： "top calc(90% - 5px)"
次でもなく： "calc(90% - 5px)"
</pre>

<p>
~zero長さより 0% が選好されるとは、省略された~offsetを給するときにそうし~MUSTことを意味する：
◎
Preferring 0% over a zero length comes up when you must supply an omitted offset.
</p>

<pre>
入力： circle(at right 5px top)

結果： "circle(at right 5px top 0%)"
</pre>

<p>
左上の原点が選好されるとは、（ `calc^f を避けれるときは）百分率~offsetに対しては左上~隅を原点にとって正規化することを意味する：
◎
Preferring left and top origins means that some percentage offsets will normalize to those origins (when calc can be avoided).
</p>
<pre>
入力： circle(at right 5% top 0px)

結果： "circle(at 95% 0%)"
</pre>
</div>


		</section>
		<section id="basic-shape-interpolation">
<h3 title="Interpolation of Basic Shapes">3.4. 基本~図形の補間</h3>

<p>
二つの基本~図形の合間で補間するときには、以下の規則が適用される。
互いの図形~関数の引数たちは、`単純~listとして$補間される。
~listの各~値は、可能0な所では，`長さ, 百分率, または calc 式として$補間される。
値がその型でなくても，一致するならば（両~listの同じ~list位置に `nonzero$v が見出されたときなど）、~list全体は補間できる。
◎
For interpolating between one basic shape and a second, the rules below are applied. The values in the shape functions interpolate as a simple list. The list values interpolate as length, percentage, or calc where possible. If list values are not one of those types but are identical (such as finding nonzero in the same list position in both lists) those values do interpolate.
</p>
<ul>

	<li>
両~図形とも同じ`基準box$を利用してい~MUST。
◎
Both shapes must use the same reference box.
</li>
	<li>
<p>
両~図形とも同じ型の図形~関数であって，次のいずれかに該当する場合、互いの図形~関数の各~引数の合間を補間する：
◎
↓</p>

		<ul>
			<li>
型は
`ellipse$f, `circle$f
いずれかであって, かつ いずれの半径にも［
`closest-side$v ／ `farthest-side$v
］~keywordは利用されていない。
◎
If both shapes are the same type, that type is ellipse() or circle(), and none of the radii use the closest-side or farthest-side keywords, interpolate between each value in the shape functions.
</li>
			<li>
`inset$f 型である。
◎
If both shapes are of type inset(), interpolate between each value in the shape functions.
</li>
			<li>
`polygon$f 型であって，両~多角形の頂点~数, `fill-rule$t は同じ。
◎
If both shapes are of type polygon(), both polygons have the same number of vertices, and use the same &lt;fill-rule&gt;, interpolate between each value in the shape functions.
</li>
		</ul>
	</li>
	<li>
他のすべての事例に対しては、補間は指定されない。
◎
In all other cases no interpolation is specified.
</li>
</ul>



		</section>
	</section>
	<section id="shapes-from-image">
<h2 title="Shapes from Image">4. 画像による図形</h2>

<p>
~source `image$t を指定して図形を定義する仕方もある。
この場合の図形は、指定された画像の~alpha~channelから算出される。
図形は、指定された画像の［
不透明度（ ~alpha ）が `shape-image-threshold$p 値で指定される閾値より大きい画素
］で占められる~~領域として，何本かの~pathで封入される区画に算出される。
そのような画素が無ければ，`空の浮動区画$になる。
`shape-image-threshold$p が指定されていない場合の初期値は
`0.0^v と見なされる。
◎
Another way of defining shapes is by specifying a source &lt;image&gt; whose alpha channel is used to compute the shape. The shape is computed to be the path or paths that enclose the area(s) where the opacity of the specified image is greater than the shape-image-threshold value. The absence of any pixels with an alpha value greater than the specified threshold results in an empty float area. If the shape-image-threshold is not specified, the initial value to be considered is 0.0.
</p>

<p>
画像は、それが［
要素の`内容~box$の使用~sizeと同じ横幅＆縦幅が指定されている，`置換要素$
］であったかのように~sizeされ，位置される。
◎
The image is sized and positioned as if it were a replaced element whose specified width and height are the same as the element’s used content box size.
</p>

<p>
~animationを伴う画像~形式（
<a href="http://www.w3.org/Graphics/GIF/spec-gif89a.txt">GIF</a>
など）に対しては、最初の~frameが利用される。
◎
For animated raster image formats (such as GIF), the first frame of the animation sequence is used.
</p>

<div class="example">

<p>
段落の左へ浮動している画像。
画像は、透明な背景の上に CSS ~logoの三次元版を示す。
~logoは ~alpha~channelを利用する影を持つ。
◎
An image is floating to the left of a paragraph. The image shows the 3D version of the CSS logo over a transparent background. The logo has a shadow using an alpha-channel.
</p>

<p>
画像は、自身の`浮動区画$を `shape-outside$p ~propを通して定義する。
◎
The image defines its float area through the shape-outside property.
</p>


<pre>
&lt;p&gt;
  &lt;img id="CSSlogo" src="CSS-logo1s.png"/&gt;
  blah blah blah blah...
&lt;/p&gt;

&lt;style&gt;
  #CSSlogo {
    float: left;
    shape-outside: attr(src url);
    shape-image-threshold: 0.1;
  }
&lt;/style&gt;
</pre>

<p>
この例の `shape-outside$p ~propは、
<a href="~CSSVAL#attr-notation" >属性~参照</a>を用いて
`img^e 要素の `src^c 属性による URL を再利用している。
◎
The shape-outside property re-uses the url from the src attribute of the img element.
</p>

<p>
画像を表示しつつ，その`浮動区画$に対し異なる画像を利用することも、全く可能0である。
◎
It is perfectly possible to display an image and use a different image for its float area.
</p>

<p>
下の図では、 CSS ~logoの~~周りの破線が~alpha~channelによる閾値を表現している。
段落の各~行0は、次の三通りの仕方で開始させられる：
◎
In the figure below, the alpha-channel threshold is represented by the dotted line around the CSS logo.
◎
It’s then possible to affect where the lines of the paragraph start in three ways:
</p>

<ol>
	<li>
画像~内の~alpha~channelを改変する
◎
Modifying the alpha channel in the image
</li>
	<li>
`shape-image-threshold$p ~prop値を変更する
◎
Changing the value of the shape-image-threshold property
</li>
	<li>
`shape-margin$p ~prop値を変更する（次節の例を見よ）
◎
Changing the value of the shape-margin property (see example 8)
</li>

</ol>

<figure>`shape-outside-image^dgm
<figcaption>
画像の~alpha~channelを利用して画像の~~周りに浮動する図形。
◎
A float shape around an image using its alpha-channel.
</figcaption></figure>

</div>

	</section>
	<section id="shapes-from-box-values">
<h2 title="Shapes from Box Values">5. ~box値による図形</h2>

<p>
図形は
<a href="~CSS2BOX#box-dimensions">CSS ~box~model</a>
に定義される各種 辺への~~参照として定義することもできる。
各~辺は、
`border-radius$p の使用~値による`曲げ$ `CSS3BG$r も含む。
`shape-box$t 値の構文は、 `margin-box$v も値にとれるよう， `box$t 値を拡張する：
◎
Shapes can be defined by reference to edges in the CSS Box Model. These edges include border-radius curvature [CSS3BG] from the used border-radius values. The &lt;shape-box&gt; value extends the &lt;box&gt; value to include margin-box. Its syntax is:
</p>
<pre>
`shape-box@t = `box$t | `margin-box$v
</pre>

<p>
各種~値の定義は：
◎
The definitions of the values are:
</p>


<dl>
	<dt>`margin-box@v</dt>
	<dd>
<p >
この値は、`~margin辺$に封入される図形を定義する。
この図形の隅の両~半径は、対応する［
`border-radius$p 値を `半径^V ／
`margin-*^p 値を `~margin^V
］と記すとき、次で決定される：
</p>
		<ul>
			<li>
`比率^V = ( `半径^V ÷ `~margin^V ) が 1 より大きい場合：
( `半径^V + `~margin^V )
になる。
</li>
			<li>
`比率^V が 1 より小さい場合：
( `半径^V + ( `~margin^V × (1 + (( `比率^V − 1 ) の三乗 ) ) ) )
になる。
</li>
		</ul>
◎
The margin-box value defines the shape enclosed by the outside margin edge. The corner radii of this shape are determined by the corresponding border-radius and margin values. If the ratio of border-radius/margin is 1 or more, then the margin box corner radius is border-radius + margin. If the ratio of border-radius/margin is less than 1, then the margin box corner radius is border-radius + (margin * (1 + (ratio-1)^3)).
</dd>

	<dt>`border-box@v</dt>
	<dd>
`~border辺$に封入される図形
を定義する。
この図形は、~borderの外縁に対する 通常の［
半径による~borderの形状付け規則
］すべてに従う。
◎
The border-box value defines the shape enclosed by the outside border edge. This shape follows all of the normal border radius shaping rules for the outside of the border.
</dd>

	<dt>`padding-box@v</dt>
	<dd>
`~padding辺$に封入される図形を定義する。
この図形は、~borderの内縁に対する 通常の［
半径による~borderの形状付け規則
］すべてに従う。
◎
The padding-box value defines the shape enclosed by the outside padding edge. This shape follows all of the normal border radius shaping rules for the inside of the border.
</dd>

	<dt>`content-box@v</dt>
	<dd>
`内容~辺$に封入される図形を定義する。
この~boxの各~隅の半径は
max ( 0, `border-radius^p − `border-width^p − `padding^p )
で与えられる。
◎
The content-box value defines the shape enclosed by the outside content edge. Each corner radius of this box is the larger of 0 or border-radius - border-width - padding.
</dd>

</dl>

<div class="example">

<p>
下に与える 100px 正方形の［
~padding, ~border, ~margin
］はいずれも 10px とする。
定義される図形は、~box値に応じて，次で与えられる：
◎
Given the 100px square below with 10px padding, border and margins, the box values define these shapes:
</p>


<dl class="switch">
	<dt>`margin-box$v</dt>
	<dd>
黄色~画素すべてを包含している図形
◎
margin-box: the shape containing all of the yellow pixels
</dd>
	<dt>`border-box$v</dt>
	<dd>
黒色~画素すべてを包含している図形
◎
border-box: the shape containing all of the black pixels
</dd>
	<dt>`padding-box$v</dt>
	<dd>
藤色~画素すべてを包含している図形
◎
padding-box: the shape containing all of the mauve pixels
</dd>
	<dt>`content-box$v</dt>
	<dd>
水色~画素すべてを包含している図形
◎
content-box: the shape containing all of the blue pixels
</dd>
</dl>

<figure>`box-edges-simple^dgm
<figcaption>
単純な CSS ~box~modelの各~辺
◎
Simple CSS Box Model Edges
</figcaption></figure>

<p>
同じ定義は、同じ 100px 正方形に対し，次の様に［
~padding, ~border, ~margin
］~propがより複雑にされた例にも適用される：
◎
And the same definitions apply to a more complex example with the same 100px square, but with these border, padding and margin properties:
</p>

<pre>
border-radius: 20px 20px 20px 40px;
border-width: 30px 10px 20px 10px;
padding: 10px 20px 10px 10px;
margin: 20px 10px 10px 10px;
</pre>

<figure>`box-edges-complex^dgm
<figcaption>
複雑な CSS ~box~modelの各~辺
◎
Complex CSS Box Model Edges
</figcaption></figure>

</div>

<div class="example">

<p>
通常の浮動体に対する回込みと
`margin-box$v 値により定義される図形に対する回込みとの間の相違は、
`margin-box$v 図形が隅の形状付けを含む点にある。
100px 正方形~boxの［
~padding, ~border, ~margin
］は いずれも `10px^v にされ，
`border-radius$p は `60px^v にされているとする。
これを左~浮動体にしたとき、内容は 通常は次の様に回込む：
◎
The difference between normal float wrapping and wrapping around the shape defined by the margin-box value is that the margin-box shape includes corner shaping. Take the 100px square with 10px padding, border and margins, but with a border-radius of 60px. If you make a left float out of it, content normally wraps in this manner:
</p>

<figure>`normal-wrap^dgm
<figcaption>
浮動体に対する通常の回込み
◎
Normal float wrapping
</figcaption></figure>

<p>
浮動体に `margin-box$v 図形を追加した場合、内容は
`margin-box$v 丸められた隅を回込む。
◎
If you add a margin-box shape to the float, then content wraps around the rounded margin-box corners.
</p>


<pre>
shape-outside: margin-box;
</pre>

<figure>`margin-box-wrap^dgm
<figcaption>
`margin-box$v を用いる浮動体に対する回込み
◎
Float wrapping with margin-box
</figcaption></figure>
</div>

	</section>
	<section id="declaring-shapes">
<h2 title="Declaring Shapes">6. 図形の宣言法</h2>

<p>
図形は、
`shape-outside$p ~propで宣言され，
`shape-margin$p ~propによる改変も伴い得る。
`shape-outside$p, `shape-margin$p
~propで定義される図形は、浮動体の`浮動区画$の幾何を変更する。
◎
Shapes are declared with the shape-outside property, with possible modifications from the shape-margin property. The shape defined by the shape-outside and shape-margin properties changes the geometry of a float element’s float area.
</p>


		<section id="shape-outside-property">
<h3 title="Float Area Shape: the shape-outside property">6.1. 浮動区画の図形： `shape-outside^p ~prop</h3>

`●名^ `shape-outside@p
`●値^ `none$v | [ `basic-shape$t || `shape-box$t ] | `image$t
`●初^ `none$v
`●適^ `浮動体$
`●継^ されない
`●百^ 利用不可
`●媒^ 視覚的
`●算^
`basic-shape$t に対しては
<a href="#basic-shape-computed-values">基本~図形の算出値</a>
節に従う。
`image$t に対する URL は絶対~化される。
他は指定された値のまま。
◎
as defined for &lt;basic-shape&gt; (with &lt;shape-box&gt; following, if supplied), the &lt;image&gt; with its URI made absolute, otherwise as specified.
`●順^ 文法に従う
`●ア^
`basic-shape$t に対しては
<a href="#basic-shape-interpolation">基本~図形の補間</a>
節に従う。
他の値は不可。
◎
as specified for &lt;basic-shape&gt;, otherwise no
`●表終^

<p>
各種~値の意味は：
◎
The values of this property have the following meanings:
</p>

<dl>
	<dt>`none@v</dt>
	<dd>
`浮動区画$は影響されない。
◎
The float area is unaffected.
</dd>

	<dt>`shape-box$t</dt>
	<dd>
図形は、
`margin-box$v,
`border-box$v,
`padding-box$v,
`content-box$v
いずれかに基づいて，
`border-radius$p による`曲げ$も含め，対応する~boxを利用して算出される
— `background-clip$p `CSS3BG$r と類似的に。
◎
If one of these values is specified by itself the shape is computed based on one of margin-box, border-box, padding-box or content-box which use their respective boxes including curvature from border-radius, similar to background-clip [CSS3BG].
</dd>

	<dt id="valdef-shape-outside-basic-shape">`basic-shape$t</dt>
	<dd>
図形は、
`inset$f,
`circle$f,
`ellipse$f,
`polygon$f
のいずれかに基づいて算出される。
`shape-box$t も給された場合、それが `basic-shape$t 関数の`基準box$を定義する。
給されなかった場合の既定の`基準box$は、 `margin-box$v になる。
◎
The shape is computed based on the values of one of inset(), circle(), ellipse() or polygon(). If a &lt;shape-box&gt; is also supplied, this defines the reference box for the &lt;basic-shape&gt; function. If &lt;shape-box&gt; is not supplied, then the reference box defaults to margin-box.
</dd>

	<dt id="valdef-shape-outside-image">`image$t</dt>
	<dd>
図形は、指定された `image$t の~alpha~channelから
`shape-image-threshold$p にて定義されるように抽出され、それに基づいて算出される。
◎
The shape is extracted and computed based on the alpha channel of the specified &lt;image&gt; as defined by shape-image-threshold.
</dd>
	<dd>
<p>
~UAは、 `shape-outside$p 値~内のどの URL に対しても、次を用いる下で
<a href="~HTML50/infrastructure.html#cors-enabled-fetch">CORS もあり得る~fetch</a>
`HTML5$r を利用し~MUST：
</p>

		<ul>
			<li>
"Anonymous" mode を利用する
</li>
			<li>
referrer source は~stylesheetの URL に設定する
</li>
			<li>
origin は 包含している文書の URL に設定する
</li>
		</ul>

<p>
この結果が~network~errorになった場合、妥当な~fallback画像が無ければ，値 `none$v が指定されたかのようになる。
</p>
◎
User agents must use the potentially CORS-enabled fetch method defined by the [HTML5] specification for all URLs in a shape-outside value. When fetching, user agents must use "Anonymous" mode, set the referrer source to the stylesheet’s URL and set the origin to the URL of the containing document. If this results in network errors such that there is no valid fallback image, the effect is as if the value none had been specified.
</dd>

</dl>


		</section>
		<section id="shape-image-threshold-property">
<h3 title="Choosing Image Pixels: the shape-image-threshold property">6.2. 画像~内で図形を成す画素を選ぶ： `shape-image-threshold$p ~prop</h3>

<p>
`shape-image-threshold$p は、利用する図形を画像から抽出するときに利用される
~alpha~channelの閾値を定義する。
例えば値 `0.5^v は、図形は 50% より不透明な画素すべてを封入することを意味する。
◎
The shape-image-threshold defines the alpha channel threshold used to extract the shape using an image. A value of 0.5 means that the shape will enclose all the pixels that are more than 50% opaque.
</p>

`●名^ `shape-image-threshold@p
`●値^ `number$vt
`●初^ `0.0^v
`●適^ `浮動体$
`●継^ されない
`●百^ 利用不可
`●媒^ 視覚的
`●算^
指定された `number$t を，範囲 0.0 〜 1.0 に切詰めた結果
◎
The same as the specified value after clipping the &lt;number&gt; to the range [0.0,1.0]
`●順^ 文法に従う
`●ア^
`実数として$
`●表終^

<p>
各種~値の意味は：
◎
The values of this property have the following meanings:
</p>

<dl>

	<dt id="valdef-shape-image-threshold-number">`number$t</dt>
	<dd>
画像から図形を抽出するときに利用する閾値を設定する。
図形は、~alpha値がこの閾値より大きい画素で定義される。
範囲 0.0 （全~透明）〜 1.0 （全~不透明）の外側の閾値は、この範囲に切詰められる。
◎
Sets the threshold used for extracting a shape from an image. The shape is defined by the pixels whose alpha value is greater than the threshold. A threshold value outside the range 0.0 (fully transparent) to 1.0 (fully opaque) will be clamped to this range.
</dd>

</dl>

<p class="note">注記：
CSS Shapes の将来の~levelでは、画像の~alpha~dataの代わりに輝度~dataを利用する
切替え~~機能を定義し得る。
そうなった場合、 `shape-image-threshold$p による閾値は，切替え状態に依存して~alphaまたは輝度を適用するように拡張されることになる。
◎
Note: A future level of CSS Shapes may define a switch to use the luminance data from an image instead of the alpha data. When this happens, shape-image-threshold will be extended to apply its threshold to either alpha or luminance, depending on the switch state.
</p>

		</section>
		<section id="shape-margin-property">
<h3 title="Expanding a Shape: the shape-margin property">6.3. 図形の拡幅： `shape-margin$p ~prop</h3>

<p>
`shape-margin$p ~propは、
`shape-outside$p に~marginを追加する。
これは、［
元の図形の外周から外方に［
`shape-margin$p による距離
］以内の地点すべてを含むような，最小の図形を定義する。
この~propは、負の値はとれない。
◎
The shape-margin property adds a margin to a shape-outside. This defines a new shape that is the smallest contour (in the shrink-wrap sense) that includes all the points that are the shape-margin distance outward in the perpendicular direction from a point on the underlying shape. Note that at points where a perpendicular is not defined (e.g. sharp points) take all points on the circle centered at the point and with a radius of shape-margin. This property takes only non-negative values.
</p>

`●名^ `shape-margin@p
`●値^ `length$vt | `percentage$vt
`●初^ `0^v
`●適^ `浮動体$
`●継^ されない
`●百^ 利用不可
`●媒^ 視覚的
`●算^
指定値
— ただし長さは絶対~化される
◎
as specified, but with lengths made absolute
`●順^ 文法に従う
`●ア^
`長さ, 百分率, または calc 式として$
`●表終^

<dl>
    <dt id="valdef-shape-margin-length">`length$t</dt>
	<dd>
図形の~marginを，所与の `length$t に設定する。
◎
Sets the margin of the shape to the &lt;length&gt;.
</dd>

	<dt id="valdef-shape-margin-percentage">`percentage$t</dt>
	<dd>
図形の~marginを，要素の包含塊の横幅に対する百分率に設定する。
◎
Sets the margin of the shape to a percentage of the width of the element’s containing block.
</dd>

</dl>

<div class="example">

<p>
多角形の `shape-outside$p からの~offsetを作成するような
`shape-margin$p
。
薄い水色の区画は、~size `100px^v 平方の浮動体に入る図形を示す。
濃い水色の区画は、 `10px^v 分の~offsetを示す。
◎
A shape-margin creating an offset from a polygonal shape-outside. The lighter blue area shows the shape in a 100x100px float, and the darker blue area shows the 10px offset.
</p>


<pre>
.float {
  shape-outside: polygon(10px 10px, 90px 50px, 40px 50px, 90px 90px, 10px 90px);
  shape-margin: 10px;
}
</pre>

<figure>`nepal-flag-shape^dgm</figure>

</div>

<div class="example">

<p>
`shape-margin$p が
<a href="#shapes-from-image">画像による図形 節</a>
の例の CSS ~logoに追加されたならば、図形を`回込んで$いる行boxたちは，更に短縮される。
◎
If shape-margin is added to the CSS logo from example 6, the line boxes wrapping around the shape are shortened further.
</p>

<pre>
#CSSlogo { shape-margin: 35px; }
</pre>


<figure>`shape-outside-image-with-margin^dgm
<figcaption>
~alpha~channelと
`shape-margin$p `35px^v を利用して，画像の~~周りに浮動区画を成す図形
◎
A float shape around an image using its alpha-channel with a 35-pixel shape-margin
</figcaption></figure>

</div>

		</section>
	</section>
	<section id="acknowledgments">
<h2 title="Acknowledgments">謝辞</h2>

<p>
この仕様に~~協力された、次の方々に：
</p>

<div>
This specification is made possible by input from Andrei Bucur, Alexandru Chiculita, Elika Etemad, Arron Eicholz, Sylvain Galineau, Daniel Glazman, Arno Gourdol, Zoltan Horvath, Chris Jones, Bem Jones-Bey, Marcus Mielke, Alex Mogilevsky, Hans Muller, Mihnea Ovidenie, Virgil Palanciuc, Robert Sanderson, Dirk Schulze, Peter Sorotokin, Bear Travis, Eugene Veselov, Stephen Zilles and the CSS Working Group members.
</div>

	</section>
	<section id="change-log">
<h2 title="Change Log">変更~log</h2>

<p class="trans-note">【
この節の和訳は省略する。
】</p>

	</section>

</main></div>

	<section id="conformance">
<h2 title="Conformance">適合性</h2>
<p class="trans-note">【
この節の内容は
<a href="css-common-ja.html#conformance">CSS 日本語訳 共通ページ</a>
に委譲
】</p>


	</section>
	<section id="references">
<h2 title="References">参照文献</h2>

		<section id="normative">
<h3 title="Normative References">文献（規範）</h3>


<dl>

	<dt>[CSS-BACKGROUNDS-3]</dt>
	<dd>CSS Backgrounds and Borders Module Level 3</dd>
	<dd>https://drafts.csswg.org/css-backgrounds-3/</dd>

	<dt>[CSS-IMAGES-3]</dt>
	<dd>CSS Image Values and Replaced Content Module Level 3</dd>
	<dd>https://drafts.csswg.org/css-images-3/</dd>

	<dt>[CSS-MASKING]</dt>
	<dd>Dirk Schulze; Brian Birtles; Tab Atkins Jr.. CSS Masking Module Level 1. 26 August 2014. CR.</dd>
	<dd>http://dev.w3.org/fxtf/css-masking-1/</dd>

	<dt>[CSS21]</dt>
	<dd>Bert Bos; et al. Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification. 7 June 2011. REC.</dd>
	<dd>https://www.w3.org/TR/CSS2</dd>

	<dt>[CSS3BG]</dt>
	<dd>Bert Bos; Elika Etemad; Brad Kemper. CSS Backgrounds and Borders Module Level 3. 9 September 2014. CR.</dd>
	<dd>http://dev.w3.org/csswg/css3-background/</dd>

	<dt>[CSS3BOX]</dt>
	<dd>Bert Bos. CSS basic box model. 9 August 2007. WD.</dd>
	<dd>https://www.w3.org/TR/css3-box</dd>

	<dt>[CSS3VAL]</dt>
	<dd>Tab Atkins Jr.; Elika Etemad. CSS Values and Units Module Level 3. 11 June 2015. CR.</dd>
	<dd>http://dev.w3.org/csswg/css-values/</dd>

	<dt>[HTML5]</dt>
	<dd>Ian Hickson; et al. HTML5. 28 October 2014. REC.</dd>
	<dd>https://www.w3.org/html/wg/drafts/html/master/</dd>

<!-- 
	<dt>[RFC2119]</dt>
 -->
</dl>

		</section>
		<section id="informative">
<h3 title="Informative References">文献（参考）</h3>


<dl>

	<dt>[CSS3-EXCLUSIONS]</dt>
	<dd>Rossen Atanassov; Vincent Hardy; Alan Stearns. CSS Exclusions Module Level 1. 15 January 2015. WD.</dd>
	<dd>http://dev.w3.org/csswg/css-exclusions/</dd>

	<dt>[CSS3-TRANSITIONS]</dt>
	<dd>Dean Jackson; et al. CSS Transitions. 19 November 2013. WD.</dd>
	<dd>http://dev.w3.org/csswg/css-transitions/</dd>
</dl>


		</section>
	</section>
	<section id="index">
<h2 title="Index">索引</h2>
<p class="trans-note">【
この節の内容は省略（ウィンドウ下端の索引機能を利用されたし）。
】</p>

<!-- 
		<section id="index-defined-here">
<h3 title="Terms defined by this specification">この仕様にて定義される用語</h3>
		</section>
		<section id="index-defined-elsewhere">
<h3 title="Terms defined by reference">他の仕様にて定義される用語</h3>
		</section>
-->

	</section>	<section id="property-index">
<h2 title="Property Index" data-cycling=".propdef">プロパティ索引</h2>

<p class="trans-note">【
この節の内容は省略（見出しクリックで巡回）。
】</p>

	</section>
